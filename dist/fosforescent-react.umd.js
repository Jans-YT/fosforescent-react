(function(C,p){typeof exports=="object"&&typeof module<"u"?module.exports=p(require("react/jsx-runtime"),require("react"),require("react-dom")):typeof define=="function"&&define.amd?define(["react/jsx-runtime","react","react-dom"],p):(C=typeof globalThis<"u"?globalThis:C||self,C["Fosforescent React"]=p(C.jsxRuntime,C.React,C.ReactDOM))})(this,function(C,p,ot){"use strict";var PS=Object.defineProperty;var OS=(C,p,ot)=>p in C?PS(C,p,{enumerable:!0,configurable:!0,writable:!0,value:ot}):C[p]=ot;var Ys=(C,p,ot)=>(OS(C,typeof p!="symbol"?p+"":p,ot),ot);function Tl(e){const n=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(e){for(const r in e)if(r!=="default"){const i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:()=>e[r]})}}return n.default=e,Object.freeze(n)}const F=Tl(p),Ag=Tl(ot);function Vt(e,n){if(e==null)return{};var r={},i=Object.keys(e),s,c;for(c=0;c<i.length;c++)s=i[c],!(n.indexOf(s)>=0)&&(r[s]=e[s]);return r}var Tg=["color"],li=p.forwardRef(function(e,n){var r=e.color,i=r===void 0?"currentColor":r,s=Vt(e,Tg);return p.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s,{ref:n}),p.createElement("path",{d:"M4.93179 5.43179C4.75605 5.60753 4.75605 5.89245 4.93179 6.06819C5.10753 6.24392 5.39245 6.24392 5.56819 6.06819L7.49999 4.13638L9.43179 6.06819C9.60753 6.24392 9.89245 6.24392 10.0682 6.06819C10.2439 5.89245 10.2439 5.60753 10.0682 5.43179L7.81819 3.18179C7.73379 3.0974 7.61933 3.04999 7.49999 3.04999C7.38064 3.04999 7.26618 3.0974 7.18179 3.18179L4.93179 5.43179ZM10.0682 9.56819C10.2439 9.39245 10.2439 9.10753 10.0682 8.93179C9.89245 8.75606 9.60753 8.75606 9.43179 8.93179L7.49999 10.8636L5.56819 8.93179C5.39245 8.75606 5.10753 8.75606 4.93179 8.93179C4.75605 9.10753 4.75605 9.39245 4.93179 9.56819L7.18179 11.8182C7.35753 11.9939 7.64245 11.9939 7.81819 11.8182L10.0682 9.56819Z",fill:i,fillRule:"evenodd",clipRule:"evenodd"}))}),Ig=["color"],ui=p.forwardRef(function(e,n){var r=e.color,i=r===void 0?"currentColor":r,s=Vt(e,Ig);return p.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s,{ref:n}),p.createElement("path",{d:"M11.4669 3.72684C11.7558 3.91574 11.8369 4.30308 11.648 4.59198L7.39799 11.092C7.29783 11.2452 7.13556 11.3467 6.95402 11.3699C6.77247 11.3931 6.58989 11.3355 6.45446 11.2124L3.70446 8.71241C3.44905 8.48022 3.43023 8.08494 3.66242 7.82953C3.89461 7.57412 4.28989 7.55529 4.5453 7.78749L6.75292 9.79441L10.6018 3.90792C10.7907 3.61902 11.178 3.53795 11.4669 3.72684Z",fill:i,fillRule:"evenodd",clipRule:"evenodd"}))}),kg=["color"],Il=p.forwardRef(function(e,n){var r=e.color,i=r===void 0?"currentColor":r,s=Vt(e,kg);return p.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s,{ref:n}),p.createElement("path",{d:"M7.85361 1.48959C7.65835 1.29432 7.34176 1.29432 7.1465 1.48959L1.48965 7.14644C1.29439 7.3417 1.29439 7.65829 1.48965 7.85355L3.9645 10.3284L1.64644 12.6464C1.45118 12.8417 1.45118 13.1583 1.64644 13.3536C1.84171 13.5488 2.15829 13.5488 2.35355 13.3536L4.6716 11.0355L7.1465 13.5104C7.34176 13.7057 7.65835 13.7057 7.85361 13.5104L13.5105 7.85355C13.7057 7.65829 13.7057 7.3417 13.5105 7.14644L11.0356 4.67154L13.3535 2.35355C13.5488 2.15829 13.5488 1.84171 13.3535 1.64645C13.1583 1.45118 12.8417 1.45118 12.6464 1.64645L10.3285 3.96443L7.85361 1.48959ZM9.62135 4.67154L7.50005 2.55025L2.55031 7.49999L4.6716 9.62129L9.62135 4.67154ZM5.37871 10.3284L7.50005 12.4497L12.4498 7.49999L10.3285 5.37865L5.37871 10.3284Z",fill:i,fillRule:"evenodd",clipRule:"evenodd"}))}),Mg=["color"],kl=p.forwardRef(function(e,n){var r=e.color,i=r===void 0?"currentColor":r,s=Vt(e,Mg);return p.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s,{ref:n}),p.createElement("path",{d:"M11.7816 4.03157C12.0062 3.80702 12.0062 3.44295 11.7816 3.2184C11.5571 2.99385 11.193 2.99385 10.9685 3.2184L7.50005 6.68682L4.03164 3.2184C3.80708 2.99385 3.44301 2.99385 3.21846 3.2184C2.99391 3.44295 2.99391 3.80702 3.21846 4.03157L6.68688 7.49999L3.21846 10.9684C2.99391 11.193 2.99391 11.557 3.21846 11.7816C3.44301 12.0061 3.80708 12.0061 4.03164 11.7816L7.50005 8.31316L10.9685 11.7816C11.193 12.0061 11.5571 12.0061 11.7816 11.7816C12.0062 11.557 12.0062 11.193 11.7816 10.9684L8.31322 7.49999L11.7816 4.03157Z",fill:i,fillRule:"evenodd",clipRule:"evenodd"}))}),Lg=["color"],Ml=p.forwardRef(function(e,n){var r=e.color,i=r===void 0?"currentColor":r,s=Vt(e,Lg);return p.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s,{ref:n}),p.createElement("path",{d:"M7.49991 0.877075C3.84222 0.877075 0.877075 3.84222 0.877075 7.49991C0.877075 11.1576 3.84222 14.1227 7.49991 14.1227C11.1576 14.1227 14.1227 11.1576 14.1227 7.49991C14.1227 3.84222 11.1576 0.877075 7.49991 0.877075ZM1.82708 7.49991C1.82708 4.36689 4.36689 1.82707 7.49991 1.82707C10.6329 1.82707 13.1727 4.36689 13.1727 7.49991C13.1727 10.6329 10.6329 13.1727 7.49991 13.1727C4.36689 13.1727 1.82708 10.6329 1.82708 7.49991ZM8.37287 7.50006C8.37287 7.98196 7.98221 8.37263 7.5003 8.37263C7.01839 8.37263 6.62773 7.98196 6.62773 7.50006C6.62773 7.01815 7.01839 6.62748 7.5003 6.62748C7.98221 6.62748 8.37287 7.01815 8.37287 7.50006ZM9.32287 7.50006C9.32287 8.50664 8.50688 9.32263 7.5003 9.32263C6.49372 9.32263 5.67773 8.50664 5.67773 7.50006C5.67773 6.49348 6.49372 5.67748 7.5003 5.67748C8.50688 5.67748 9.32287 6.49348 9.32287 7.50006Z",fill:i,fillRule:"evenodd",clipRule:"evenodd"}))}),Fg=["color"],Wg=p.forwardRef(function(e,n){var r=e.color,i=r===void 0?"currentColor":r,s=Vt(e,Fg);return p.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s,{ref:n}),p.createElement("path",{d:"M5.5 4.625C6.12132 4.625 6.625 4.12132 6.625 3.5C6.625 2.87868 6.12132 2.375 5.5 2.375C4.87868 2.375 4.375 2.87868 4.375 3.5C4.375 4.12132 4.87868 4.625 5.5 4.625ZM9.5 4.625C10.1213 4.625 10.625 4.12132 10.625 3.5C10.625 2.87868 10.1213 2.375 9.5 2.375C8.87868 2.375 8.375 2.87868 8.375 3.5C8.375 4.12132 8.87868 4.625 9.5 4.625ZM10.625 7.5C10.625 8.12132 10.1213 8.625 9.5 8.625C8.87868 8.625 8.375 8.12132 8.375 7.5C8.375 6.87868 8.87868 6.375 9.5 6.375C10.1213 6.375 10.625 6.87868 10.625 7.5ZM5.5 8.625C6.12132 8.625 6.625 8.12132 6.625 7.5C6.625 6.87868 6.12132 6.375 5.5 6.375C4.87868 6.375 4.375 6.87868 4.375 7.5C4.375 8.12132 4.87868 8.625 5.5 8.625ZM10.625 11.5C10.625 12.1213 10.1213 12.625 9.5 12.625C8.87868 12.625 8.375 12.1213 8.375 11.5C8.375 10.8787 8.87868 10.375 9.5 10.375C10.1213 10.375 10.625 10.8787 10.625 11.5ZM5.5 12.625C6.12132 12.625 6.625 12.1213 6.625 11.5C6.625 10.8787 6.12132 10.375 5.5 10.375C4.87868 10.375 4.375 10.8787 4.375 11.5C4.375 12.1213 4.87868 12.625 5.5 12.625Z",fill:i,fillRule:"evenodd",clipRule:"evenodd"}))}),Bg=["color"],Ug=p.forwardRef(function(e,n){var r=e.color,i=r===void 0?"currentColor":r,s=Vt(e,Bg);return p.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s,{ref:n}),p.createElement("path",{d:"M7.07926 0.222253C7.31275 -0.007434 7.6873 -0.007434 7.92079 0.222253L14.6708 6.86227C14.907 7.09465 14.9101 7.47453 14.6778 7.71076C14.4454 7.947 14.0655 7.95012 13.8293 7.71773L13 6.90201V12.5C13 12.7761 12.7762 13 12.5 13H2.50002C2.22388 13 2.00002 12.7761 2.00002 12.5V6.90201L1.17079 7.71773C0.934558 7.95012 0.554672 7.947 0.32229 7.71076C0.0899079 7.47453 0.0930283 7.09465 0.32926 6.86227L7.07926 0.222253ZM7.50002 1.49163L12 5.91831V12H10V8.49999C10 8.22385 9.77617 7.99999 9.50002 7.99999H6.50002C6.22388 7.99999 6.00002 8.22385 6.00002 8.49999V12H3.00002V5.91831L7.50002 1.49163ZM7.00002 12H9.00002V8.99999H7.00002V12Z",fill:i,fillRule:"evenodd",clipRule:"evenodd"}))}),zg=["color"],Hg=p.forwardRef(function(e,n){var r=e.color,i=r===void 0?"currentColor":r,s=Vt(e,zg);return p.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s,{ref:n}),p.createElement("path",{d:"M13.9 0.499976C13.9 0.279062 13.7209 0.0999756 13.5 0.0999756C13.2791 0.0999756 13.1 0.279062 13.1 0.499976V1.09998H12.5C12.2791 1.09998 12.1 1.27906 12.1 1.49998C12.1 1.72089 12.2791 1.89998 12.5 1.89998H13.1V2.49998C13.1 2.72089 13.2791 2.89998 13.5 2.89998C13.7209 2.89998 13.9 2.72089 13.9 2.49998V1.89998H14.5C14.7209 1.89998 14.9 1.72089 14.9 1.49998C14.9 1.27906 14.7209 1.09998 14.5 1.09998H13.9V0.499976ZM11.8536 3.14642C12.0488 3.34168 12.0488 3.65826 11.8536 3.85353L10.8536 4.85353C10.6583 5.04879 10.3417 5.04879 10.1465 4.85353C9.9512 4.65827 9.9512 4.34169 10.1465 4.14642L11.1464 3.14643C11.3417 2.95116 11.6583 2.95116 11.8536 3.14642ZM9.85357 5.14642C10.0488 5.34168 10.0488 5.65827 9.85357 5.85353L2.85355 12.8535C2.65829 13.0488 2.34171 13.0488 2.14645 12.8535C1.95118 12.6583 1.95118 12.3417 2.14645 12.1464L9.14646 5.14642C9.34172 4.95116 9.65831 4.95116 9.85357 5.14642ZM13.5 5.09998C13.7209 5.09998 13.9 5.27906 13.9 5.49998V6.09998H14.5C14.7209 6.09998 14.9 6.27906 14.9 6.49998C14.9 6.72089 14.7209 6.89998 14.5 6.89998H13.9V7.49998C13.9 7.72089 13.7209 7.89998 13.5 7.89998C13.2791 7.89998 13.1 7.72089 13.1 7.49998V6.89998H12.5C12.2791 6.89998 12.1 6.72089 12.1 6.49998C12.1 6.27906 12.2791 6.09998 12.5 6.09998H13.1V5.49998C13.1 5.27906 13.2791 5.09998 13.5 5.09998ZM8.90002 0.499976C8.90002 0.279062 8.72093 0.0999756 8.50002 0.0999756C8.2791 0.0999756 8.10002 0.279062 8.10002 0.499976V1.09998H7.50002C7.2791 1.09998 7.10002 1.27906 7.10002 1.49998C7.10002 1.72089 7.2791 1.89998 7.50002 1.89998H8.10002V2.49998C8.10002 2.72089 8.2791 2.89998 8.50002 2.89998C8.72093 2.89998 8.90002 2.72089 8.90002 2.49998V1.89998H9.50002C9.72093 1.89998 9.90002 1.72089 9.90002 1.49998C9.90002 1.27906 9.72093 1.09998 9.50002 1.09998H8.90002V0.499976Z",fill:i,fillRule:"evenodd",clipRule:"evenodd"}))}),Vg=["color"],Gg=p.forwardRef(function(e,n){var r=e.color,i=r===void 0?"currentColor":r,s=Vt(e,Vg);return p.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s,{ref:n}),p.createElement("path",{d:"M10 6.5C10 8.433 8.433 10 6.5 10C4.567 10 3 8.433 3 6.5C3 4.567 4.567 3 6.5 3C8.433 3 10 4.567 10 6.5ZM9.30884 10.0159C8.53901 10.6318 7.56251 11 6.5 11C4.01472 11 2 8.98528 2 6.5C2 4.01472 4.01472 2 6.5 2C8.98528 2 11 4.01472 11 6.5C11 7.56251 10.6318 8.53901 10.0159 9.30884L12.8536 12.1464C13.0488 12.3417 13.0488 12.6583 12.8536 12.8536C12.6583 13.0488 12.3417 13.0488 12.1464 12.8536L9.30884 10.0159Z",fill:i,fillRule:"evenodd",clipRule:"evenodd"}))}),Kg=["color"],Rg=p.forwardRef(function(e,n){var r=e.color,i=r===void 0?"currentColor":r,s=Vt(e,Kg);return p.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s,{ref:n}),p.createElement("path",{d:"M2.25 7.5C2.25 7.22386 2.47386 7 2.75 7H12.25C12.5261 7 12.75 7.22386 12.75 7.5C12.75 7.77614 12.5261 8 12.25 8H2.75C2.47386 8 2.25 7.77614 2.25 7.5Z",fill:i,fillRule:"evenodd",clipRule:"evenodd"}))}),Yg=["color"],qg=p.forwardRef(function(e,n){var r=e.color,i=r===void 0?"currentColor":r,s=Vt(e,Yg);return p.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s,{ref:n}),p.createElement("path",{d:"M8 2.75C8 2.47386 7.77614 2.25 7.5 2.25C7.22386 2.25 7 2.47386 7 2.75V7H2.75C2.47386 7 2.25 7.22386 2.25 7.5C2.25 7.77614 2.47386 8 2.75 8H7V12.25C7 12.5261 7.22386 12.75 7.5 12.75C7.77614 12.75 8 12.5261 8 12.25V8H12.25C12.5261 8 12.75 7.77614 12.75 7.5C12.75 7.22386 12.5261 7 12.25 7H8V2.75Z",fill:i,fillRule:"evenodd",clipRule:"evenodd"}))}),Zg=["color"],Xg=p.forwardRef(function(e,n){var r=e.color,i=r===void 0?"currentColor":r,s=Vt(e,Zg);return p.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s,{ref:n}),p.createElement("path",{d:"M7.49991 0.876892C3.84222 0.876892 0.877075 3.84204 0.877075 7.49972C0.877075 11.1574 3.84222 14.1226 7.49991 14.1226C11.1576 14.1226 14.1227 11.1574 14.1227 7.49972C14.1227 3.84204 11.1576 0.876892 7.49991 0.876892ZM1.82707 7.49972C1.82707 4.36671 4.36689 1.82689 7.49991 1.82689C10.6329 1.82689 13.1727 4.36671 13.1727 7.49972C13.1727 10.6327 10.6329 13.1726 7.49991 13.1726C4.36689 13.1726 1.82707 10.6327 1.82707 7.49972ZM7.50003 4C7.77617 4 8.00003 4.22386 8.00003 4.5V7H10.5C10.7762 7 11 7.22386 11 7.5C11 7.77614 10.7762 8 10.5 8H8.00003V10.5C8.00003 10.7761 7.77617 11 7.50003 11C7.22389 11 7.00003 10.7761 7.00003 10.5V8H4.50003C4.22389 8 4.00003 7.77614 4.00003 7.5C4.00003 7.22386 4.22389 7 4.50003 7H7.00003V4.5C7.00003 4.22386 7.22389 4 7.50003 4Z",fill:i,fillRule:"evenodd",clipRule:"evenodd"}))});function ae(){return ae=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},ae.apply(this,arguments)}function jg(e,n){typeof e=="function"?e(n):e!=null&&(e.current=n)}function Ll(...e){return n=>e.forEach(r=>jg(r,n))}function it(...e){return p.useCallback(Ll(...e),e)}const Fn=p.forwardRef((e,n)=>{const{children:r,...i}=e,s=p.Children.toArray(r),c=s.find(Qg);if(c){const l=c.props.children,u=s.map(d=>d===c?p.Children.count(l)>1?p.Children.only(null):p.isValidElement(l)?l.props.children:null:d);return p.createElement(qs,ae({},i,{ref:n}),p.isValidElement(l)?p.cloneElement(l,void 0,u):null)}return p.createElement(qs,ae({},i,{ref:n}),r)});Fn.displayName="Slot";const qs=p.forwardRef((e,n)=>{const{children:r,...i}=e;return p.isValidElement(r)?p.cloneElement(r,{...ev(i,r.props),ref:n?Ll(n,r.ref):r.ref}):p.Children.count(r)>1?p.Children.only(null):null});qs.displayName="SlotClone";const Jg=({children:e})=>p.createElement(p.Fragment,null,e);function Qg(e){return p.isValidElement(e)&&e.type===Jg}function ev(e,n){const r={...n};for(const i in n){const s=e[i],c=n[i];/^on[A-Z]/.test(i)?s&&c?r[i]=(...u)=>{c(...u),s(...u)}:s&&(r[i]=s):i==="style"?r[i]={...s,...c}:i==="className"&&(r[i]=[s,c].filter(Boolean).join(" "))}return{...e,...r}}function Fl(e){var n,r,i="";if(typeof e=="string"||typeof e=="number")i+=e;else if(typeof e=="object")if(Array.isArray(e))for(n=0;n<e.length;n++)e[n]&&(r=Fl(e[n]))&&(i&&(i+=" "),i+=r);else for(n in e)e[n]&&(i&&(i+=" "),i+=n);return i}function Wl(){for(var e,n,r=0,i="";r<arguments.length;)(e=arguments[r++])&&(n=Fl(e))&&(i&&(i+=" "),i+=n);return i}const Bl=e=>typeof e=="boolean"?"".concat(e):e===0?"0":e,Ul=Wl,Zs=(e,n)=>r=>{var i;if((n==null?void 0:n.variants)==null)return Ul(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:s,defaultVariants:c}=n,l=Object.keys(s).map(h=>{const m=r==null?void 0:r[h],v=c==null?void 0:c[h];if(m===null)return null;const y=Bl(m)||Bl(v);return s[h][y]}),u=r&&Object.entries(r).reduce((h,m)=>{let[v,y]=m;return y===void 0||(h[v]=y),h},{}),d=n==null||(i=n.compoundVariants)===null||i===void 0?void 0:i.reduce((h,m)=>{let{class:v,className:y,...w}=m;return Object.entries(w).every(E=>{let[g,x]=E;return Array.isArray(x)?x.includes({...c,...u}[g]):{...c,...u}[g]===x})?[...h,v,y]:h},[]);return Ul(e,l,d,r==null?void 0:r.class,r==null?void 0:r.className)};function tv(){for(var e=0,n,r,i="";e<arguments.length;)(n=arguments[e++])&&(r=zl(n))&&(i&&(i+=" "),i+=r);return i}function zl(e){if(typeof e=="string")return e;for(var n,r="",i=0;i<e.length;i++)e[i]&&(n=zl(e[i]))&&(r&&(r+=" "),r+=n);return r}var Xs="-";function nv(e){var n=ov(e),r=e.conflictingClassGroups,i=e.conflictingClassGroupModifiers,s=i===void 0?{}:i;function c(u){var d=u.split(Xs);return d[0]===""&&d.length!==1&&d.shift(),Hl(d,n)||rv(u)}function l(u,d){var h=r[u]||[];return d&&s[u]?[].concat(h,s[u]):h}return{getClassGroupId:c,getConflictingClassGroupIds:l}}function Hl(e,n){var l;if(e.length===0)return n.classGroupId;var r=e[0],i=n.nextPart.get(r),s=i?Hl(e.slice(1),i):void 0;if(s)return s;if(n.validators.length!==0){var c=e.join(Xs);return(l=n.validators.find(function(u){var d=u.validator;return d(c)}))==null?void 0:l.classGroupId}}var Vl=/^\[(.+)\]$/;function rv(e){if(Vl.test(e)){var n=Vl.exec(e)[1],r=n==null?void 0:n.substring(0,n.indexOf(":"));if(r)return"arbitrary.."+r}}function ov(e){var n=e.theme,r=e.prefix,i={nextPart:new Map,validators:[]},s=sv(Object.entries(e.classGroups),r);return s.forEach(function(c){var l=c[0],u=c[1];js(u,i,l,n)}),i}function js(e,n,r,i){e.forEach(function(s){if(typeof s=="string"){var c=s===""?n:Gl(n,s);c.classGroupId=r;return}if(typeof s=="function"){if(iv(s)){js(s(i),n,r,i);return}n.validators.push({validator:s,classGroupId:r});return}Object.entries(s).forEach(function(l){var u=l[0],d=l[1];js(d,Gl(n,u),r,i)})})}function Gl(e,n){var r=e;return n.split(Xs).forEach(function(i){r.nextPart.has(i)||r.nextPart.set(i,{nextPart:new Map,validators:[]}),r=r.nextPart.get(i)}),r}function iv(e){return e.isThemeGetter}function sv(e,n){return n?e.map(function(r){var i=r[0],s=r[1],c=s.map(function(l){return typeof l=="string"?n+l:typeof l=="object"?Object.fromEntries(Object.entries(l).map(function(u){var d=u[0],h=u[1];return[n+d,h]})):l});return[i,c]}):e}function av(e){if(e<1)return{get:function(){},set:function(){}};var n=0,r=new Map,i=new Map;function s(c,l){r.set(c,l),n++,n>e&&(n=0,i=r,r=new Map)}return{get:function(l){var u=r.get(l);if(u!==void 0)return u;if((u=i.get(l))!==void 0)return s(l,u),u},set:function(l,u){r.has(l)?r.set(l,u):s(l,u)}}}var Kl="!";function cv(e){var n=e.separator||":",r=n.length===1,i=n[0],s=n.length;return function(l){for(var u=[],d=0,h=0,m,v=0;v<l.length;v++){var y=l[v];if(d===0){if(y===i&&(r||l.slice(v,v+s)===n)){u.push(l.slice(h,v)),h=v+s;continue}if(y==="/"){m=v;continue}}y==="["?d++:y==="]"&&d--}var w=u.length===0?l:l.substring(h),E=w.startsWith(Kl),g=E?w.substring(1):w,x=m&&m>h?m-h:void 0;return{modifiers:u,hasImportantModifier:E,baseClassName:g,maybePostfixModifierPosition:x}}}function lv(e){if(e.length<=1)return e;var n=[],r=[];return e.forEach(function(i){var s=i[0]==="[";s?(n.push.apply(n,r.sort().concat([i])),r=[]):r.push(i)}),n.push.apply(n,r.sort()),n}function uv(e){return{cache:av(e.cacheSize),splitModifiers:cv(e),...nv(e)}}var dv=/\s+/;function fv(e,n){var r=n.splitModifiers,i=n.getClassGroupId,s=n.getConflictingClassGroupIds,c=new Set;return e.trim().split(dv).map(function(l){var u=r(l),d=u.modifiers,h=u.hasImportantModifier,m=u.baseClassName,v=u.maybePostfixModifierPosition,y=i(v?m.substring(0,v):m),w=!!v;if(!y){if(!v)return{isTailwindClass:!1,originalClassName:l};if(y=i(m),!y)return{isTailwindClass:!1,originalClassName:l};w=!1}var E=lv(d).join(":"),g=h?E+Kl:E;return{isTailwindClass:!0,modifierId:g,classGroupId:y,originalClassName:l,hasPostfixModifier:w}}).reverse().filter(function(l){if(!l.isTailwindClass)return!0;var u=l.modifierId,d=l.classGroupId,h=l.hasPostfixModifier,m=u+d;return c.has(m)?!1:(c.add(m),s(d,h).forEach(function(v){return c.add(u+v)}),!0)}).reverse().map(function(l){return l.originalClassName}).join(" ")}function hv(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i,s,c,l=u;function u(h){var m=n[0],v=n.slice(1),y=v.reduce(function(w,E){return E(w)},m());return i=uv(y),s=i.cache.get,c=i.cache.set,l=d,d(h)}function d(h){var m=s(h);if(m)return m;var v=fv(h,i);return c(h,v),v}return function(){return l(tv.apply(null,arguments))}}function He(e){var n=function(i){return i[e]||[]};return n.isThemeGetter=!0,n}var Rl=/^\[(?:([a-z-]+):)?(.+)\]$/i,pv=/^\d+\/\d+$/,gv=new Set(["px","full","screen"]),vv=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,mv=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,wv=/^-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/;function on(e){return ar(e)||gv.has(e)||pv.test(e)||Js(e)}function Js(e){return cr(e,"length",Ev)}function bv(e){return cr(e,"size",Yl)}function yv(e){return cr(e,"position",Yl)}function xv(e){return cr(e,"url",Nv)}function di(e){return cr(e,"number",ar)}function ar(e){return!Number.isNaN(Number(e))}function Cv(e){return e.endsWith("%")&&ar(e.slice(0,-1))}function uo(e){return ql(e)||cr(e,"number",ql)}function Ce(e){return Rl.test(e)}function fo(){return!0}function Wn(e){return vv.test(e)}function $v(e){return cr(e,"",Sv)}function cr(e,n,r){var i=Rl.exec(e);return i?i[1]?i[1]===n:r(i[2]):!1}function Ev(e){return mv.test(e)}function Yl(){return!1}function Nv(e){return e.startsWith("url(")}function ql(e){return Number.isInteger(Number(e))}function Sv(e){return wv.test(e)}function Dv(){var e=He("colors"),n=He("spacing"),r=He("blur"),i=He("brightness"),s=He("borderColor"),c=He("borderRadius"),l=He("borderSpacing"),u=He("borderWidth"),d=He("contrast"),h=He("grayscale"),m=He("hueRotate"),v=He("invert"),y=He("gap"),w=He("gradientColorStops"),E=He("gradientColorStopPositions"),g=He("inset"),x=He("margin"),$=He("opacity"),P=He("padding"),S=He("saturate"),_=He("scale"),A=He("sepia"),k=He("skew"),T=He("space"),M=He("translate"),U=function(){return["auto","contain","none"]},R=function(){return["auto","hidden","clip","visible","scroll"]},X=function(){return["auto",Ce,n]},Z=function(){return[Ce,n]},oe=function(){return["",on]},q=function(){return["auto",ar,Ce]},ee=function(){return["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"]},ne=function(){return["solid","dashed","dotted","double","none"]},se=function(){return["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter"]},fe=function(){return["start","end","center","between","around","evenly","stretch"]},G=function(){return["","0",Ce]},J=function(){return["auto","avoid","all","avoid-page","page","left","right","column"]},Q=function(){return[ar,di]},te=function(){return[ar,Ce]};return{cacheSize:500,theme:{colors:[fo],spacing:[on],blur:["none","",Wn,Ce],brightness:Q(),borderColor:[e],borderRadius:["none","","full",Wn,Ce],borderSpacing:Z(),borderWidth:oe(),contrast:Q(),grayscale:G(),hueRotate:te(),invert:G(),gap:Z(),gradientColorStops:[e],gradientColorStopPositions:[Cv,Js],inset:X(),margin:X(),opacity:Q(),padding:Z(),saturate:Q(),scale:Q(),sepia:G(),skew:te(),space:Z(),translate:Z()},classGroups:{aspect:[{aspect:["auto","square","video",Ce]}],container:["container"],columns:[{columns:[Wn]}],"break-after":[{"break-after":J()}],"break-before":[{"break-before":J()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none"]}],clear:[{clear:["left","right","both","none"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[].concat(ee(),[Ce])}],overflow:[{overflow:R()}],"overflow-x":[{"overflow-x":R()}],"overflow-y":[{"overflow-y":R()}],overscroll:[{overscroll:U()}],"overscroll-x":[{"overscroll-x":U()}],"overscroll-y":[{"overscroll-y":U()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",uo]}],basis:[{basis:X()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Ce]}],grow:[{grow:G()}],shrink:[{shrink:G()}],order:[{order:["first","last","none",uo]}],"grid-cols":[{"grid-cols":[fo]}],"col-start-end":[{col:["auto",{span:["full",uo]},Ce]}],"col-start":[{"col-start":q()}],"col-end":[{"col-end":q()}],"grid-rows":[{"grid-rows":[fo]}],"row-start-end":[{row:["auto",{span:[uo]},Ce]}],"row-start":[{"row-start":q()}],"row-end":[{"row-end":q()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Ce]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Ce]}],gap:[{gap:[y]}],"gap-x":[{"gap-x":[y]}],"gap-y":[{"gap-y":[y]}],"justify-content":[{justify:["normal"].concat(fe())}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal"].concat(fe(),["baseline"])}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[].concat(fe(),["baseline"])}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[P]}],px:[{px:[P]}],py:[{py:[P]}],ps:[{ps:[P]}],pe:[{pe:[P]}],pt:[{pt:[P]}],pr:[{pr:[P]}],pb:[{pb:[P]}],pl:[{pl:[P]}],m:[{m:[x]}],mx:[{mx:[x]}],my:[{my:[x]}],ms:[{ms:[x]}],me:[{me:[x]}],mt:[{mt:[x]}],mr:[{mr:[x]}],mb:[{mb:[x]}],ml:[{ml:[x]}],"space-x":[{"space-x":[T]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[T]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit",Ce,n]}],"min-w":[{"min-w":["min","max","fit",Ce,on]}],"max-w":[{"max-w":["0","none","full","min","max","fit","prose",{screen:[Wn]},Wn,Ce]}],h:[{h:[Ce,n,"auto","min","max","fit"]}],"min-h":[{"min-h":["min","max","fit",Ce,on]}],"max-h":[{"max-h":[Ce,n,"min","max","fit"]}],"font-size":[{text:["base",Wn,Js]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",di]}],"font-family":[{font:[fo]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Ce]}],"line-clamp":[{"line-clamp":["none",ar,di]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Ce,on]}],"list-image":[{"list-image":["none",Ce]}],"list-style-type":[{list:["none","disc","decimal",Ce]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[$]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[$]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[].concat(ne(),["wavy"])}],"text-decoration-thickness":[{decoration:["auto","from-font",on]}],"underline-offset":[{"underline-offset":["auto",Ce,on]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],indent:[{indent:Z()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ce]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ce]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[$]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[].concat(ee(),[yv])}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",bv]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},xv]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[E]}],"gradient-via-pos":[{via:[E]}],"gradient-to-pos":[{to:[E]}],"gradient-from":[{from:[w]}],"gradient-via":[{via:[w]}],"gradient-to":[{to:[w]}],rounded:[{rounded:[c]}],"rounded-s":[{"rounded-s":[c]}],"rounded-e":[{"rounded-e":[c]}],"rounded-t":[{"rounded-t":[c]}],"rounded-r":[{"rounded-r":[c]}],"rounded-b":[{"rounded-b":[c]}],"rounded-l":[{"rounded-l":[c]}],"rounded-ss":[{"rounded-ss":[c]}],"rounded-se":[{"rounded-se":[c]}],"rounded-ee":[{"rounded-ee":[c]}],"rounded-es":[{"rounded-es":[c]}],"rounded-tl":[{"rounded-tl":[c]}],"rounded-tr":[{"rounded-tr":[c]}],"rounded-br":[{"rounded-br":[c]}],"rounded-bl":[{"rounded-bl":[c]}],"border-w":[{border:[u]}],"border-w-x":[{"border-x":[u]}],"border-w-y":[{"border-y":[u]}],"border-w-s":[{"border-s":[u]}],"border-w-e":[{"border-e":[u]}],"border-w-t":[{"border-t":[u]}],"border-w-r":[{"border-r":[u]}],"border-w-b":[{"border-b":[u]}],"border-w-l":[{"border-l":[u]}],"border-opacity":[{"border-opacity":[$]}],"border-style":[{border:[].concat(ne(),["hidden"])}],"divide-x":[{"divide-x":[u]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[u]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[$]}],"divide-style":[{divide:ne()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:[""].concat(ne())}],"outline-offset":[{"outline-offset":[Ce,on]}],"outline-w":[{outline:[on]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:oe()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[$]}],"ring-offset-w":[{"ring-offset":[on]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Wn,$v]}],"shadow-color":[{shadow:[fo]}],opacity:[{opacity:[$]}],"mix-blend":[{"mix-blend":se()}],"bg-blend":[{"bg-blend":se()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[i]}],contrast:[{contrast:[d]}],"drop-shadow":[{"drop-shadow":["","none",Wn,Ce]}],grayscale:[{grayscale:[h]}],"hue-rotate":[{"hue-rotate":[m]}],invert:[{invert:[v]}],saturate:[{saturate:[S]}],sepia:[{sepia:[A]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[i]}],"backdrop-contrast":[{"backdrop-contrast":[d]}],"backdrop-grayscale":[{"backdrop-grayscale":[h]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[m]}],"backdrop-invert":[{"backdrop-invert":[v]}],"backdrop-opacity":[{"backdrop-opacity":[$]}],"backdrop-saturate":[{"backdrop-saturate":[S]}],"backdrop-sepia":[{"backdrop-sepia":[A]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[l]}],"border-spacing-x":[{"border-spacing-x":[l]}],"border-spacing-y":[{"border-spacing-y":[l]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Ce]}],duration:[{duration:te()}],ease:[{ease:["linear","in","out","in-out",Ce]}],delay:[{delay:te()}],animate:[{animate:["none","spin","ping","pulse","bounce",Ce]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[_]}],"scale-x":[{"scale-x":[_]}],"scale-y":[{"scale-y":[_]}],rotate:[{rotate:[uo,Ce]}],"translate-x":[{"translate-x":[M]}],"translate-y":[{"translate-y":[M]}],"skew-x":[{"skew-x":[k]}],"skew-y":[{"skew-y":[k]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Ce]}],accent:[{accent:["auto",e]}],appearance:["appearance-none"],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ce]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":Z()}],"scroll-mx":[{"scroll-mx":Z()}],"scroll-my":[{"scroll-my":Z()}],"scroll-ms":[{"scroll-ms":Z()}],"scroll-me":[{"scroll-me":Z()}],"scroll-mt":[{"scroll-mt":Z()}],"scroll-mr":[{"scroll-mr":Z()}],"scroll-mb":[{"scroll-mb":Z()}],"scroll-ml":[{"scroll-ml":Z()}],"scroll-p":[{"scroll-p":Z()}],"scroll-px":[{"scroll-px":Z()}],"scroll-py":[{"scroll-py":Z()}],"scroll-ps":[{"scroll-ps":Z()}],"scroll-pe":[{"scroll-pe":Z()}],"scroll-pt":[{"scroll-pt":Z()}],"scroll-pr":[{"scroll-pr":Z()}],"scroll-pb":[{"scroll-pb":Z()}],"scroll-pl":[{"scroll-pl":Z()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","pinch-zoom","manipulation",{pan:["x","left","right","y","up","down"]}]}],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ce]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[on,di]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}}var _v=hv(Dv);function Le(...e){return _v(Wl(e))}const Pv=Zs("inline-flex items-center justify-center rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),ye=F.forwardRef(({className:e,variant:n,size:r,asChild:i=!1,...s},c)=>{const l=i?Fn:"button";return C.jsx(l,{className:Le(Pv({variant:n,size:r,className:e})),ref:c,...s})});ye.displayName="Button";var Ov={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Av=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();var tt=(e,n)=>{const r=p.forwardRef(({color:i="currentColor",size:s=24,strokeWidth:c=2,absoluteStrokeWidth:l,children:u,...d},h)=>p.createElement("svg",{ref:h,...Ov,width:s,height:s,stroke:i,strokeWidth:l?Number(c)*24/Number(s):c,className:`lucide lucide-${Av(e)}`,...d},[...n.map(([m,v])=>p.createElement(m,v)),...(Array.isArray(u)?u:[u])||[]]));return r.displayName=`${e}`,r};const Tv=tt("Boxes",[["path",{d:"M2.97 12.92A2 2 0 0 0 2 14.63v3.24a2 2 0 0 0 .97 1.71l3 1.8a2 2 0 0 0 2.06 0L12 19v-5.5l-5-3-4.03 2.42Z",key:"lc1i9w"}],["path",{d:"m7 16.5-4.74-2.85",key:"1o9zyk"}],["path",{d:"m7 16.5 5-3",key:"va8pkn"}],["path",{d:"M7 16.5v5.17",key:"jnp8gn"}],["path",{d:"M12 13.5V19l3.97 2.38a2 2 0 0 0 2.06 0l3-1.8a2 2 0 0 0 .97-1.71v-3.24a2 2 0 0 0-.97-1.71L17 10.5l-5 3Z",key:"8zsnat"}],["path",{d:"m17 16.5-5-3",key:"8arw3v"}],["path",{d:"m17 16.5 4.74-2.85",key:"8rfmw"}],["path",{d:"M17 16.5v5.17",key:"k6z78m"}],["path",{d:"M7.97 4.42A2 2 0 0 0 7 6.13v4.37l5 3 5-3V6.13a2 2 0 0 0-.97-1.71l-3-1.8a2 2 0 0 0-2.06 0l-3 1.8Z",key:"1xygjf"}],["path",{d:"M12 8 7.26 5.15",key:"1vbdud"}],["path",{d:"m12 8 4.74-2.85",key:"3rx089"}],["path",{d:"M12 13.5V8",key:"1io7kd"}]]),xn=tt("BrainCircuit",[["path",{d:"M12 4.5a2.5 2.5 0 0 0-4.96-.46 2.5 2.5 0 0 0-1.98 3 2.5 2.5 0 0 0-1.32 4.24 3 3 0 0 0 .34 5.58 2.5 2.5 0 0 0 2.96 3.08 2.5 2.5 0 0 0 4.91.05L12 20V4.5Z",key:"ixwj2a"}],["path",{d:"M16 8V5c0-1.1.9-2 2-2",key:"13dx7u"}],["path",{d:"M12 13h4",key:"1ku699"}],["path",{d:"M12 18h6a2 2 0 0 1 2 2v1",key:"105ag5"}],["path",{d:"M12 8h8",key:"1lhi5i"}],["path",{d:"M20.5 8a.5.5 0 1 1-1 0 .5.5 0 0 1 1 0Z",key:"1s25gz"}],["path",{d:"M16.5 13a.5.5 0 1 1-1 0 .5.5 0 0 1 1 0Z",key:"127460"}],["path",{d:"M20.5 21a.5.5 0 1 1-1 0 .5.5 0 0 1 1 0Z",key:"fys062"}],["path",{d:"M18.5 3a.5.5 0 1 1-1 0 .5.5 0 0 1 1 0Z",key:"1vib61"}]]),Iv=tt("Check",[["polyline",{points:"20 6 9 17 4 12",key:"10jjfj"}]]),Zl=tt("ChevronDownCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m16 10-4 4-4-4",key:"894hmk"}]]),kv=tt("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),Xl=tt("ChevronRightCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m10 8 4 4-4 4",key:"1wy4r4"}]]),Mv=tt("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),jl=tt("CircleEllipsis",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M17 12h.01",key:"1m0b6t"}],["path",{d:"M12 12h.01",key:"1mp3jc"}],["path",{d:"M7 12h.01",key:"eqddd0"}]]),Lv=tt("Dices",[["rect",{width:"12",height:"12",x:"2",y:"10",rx:"2",ry:"2",key:"6agr2n"}],["path",{d:"m17.92 14 3.5-3.5a2.24 2.24 0 0 0 0-3l-5-4.92a2.24 2.24 0 0 0-3 0L10 6",key:"1o487t"}],["path",{d:"M6 18h.01",key:"uhywen"}],["path",{d:"M10 14h.01",key:"ssrbsk"}],["path",{d:"M15 6h.01",key:"cblpky"}],["path",{d:"M18 9h.01",key:"2061c0"}]]),Fv=tt("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]),Wv=tt("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),Jl=tt("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]),Bv=tt("Merge",[["path",{d:"m8 6 4-4 4 4",key:"ybng9g"}],["path",{d:"M12 2v10.3a4 4 0 0 1-1.172 2.872L4 22",key:"1hyw0i"}],["path",{d:"m20 22-5-5",key:"1m27yz"}]]),Uv=tt("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]),zv=tt("PlusCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]),Ql=tt("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),Hv=tt("Timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]]),eu=tt("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),tu=tt("Trash",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]]),Vv=tt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function nt(e,n,{checkForDefaultPrevented:r=!0}={}){return function(s){if(e==null||e(s),r===!1||!s.defaultPrevented)return n==null?void 0:n(s)}}function ho(e,n=[]){let r=[];function i(c,l){const u=p.createContext(l),d=r.length;r=[...r,l];function h(v){const{scope:y,children:w,...E}=v,g=(y==null?void 0:y[e][d])||u,x=p.useMemo(()=>E,Object.values(E));return p.createElement(g.Provider,{value:x},w)}function m(v,y){const w=(y==null?void 0:y[e][d])||u,E=p.useContext(w);if(E)return E;if(l!==void 0)return l;throw new Error(`\`${v}\` must be used within \`${c}\``)}return h.displayName=c+"Provider",[h,m]}const s=()=>{const c=r.map(l=>p.createContext(l));return function(u){const d=(u==null?void 0:u[e])||c;return p.useMemo(()=>({[`__scope${e}`]:{...u,[e]:d}}),[u,d])}};return s.scopeName=e,[i,Gv(s,...n)]}function Gv(...e){const n=e[0];if(e.length===1)return n;const r=()=>{const i=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(c){const l=i.reduce((u,{useScope:d,scopeName:h})=>{const v=d(c)[`__scope${h}`];return{...u,...v}},{});return p.useMemo(()=>({[`__scope${n.scopeName}`]:l}),[l])}};return r.scopeName=n.scopeName,r}const Sr=globalThis!=null&&globalThis.document?p.useLayoutEffect:()=>{},Kv=F["useId".toString()]||(()=>{});let Rv=0;function fi(e){const[n,r]=F.useState(Kv());return Sr(()=>{e||r(i=>i??String(Rv++))},[e]),e||(n?`radix-${n}`:"")}function Gt(e){const n=p.useRef(e);return p.useEffect(()=>{n.current=e}),p.useMemo(()=>(...r)=>{var i;return(i=n.current)===null||i===void 0?void 0:i.call(n,...r)},[])}function Qs({prop:e,defaultProp:n,onChange:r=()=>{}}){const[i,s]=Yv({defaultProp:n,onChange:r}),c=e!==void 0,l=c?e:i,u=Gt(r),d=p.useCallback(h=>{if(c){const v=typeof h=="function"?h(e):h;v!==e&&u(v)}else s(h)},[c,e,s,u]);return[l,d]}function Yv({defaultProp:e,onChange:n}){const r=p.useState(e),[i]=r,s=p.useRef(i),c=Gt(n);return p.useEffect(()=>{s.current!==i&&(c(i),s.current=i)},[i,s,c]),r}const ht=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"].reduce((e,n)=>{const r=p.forwardRef((i,s)=>{const{asChild:c,...l}=i,u=c?Fn:n;return p.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),p.createElement(u,ae({},l,{ref:s}))});return r.displayName=`Primitive.${n}`,{...e,[n]:r}},{});function nu(e,n){e&&ot.flushSync(()=>e.dispatchEvent(n))}function ru(e,n=globalThis==null?void 0:globalThis.document){const r=Gt(e);p.useEffect(()=>{const i=s=>{s.key==="Escape"&&r(s)};return n.addEventListener("keydown",i),()=>n.removeEventListener("keydown",i)},[r,n])}const ea="dismissableLayer.update",qv="dismissableLayer.pointerDownOutside",Zv="dismissableLayer.focusOutside";let ou;const Xv=p.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),jv=p.forwardRef((e,n)=>{var r;const{disableOutsidePointerEvents:i=!1,onEscapeKeyDown:s,onPointerDownOutside:c,onFocusOutside:l,onInteractOutside:u,onDismiss:d,...h}=e,m=p.useContext(Xv),[v,y]=p.useState(null),w=(r=v==null?void 0:v.ownerDocument)!==null&&r!==void 0?r:globalThis==null?void 0:globalThis.document,[,E]=p.useState({}),g=it(n,M=>y(M)),x=Array.from(m.layers),[$]=[...m.layersWithOutsidePointerEventsDisabled].slice(-1),P=x.indexOf($),S=v?x.indexOf(v):-1,_=m.layersWithOutsidePointerEventsDisabled.size>0,A=S>=P,k=Jv(M=>{const U=M.target,R=[...m.branches].some(X=>X.contains(U));!A||R||(c==null||c(M),u==null||u(M),M.defaultPrevented||d==null||d())},w),T=Qv(M=>{const U=M.target;[...m.branches].some(X=>X.contains(U))||(l==null||l(M),u==null||u(M),M.defaultPrevented||d==null||d())},w);return ru(M=>{S===m.layers.size-1&&(s==null||s(M),!M.defaultPrevented&&d&&(M.preventDefault(),d()))},w),p.useEffect(()=>{if(v)return i&&(m.layersWithOutsidePointerEventsDisabled.size===0&&(ou=w.body.style.pointerEvents,w.body.style.pointerEvents="none"),m.layersWithOutsidePointerEventsDisabled.add(v)),m.layers.add(v),iu(),()=>{i&&m.layersWithOutsidePointerEventsDisabled.size===1&&(w.body.style.pointerEvents=ou)}},[v,w,i,m]),p.useEffect(()=>()=>{v&&(m.layers.delete(v),m.layersWithOutsidePointerEventsDisabled.delete(v),iu())},[v,m]),p.useEffect(()=>{const M=()=>E({});return document.addEventListener(ea,M),()=>document.removeEventListener(ea,M)},[]),p.createElement(ht.div,ae({},h,{ref:g,style:{pointerEvents:_?A?"auto":"none":void 0,...e.style},onFocusCapture:nt(e.onFocusCapture,T.onFocusCapture),onBlurCapture:nt(e.onBlurCapture,T.onBlurCapture),onPointerDownCapture:nt(e.onPointerDownCapture,k.onPointerDownCapture)}))});function Jv(e,n=globalThis==null?void 0:globalThis.document){const r=Gt(e),i=p.useRef(!1),s=p.useRef(()=>{});return p.useEffect(()=>{const c=u=>{if(u.target&&!i.current){let h=function(){su(qv,r,d,{discrete:!0})};const d={originalEvent:u};u.pointerType==="touch"?(n.removeEventListener("click",s.current),s.current=h,n.addEventListener("click",s.current,{once:!0})):h()}i.current=!1},l=window.setTimeout(()=>{n.addEventListener("pointerdown",c)},0);return()=>{window.clearTimeout(l),n.removeEventListener("pointerdown",c),n.removeEventListener("click",s.current)}},[n,r]),{onPointerDownCapture:()=>i.current=!0}}function Qv(e,n=globalThis==null?void 0:globalThis.document){const r=Gt(e),i=p.useRef(!1);return p.useEffect(()=>{const s=c=>{c.target&&!i.current&&su(Zv,r,{originalEvent:c},{discrete:!1})};return n.addEventListener("focusin",s),()=>n.removeEventListener("focusin",s)},[n,r]),{onFocusCapture:()=>i.current=!0,onBlurCapture:()=>i.current=!1}}function iu(){const e=new CustomEvent(ea);document.dispatchEvent(e)}function su(e,n,r,{discrete:i}){const s=r.originalEvent.target,c=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});n&&s.addEventListener(e,n,{once:!0}),i?nu(s,c):s.dispatchEvent(c)}const ta="focusScope.autoFocusOnMount",na="focusScope.autoFocusOnUnmount",au={bubbles:!1,cancelable:!0},e0=p.forwardRef((e,n)=>{const{loop:r=!1,trapped:i=!1,onMountAutoFocus:s,onUnmountAutoFocus:c,...l}=e,[u,d]=p.useState(null),h=Gt(s),m=Gt(c),v=p.useRef(null),y=it(n,g=>d(g)),w=p.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;p.useEffect(()=>{if(i){let g=function(S){if(w.paused||!u)return;const _=S.target;u.contains(_)?v.current=_:Bn(v.current,{select:!0})},x=function(S){if(w.paused||!u)return;const _=S.relatedTarget;_!==null&&(u.contains(_)||Bn(v.current,{select:!0}))},$=function(S){const _=document.activeElement;for(const A of S)A.removedNodes.length>0&&(u!=null&&u.contains(_)||Bn(u))};document.addEventListener("focusin",g),document.addEventListener("focusout",x);const P=new MutationObserver($);return u&&P.observe(u,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",x),P.disconnect()}}},[i,u,w.paused]),p.useEffect(()=>{if(u){uu.add(w);const g=document.activeElement;if(!u.contains(g)){const $=new CustomEvent(ta,au);u.addEventListener(ta,h),u.dispatchEvent($),$.defaultPrevented||(t0(s0(cu(u)),{select:!0}),document.activeElement===g&&Bn(u))}return()=>{u.removeEventListener(ta,h),setTimeout(()=>{const $=new CustomEvent(na,au);u.addEventListener(na,m),u.dispatchEvent($),$.defaultPrevented||Bn(g??document.body,{select:!0}),u.removeEventListener(na,m),uu.remove(w)},0)}}},[u,h,m,w]);const E=p.useCallback(g=>{if(!r&&!i||w.paused)return;const x=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,$=document.activeElement;if(x&&$){const P=g.currentTarget,[S,_]=n0(P);S&&_?!g.shiftKey&&$===_?(g.preventDefault(),r&&Bn(S,{select:!0})):g.shiftKey&&$===S&&(g.preventDefault(),r&&Bn(_,{select:!0})):$===P&&g.preventDefault()}},[r,i,w.paused]);return p.createElement(ht.div,ae({tabIndex:-1},l,{ref:y,onKeyDown:E}))});function t0(e,{select:n=!1}={}){const r=document.activeElement;for(const i of e)if(Bn(i,{select:n}),document.activeElement!==r)return}function n0(e){const n=cu(e),r=lu(n,e),i=lu(n.reverse(),e);return[r,i]}function cu(e){const n=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:i=>{const s=i.tagName==="INPUT"&&i.type==="hidden";return i.disabled||i.hidden||s?NodeFilter.FILTER_SKIP:i.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)n.push(r.currentNode);return n}function lu(e,n){for(const r of e)if(!r0(r,{upTo:n}))return r}function r0(e,{upTo:n}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(n!==void 0&&e===n)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function o0(e){return e instanceof HTMLInputElement&&"select"in e}function Bn(e,{select:n=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&o0(e)&&n&&e.select()}}const uu=i0();function i0(){let e=[];return{add(n){const r=e[0];n!==r&&(r==null||r.pause()),e=du(e,n),e.unshift(n)},remove(n){var r;e=du(e,n),(r=e[0])===null||r===void 0||r.resume()}}}function du(e,n){const r=[...e],i=r.indexOf(n);return i!==-1&&r.splice(i,1),r}function s0(e){return e.filter(n=>n.tagName!=="A")}const a0=p.forwardRef((e,n)=>{var r;const{container:i=globalThis==null||(r=globalThis.document)===null||r===void 0?void 0:r.body,...s}=e;return i?ot.createPortal(p.createElement(ht.div,ae({},s,{ref:n})),i):null});function c0(e,n){return p.useReducer((r,i)=>{const s=n[r][i];return s??r},e)}const Dr=e=>{const{present:n,children:r}=e,i=l0(n),s=typeof r=="function"?r({present:i.isPresent}):p.Children.only(r),c=it(i.ref,s.ref);return typeof r=="function"||i.isPresent?p.cloneElement(s,{ref:c}):null};Dr.displayName="Presence";function l0(e){const[n,r]=p.useState(),i=p.useRef({}),s=p.useRef(e),c=p.useRef("none"),l=e?"mounted":"unmounted",[u,d]=c0(l,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return p.useEffect(()=>{const h=hi(i.current);c.current=u==="mounted"?h:"none"},[u]),Sr(()=>{const h=i.current,m=s.current;if(m!==e){const y=c.current,w=hi(h);e?d("MOUNT"):w==="none"||(h==null?void 0:h.display)==="none"?d("UNMOUNT"):d(m&&y!==w?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,d]),Sr(()=>{if(n){const h=v=>{const w=hi(i.current).includes(v.animationName);v.target===n&&w&&ot.flushSync(()=>d("ANIMATION_END"))},m=v=>{v.target===n&&(c.current=hi(i.current))};return n.addEventListener("animationstart",m),n.addEventListener("animationcancel",h),n.addEventListener("animationend",h),()=>{n.removeEventListener("animationstart",m),n.removeEventListener("animationcancel",h),n.removeEventListener("animationend",h)}}else d("ANIMATION_END")},[n,d]),{isPresent:["mounted","unmountSuspended"].includes(u),ref:p.useCallback(h=>{h&&(i.current=getComputedStyle(h)),r(h)},[])}}function hi(e){return(e==null?void 0:e.animationName)||"none"}let ra=0;function fu(){p.useEffect(()=>{var e,n;const r=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",(e=r[0])!==null&&e!==void 0?e:hu()),document.body.insertAdjacentElement("beforeend",(n=r[1])!==null&&n!==void 0?n:hu()),ra++,()=>{ra===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(i=>i.remove()),ra--}},[])}function hu(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.cssText="outline: none; opacity: 0; position: fixed; pointer-events: none",e}var mt=function(){return mt=Object.assign||function(n){for(var r,i=1,s=arguments.length;i<s;i++){r=arguments[i];for(var c in r)Object.prototype.hasOwnProperty.call(r,c)&&(n[c]=r[c])}return n},mt.apply(this,arguments)};function oa(e,n){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&n.indexOf(i)<0&&(r[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(e);s<i.length;s++)n.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(e,i[s])&&(r[i[s]]=e[i[s]]);return r}function pu(e,n,r){if(r||arguments.length===2)for(var i=0,s=n.length,c;i<s;i++)(c||!(i in n))&&(c||(c=Array.prototype.slice.call(n,0,i)),c[i]=n[i]);return e.concat(c||Array.prototype.slice.call(n))}typeof SuppressedError=="function"&&SuppressedError;var po="right-scroll-bar-position",go="width-before-scroll-bar",u0="with-scroll-bars-hidden",d0="--removed-body-scroll-bar-size";function f0(e,n){return typeof e=="function"?e(n):e&&(e.current=n),e}function h0(e,n){var r=p.useState(function(){return{value:e,callback:n,facade:{get current(){return r.value},set current(i){var s=r.value;s!==i&&(r.value=i,r.callback(i,s))}}}})[0];return r.callback=n,r.facade}function gu(e,n){return h0(n||null,function(r){return e.forEach(function(i){return f0(i,r)})})}function p0(e){return e}function g0(e,n){n===void 0&&(n=p0);var r=[],i=!1,s={read:function(){if(i)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(c){var l=n(c,i);return r.push(l),function(){r=r.filter(function(u){return u!==l})}},assignSyncMedium:function(c){for(i=!0;r.length;){var l=r;r=[],l.forEach(c)}r={push:function(u){return c(u)},filter:function(){return r}}},assignMedium:function(c){i=!0;var l=[];if(r.length){var u=r;r=[],u.forEach(c),l=r}var d=function(){var m=l;l=[],m.forEach(c)},h=function(){return Promise.resolve().then(d)};h(),r={push:function(m){l.push(m),h()},filter:function(m){return l=l.filter(m),r}}}};return s}function vu(e){e===void 0&&(e={});var n=g0(null);return n.options=mt({async:!0,ssr:!1},e),n}var mu=function(e){var n=e.sideCar,r=oa(e,["sideCar"]);if(!n)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var i=n.read();if(!i)throw new Error("Sidecar medium not found");return F.createElement(i,mt({},r))};mu.isSideCarExport=!0;function wu(e,n){return e.useMedium(n),mu}var bu=vu(),ia=function(){},pi=F.forwardRef(function(e,n){var r=F.useRef(null),i=F.useState({onScrollCapture:ia,onWheelCapture:ia,onTouchMoveCapture:ia}),s=i[0],c=i[1],l=e.forwardProps,u=e.children,d=e.className,h=e.removeScrollBar,m=e.enabled,v=e.shards,y=e.sideCar,w=e.noIsolation,E=e.inert,g=e.allowPinchZoom,x=e.as,$=x===void 0?"div":x,P=oa(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as"]),S=y,_=gu([r,n]),A=mt(mt({},P),s);return F.createElement(F.Fragment,null,m&&F.createElement(S,{sideCar:bu,removeScrollBar:h,shards:v,noIsolation:w,inert:E,setCallbacks:c,allowPinchZoom:!!g,lockRef:r}),l?F.cloneElement(F.Children.only(u),mt(mt({},A),{ref:_})):F.createElement($,mt({},A,{className:d,ref:_}),u))});pi.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1},pi.classNames={fullWidth:go,zeroRight:po};var yu,v0=function(){if(yu)return yu;if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function m0(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var n=v0();return n&&e.setAttribute("nonce",n),e}function w0(e,n){e.styleSheet?e.styleSheet.cssText=n:e.appendChild(document.createTextNode(n))}function b0(e){var n=document.head||document.getElementsByTagName("head")[0];n.appendChild(e)}var y0=function(){var e=0,n=null;return{add:function(r){e==0&&(n=m0())&&(w0(n,r),b0(n)),e++},remove:function(){e--,!e&&n&&(n.parentNode&&n.parentNode.removeChild(n),n=null)}}},x0=function(){var e=y0();return function(n,r){F.useEffect(function(){return e.add(n),function(){e.remove()}},[n&&r])}},sa=function(){var e=x0(),n=function(r){var i=r.styles,s=r.dynamic;return e(i,s),null};return n},C0={left:0,top:0,right:0,gap:0},aa=function(e){return parseInt(e||"",10)||0},$0=function(e){var n=window.getComputedStyle(document.body),r=n[e==="padding"?"paddingLeft":"marginLeft"],i=n[e==="padding"?"paddingTop":"marginTop"],s=n[e==="padding"?"paddingRight":"marginRight"];return[aa(r),aa(i),aa(s)]},E0=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return C0;var n=$0(e),r=document.documentElement.clientWidth,i=window.innerWidth;return{left:n[0],top:n[1],right:n[2],gap:Math.max(0,i-r+n[2]-n[0])}},N0=sa(),S0=function(e,n,r,i){var s=e.left,c=e.top,l=e.right,u=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(u0,` {
   overflow: hidden `).concat(i,`;
   padding-right: `).concat(u,"px ").concat(i,`;
  }
  body {
    overflow: hidden `).concat(i,`;
    overscroll-behavior: contain;
    `).concat([n&&"position: relative ".concat(i,";"),r==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(c,`px;
    padding-right: `).concat(l,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(u,"px ").concat(i,`;
    `),r==="padding"&&"padding-right: ".concat(u,"px ").concat(i,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(po,` {
    right: `).concat(u,"px ").concat(i,`;
  }
  
  .`).concat(go,` {
    margin-right: `).concat(u,"px ").concat(i,`;
  }
  
  .`).concat(po," .").concat(po,` {
    right: 0 `).concat(i,`;
  }
  
  .`).concat(go," .").concat(go,` {
    margin-right: 0 `).concat(i,`;
  }
  
  body {
    `).concat(d0,": ").concat(u,`px;
  }
`)},xu=function(e){var n=e.noRelative,r=e.noImportant,i=e.gapMode,s=i===void 0?"margin":i,c=F.useMemo(function(){return E0(s)},[s]);return F.createElement(N0,{styles:S0(c,!n,s,r?"":"!important")})},ca=!1;if(typeof window<"u")try{var gi=Object.defineProperty({},"passive",{get:function(){return ca=!0,!0}});window.addEventListener("test",gi,gi),window.removeEventListener("test",gi,gi)}catch{ca=!1}var _r=ca?{passive:!1}:!1,D0=function(e){return e.tagName==="TEXTAREA"},Cu=function(e,n){var r=window.getComputedStyle(e);return r[n]!=="hidden"&&!(r.overflowY===r.overflowX&&!D0(e)&&r[n]==="visible")},_0=function(e){return Cu(e,"overflowY")},P0=function(e){return Cu(e,"overflowX")},$u=function(e,n){var r=n;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=Eu(e,r);if(i){var s=Nu(e,r),c=s[1],l=s[2];if(c>l)return!0}r=r.parentNode}while(r&&r!==document.body);return!1},O0=function(e){var n=e.scrollTop,r=e.scrollHeight,i=e.clientHeight;return[n,r,i]},A0=function(e){var n=e.scrollLeft,r=e.scrollWidth,i=e.clientWidth;return[n,r,i]},Eu=function(e,n){return e==="v"?_0(n):P0(n)},Nu=function(e,n){return e==="v"?O0(n):A0(n)},T0=function(e,n){return e==="h"&&n==="rtl"?-1:1},I0=function(e,n,r,i,s){var c=T0(e,window.getComputedStyle(n).direction),l=c*i,u=r.target,d=n.contains(u),h=!1,m=l>0,v=0,y=0;do{var w=Nu(e,u),E=w[0],g=w[1],x=w[2],$=g-x-c*E;(E||$)&&Eu(e,u)&&(v+=$,y+=E),u=u.parentNode}while(!d&&u!==document.body||d&&(n.contains(u)||n===u));return(m&&(s&&v===0||!s&&l>v)||!m&&(s&&y===0||!s&&-l>y))&&(h=!0),h},vi=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Su=function(e){return[e.deltaX,e.deltaY]},Du=function(e){return e&&"current"in e?e.current:e},k0=function(e,n){return e[0]===n[0]&&e[1]===n[1]},M0=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},L0=0,Pr=[];function F0(e){var n=F.useRef([]),r=F.useRef([0,0]),i=F.useRef(),s=F.useState(L0++)[0],c=F.useState(function(){return sa()})[0],l=F.useRef(e);F.useEffect(function(){l.current=e},[e]),F.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var g=pu([e.lockRef.current],(e.shards||[]).map(Du),!0).filter(Boolean);return g.forEach(function(x){return x.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),g.forEach(function(x){return x.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var u=F.useCallback(function(g,x){if("touches"in g&&g.touches.length===2)return!l.current.allowPinchZoom;var $=vi(g),P=r.current,S="deltaX"in g?g.deltaX:P[0]-$[0],_="deltaY"in g?g.deltaY:P[1]-$[1],A,k=g.target,T=Math.abs(S)>Math.abs(_)?"h":"v";if("touches"in g&&T==="h"&&k.type==="range")return!1;var M=$u(T,k);if(!M)return!0;if(M?A=T:(A=T==="v"?"h":"v",M=$u(T,k)),!M)return!1;if(!i.current&&"changedTouches"in g&&(S||_)&&(i.current=A),!A)return!0;var U=i.current||A;return I0(U,x,g,U==="h"?S:_,!0)},[]),d=F.useCallback(function(g){var x=g;if(!(!Pr.length||Pr[Pr.length-1]!==c)){var $="deltaY"in x?Su(x):vi(x),P=n.current.filter(function(A){return A.name===x.type&&A.target===x.target&&k0(A.delta,$)})[0];if(P&&P.should){x.cancelable&&x.preventDefault();return}if(!P){var S=(l.current.shards||[]).map(Du).filter(Boolean).filter(function(A){return A.contains(x.target)}),_=S.length>0?u(x,S[0]):!l.current.noIsolation;_&&x.cancelable&&x.preventDefault()}}},[]),h=F.useCallback(function(g,x,$,P){var S={name:g,delta:x,target:$,should:P};n.current.push(S),setTimeout(function(){n.current=n.current.filter(function(_){return _!==S})},1)},[]),m=F.useCallback(function(g){r.current=vi(g),i.current=void 0},[]),v=F.useCallback(function(g){h(g.type,Su(g),g.target,u(g,e.lockRef.current))},[]),y=F.useCallback(function(g){h(g.type,vi(g),g.target,u(g,e.lockRef.current))},[]);F.useEffect(function(){return Pr.push(c),e.setCallbacks({onScrollCapture:v,onWheelCapture:v,onTouchMoveCapture:y}),document.addEventListener("wheel",d,_r),document.addEventListener("touchmove",d,_r),document.addEventListener("touchstart",m,_r),function(){Pr=Pr.filter(function(g){return g!==c}),document.removeEventListener("wheel",d,_r),document.removeEventListener("touchmove",d,_r),document.removeEventListener("touchstart",m,_r)}},[]);var w=e.removeScrollBar,E=e.inert;return F.createElement(F.Fragment,null,E?F.createElement(c,{styles:M0(s)}):null,w?F.createElement(xu,{gapMode:"margin"}):null)}const W0=wu(bu,F0);var _u=F.forwardRef(function(e,n){return F.createElement(pi,mt({},e,{ref:n,sideCar:W0}))});_u.classNames=pi.classNames;const Pu=_u;var B0=function(e){if(typeof document>"u")return null;var n=Array.isArray(e)?e[0]:e;return n.ownerDocument.body},Or=new WeakMap,mi=new WeakMap,wi={},la=0,Ou=function(e){return e&&(e.host||Ou(e.parentNode))},U0=function(e,n){return n.map(function(r){if(e.contains(r))return r;var i=Ou(r);return i&&e.contains(i)?i:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},z0=function(e,n,r,i){var s=U0(n,Array.isArray(e)?e:[e]);wi[r]||(wi[r]=new WeakMap);var c=wi[r],l=[],u=new Set,d=new Set(s),h=function(v){!v||u.has(v)||(u.add(v),h(v.parentNode))};s.forEach(h);var m=function(v){!v||d.has(v)||Array.prototype.forEach.call(v.children,function(y){if(u.has(y))m(y);else{var w=y.getAttribute(i),E=w!==null&&w!=="false",g=(Or.get(y)||0)+1,x=(c.get(y)||0)+1;Or.set(y,g),c.set(y,x),l.push(y),g===1&&E&&mi.set(y,!0),x===1&&y.setAttribute(r,"true"),E||y.setAttribute(i,"true")}})};return m(n),u.clear(),la++,function(){l.forEach(function(v){var y=Or.get(v)-1,w=c.get(v)-1;Or.set(v,y),c.set(v,w),y||(mi.has(v)||v.removeAttribute(i),mi.delete(v)),w||v.removeAttribute(r)}),la--,la||(Or=new WeakMap,Or=new WeakMap,mi=new WeakMap,wi={})}},ua=function(e,n,r){r===void 0&&(r="data-aria-hidden");var i=Array.from(Array.isArray(e)?e:[e]),s=n||B0(e);return s?(i.push.apply(i,Array.from(s.querySelectorAll("[aria-live]"))),z0(i,s,r,"aria-hidden")):function(){return null}};const Au="Dialog",[Tu,IS]=ho(Au),[H0,hn]=Tu(Au),V0=e=>{const{__scopeDialog:n,children:r,open:i,defaultOpen:s,onOpenChange:c,modal:l=!0}=e,u=p.useRef(null),d=p.useRef(null),[h=!1,m]=Qs({prop:i,defaultProp:s,onChange:c});return p.createElement(H0,{scope:n,triggerRef:u,contentRef:d,contentId:fi(),titleId:fi(),descriptionId:fi(),open:h,onOpenChange:m,onOpenToggle:p.useCallback(()=>m(v=>!v),[m]),modal:l},r)},Iu="DialogPortal",[G0,ku]=Tu(Iu,{forceMount:void 0}),K0=e=>{const{__scopeDialog:n,forceMount:r,children:i,container:s}=e,c=hn(Iu,n);return p.createElement(G0,{scope:n,forceMount:r},p.Children.map(i,l=>p.createElement(Dr,{present:r||c.open},p.createElement(a0,{asChild:!0,container:s},l))))},da="DialogOverlay",R0=p.forwardRef((e,n)=>{const r=ku(da,e.__scopeDialog),{forceMount:i=r.forceMount,...s}=e,c=hn(da,e.__scopeDialog);return c.modal?p.createElement(Dr,{present:i||c.open},p.createElement(Y0,ae({},s,{ref:n}))):null}),Y0=p.forwardRef((e,n)=>{const{__scopeDialog:r,...i}=e,s=hn(da,r);return p.createElement(Pu,{as:Fn,allowPinchZoom:!0,shards:[s.contentRef]},p.createElement(ht.div,ae({"data-state":Lu(s.open)},i,{ref:n,style:{pointerEvents:"auto",...i.style}})))}),vo="DialogContent",q0=p.forwardRef((e,n)=>{const r=ku(vo,e.__scopeDialog),{forceMount:i=r.forceMount,...s}=e,c=hn(vo,e.__scopeDialog);return p.createElement(Dr,{present:i||c.open},c.modal?p.createElement(Z0,ae({},s,{ref:n})):p.createElement(X0,ae({},s,{ref:n})))}),Z0=p.forwardRef((e,n)=>{const r=hn(vo,e.__scopeDialog),i=p.useRef(null),s=it(n,r.contentRef,i);return p.useEffect(()=>{const c=i.current;if(c)return ua(c)},[]),p.createElement(Mu,ae({},e,{ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:nt(e.onCloseAutoFocus,c=>{var l;c.preventDefault(),(l=r.triggerRef.current)===null||l===void 0||l.focus()}),onPointerDownOutside:nt(e.onPointerDownOutside,c=>{const l=c.detail.originalEvent,u=l.button===0&&l.ctrlKey===!0;(l.button===2||u)&&c.preventDefault()}),onFocusOutside:nt(e.onFocusOutside,c=>c.preventDefault())}))}),X0=p.forwardRef((e,n)=>{const r=hn(vo,e.__scopeDialog),i=p.useRef(!1),s=p.useRef(!1);return p.createElement(Mu,ae({},e,{ref:n,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:c=>{var l;if((l=e.onCloseAutoFocus)===null||l===void 0||l.call(e,c),!c.defaultPrevented){var u;i.current||(u=r.triggerRef.current)===null||u===void 0||u.focus(),c.preventDefault()}i.current=!1,s.current=!1},onInteractOutside:c=>{var l,u;(l=e.onInteractOutside)===null||l===void 0||l.call(e,c),c.defaultPrevented||(i.current=!0,c.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const d=c.target;((u=r.triggerRef.current)===null||u===void 0?void 0:u.contains(d))&&c.preventDefault(),c.detail.originalEvent.type==="focusin"&&s.current&&c.preventDefault()}}))}),Mu=p.forwardRef((e,n)=>{const{__scopeDialog:r,trapFocus:i,onOpenAutoFocus:s,onCloseAutoFocus:c,...l}=e,u=hn(vo,r),d=p.useRef(null),h=it(n,d);return fu(),p.createElement(p.Fragment,null,p.createElement(e0,{asChild:!0,loop:!0,trapped:i,onMountAutoFocus:s,onUnmountAutoFocus:c},p.createElement(jv,ae({role:"dialog",id:u.contentId,"aria-describedby":u.descriptionId,"aria-labelledby":u.titleId,"data-state":Lu(u.open)},l,{ref:h,onDismiss:()=>u.onOpenChange(!1)}))),!1)}),j0="DialogTitle",J0=p.forwardRef((e,n)=>{const{__scopeDialog:r,...i}=e,s=hn(j0,r);return p.createElement(ht.h2,ae({id:s.titleId},i,{ref:n}))}),Q0="DialogDescription",em=p.forwardRef((e,n)=>{const{__scopeDialog:r,...i}=e,s=hn(Q0,r);return p.createElement(ht.p,ae({id:s.descriptionId},i,{ref:n}))}),tm="DialogClose",nm=p.forwardRef((e,n)=>{const{__scopeDialog:r,...i}=e,s=hn(tm,r);return p.createElement(ht.button,ae({type:"button"},i,{ref:n,onClick:nt(e.onClick,()=>s.onOpenChange(!1))}))});function Lu(e){return e?"open":"closed"}const rm=V0,bi=K0,yi=R0,xi=q0,Ci=J0,$i=em,Fu=nm,Wu=rm,Bu=({className:e,...n})=>C.jsx(bi,{className:Le(e),...n});Bu.displayName=bi.displayName;const Uu=F.forwardRef(({className:e,...n},r)=>C.jsx(yi,{className:Le("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...n,ref:r}));Uu.displayName=yi.displayName;const om=Zs("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4 border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),fa=F.forwardRef(({side:e="right",className:n,children:r,...i},s)=>C.jsxs(Bu,{children:[C.jsx(Uu,{}),C.jsxs(xi,{ref:s,className:Le(om({side:e}),n),...i,children:[r,C.jsxs(Fu,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[C.jsx(kl,{className:"h-4 w-4"}),C.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));fa.displayName=xi.displayName;const ha=({className:e,...n})=>C.jsx("div",{className:Le("flex flex-col space-y-2 text-center sm:text-left",e),...n});ha.displayName="SheetHeader";const im=F.forwardRef(({className:e,...n},r)=>C.jsx(Ci,{ref:r,className:Le("text-lg font-semibold text-foreground",e),...n}));im.displayName=Ci.displayName;const sm=F.forwardRef(({className:e,...n},r)=>C.jsx($i,{ref:r,className:Le("text-sm text-muted-foreground",e),...n}));sm.displayName=$i.displayName;const Ei=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Ar(e){const n=Object.prototype.toString.call(e);return n==="[object Window]"||n==="[object global]"}function pa(e){return"nodeType"in e}function Kt(e){var n,r;return e?Ar(e)?e:pa(e)&&(n=(r=e.ownerDocument)==null?void 0:r.defaultView)!=null?n:window:window}function ga(e){const{Document:n}=Kt(e);return e instanceof n}function Tr(e){return Ar(e)?!1:e instanceof Kt(e).HTMLElement}function am(e){return e instanceof Kt(e).SVGElement}function Ir(e){return e?Ar(e)?e.document:pa(e)?ga(e)?e:Tr(e)?e.ownerDocument:document:document:document}const mo=Ei?p.useLayoutEffect:p.useEffect;function cm(e){const n=p.useRef(e);return mo(()=>{n.current=e}),p.useCallback(function(){for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n.current==null?void 0:n.current(...i)},[])}function lm(){const e=p.useRef(null),n=p.useCallback((i,s)=>{e.current=setInterval(i,s)},[]),r=p.useCallback(()=>{e.current!==null&&(clearInterval(e.current),e.current=null)},[]);return[n,r]}function Ni(e,n){n===void 0&&(n=[e]);const r=p.useRef(e);return mo(()=>{r.current!==e&&(r.current=e)},n),r}function wo(e,n){const r=p.useRef();return p.useMemo(()=>{const i=e(r.current);return r.current=i,i},[...n])}function va(e){const n=cm(e),r=p.useRef(null),i=p.useCallback(s=>{s!==r.current&&(n==null||n(s,r.current)),r.current=s},[]);return[r,i]}let ma={};function Si(e,n){return p.useMemo(()=>{if(n)return n;const r=ma[e]==null?0:ma[e]+1;return ma[e]=r,e+"-"+r},[e,n])}function zu(e){return function(n){for(var r=arguments.length,i=new Array(r>1?r-1:0),s=1;s<r;s++)i[s-1]=arguments[s];return i.reduce((c,l)=>{const u=Object.entries(l);for(const[d,h]of u){const m=c[d];m!=null&&(c[d]=m+e*h)}return c},{...n})}}const bo=zu(1),Hu=zu(-1);function um(e){return"clientX"in e&&"clientY"in e}function dm(e){if(!e)return!1;const{KeyboardEvent:n}=Kt(e.target);return n&&e instanceof n}function fm(e){if(!e)return!1;const{TouchEvent:n}=Kt(e.target);return n&&e instanceof n}function wa(e){if(fm(e)){if(e.touches&&e.touches.length){const{clientX:n,clientY:r}=e.touches[0];return{x:n,y:r}}else if(e.changedTouches&&e.changedTouches.length){const{clientX:n,clientY:r}=e.changedTouches[0];return{x:n,y:r}}}return um(e)?{x:e.clientX,y:e.clientY}:null}const Di=Object.freeze({Translate:{toString(e){if(!e)return;const{x:n,y:r}=e;return"translate3d("+(n?Math.round(n):0)+"px, "+(r?Math.round(r):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:n,scaleY:r}=e;return"scaleX("+n+") scaleY("+r+")"}},Transform:{toString(e){if(e)return[Di.Translate.toString(e),Di.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:n,duration:r,easing:i}=e;return n+" "+r+"ms "+i}}});function kr(e,n,{checkForDefaultPrevented:r=!0}={}){return function(s){if(e==null||e(s),r===!1||!s.defaultPrevented)return n==null?void 0:n(s)}}function hm(e,n){typeof e=="function"?e(n):e!=null&&(e.current=n)}function Vu(...e){return n=>e.forEach(r=>hm(r,n))}function yo(...e){return p.useCallback(Vu(...e),e)}function pm(e,n=[]){let r=[];function i(c,l){const u=p.createContext(l),d=r.length;r=[...r,l];function h(v){const{scope:y,children:w,...E}=v,g=(y==null?void 0:y[e][d])||u,x=p.useMemo(()=>E,Object.values(E));return p.createElement(g.Provider,{value:x},w)}function m(v,y){const w=(y==null?void 0:y[e][d])||u,E=p.useContext(w);if(E)return E;if(l!==void 0)return l;throw new Error(`\`${v}\` must be used within \`${c}\``)}return h.displayName=c+"Provider",[h,m]}const s=()=>{const c=r.map(l=>p.createContext(l));return function(u){const d=(u==null?void 0:u[e])||c;return p.useMemo(()=>({[`__scope${e}`]:{...u,[e]:d}}),[u,d])}};return s.scopeName=e,[i,gm(s,...n)]}function gm(...e){const n=e[0];if(e.length===1)return n;const r=()=>{const i=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(c){const l=i.reduce((u,{useScope:d,scopeName:h})=>{const v=d(c)[`__scope${h}`];return{...u,...v}},{});return p.useMemo(()=>({[`__scope${n.scopeName}`]:l}),[l])}};return r.scopeName=n.scopeName,r}const ba=globalThis!=null&&globalThis.document?p.useLayoutEffect:()=>{},vm=F["useId".toString()]||(()=>{});let mm=0;function ya(e){const[n,r]=F.useState(vm());return ba(()=>{e||r(i=>i??String(mm++))},[e]),e||(n?`radix-${n}`:"")}function lr(e){const n=p.useRef(e);return p.useEffect(()=>{n.current=e}),p.useMemo(()=>(...r)=>{var i;return(i=n.current)===null||i===void 0?void 0:i.call(n,...r)},[])}function wm({prop:e,defaultProp:n,onChange:r=()=>{}}){const[i,s]=bm({defaultProp:n,onChange:r}),c=e!==void 0,l=c?e:i,u=lr(r),d=p.useCallback(h=>{if(c){const v=typeof h=="function"?h(e):h;v!==e&&u(v)}else s(h)},[c,e,s,u]);return[l,d]}function bm({defaultProp:e,onChange:n}){const r=p.useState(e),[i]=r,s=p.useRef(i),c=lr(n);return p.useEffect(()=>{s.current!==i&&(c(i),s.current=i)},[i,s,c]),r}const xa=p.forwardRef((e,n)=>{const{children:r,...i}=e,s=p.Children.toArray(r),c=s.find(xm);if(c){const l=c.props.children,u=s.map(d=>d===c?p.Children.count(l)>1?p.Children.only(null):p.isValidElement(l)?l.props.children:null:d);return p.createElement(Ca,ae({},i,{ref:n}),p.isValidElement(l)?p.cloneElement(l,void 0,u):null)}return p.createElement(Ca,ae({},i,{ref:n}),r)});xa.displayName="Slot";const Ca=p.forwardRef((e,n)=>{const{children:r,...i}=e;return p.isValidElement(r)?p.cloneElement(r,{...Cm(i,r.props),ref:Vu(n,r.ref)}):p.Children.count(r)>1?p.Children.only(null):null});Ca.displayName="SlotClone";const ym=({children:e})=>p.createElement(p.Fragment,null,e);function xm(e){return p.isValidElement(e)&&e.type===ym}function Cm(e,n){const r={...n};for(const i in n){const s=e[i],c=n[i];/^on[A-Z]/.test(i)?r[i]=(...u)=>{c==null||c(...u),s==null||s(...u)}:i==="style"?r[i]={...s,...c}:i==="className"&&(r[i]=[s,c].filter(Boolean).join(" "))}return{...e,...r}}const _i=["a","button","div","h2","h3","img","li","nav","ol","p","span","svg","ul"].reduce((e,n)=>{const r=p.forwardRef((i,s)=>{const{asChild:c,...l}=i,u=c?xa:n;return p.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),p.createElement(u,ae({},l,{ref:s}))});return r.displayName=`Primitive.${n}`,{...e,[n]:r}},{});function $m(e,n){e&&ot.flushSync(()=>e.dispatchEvent(n))}function Em(e){const n=lr(e);p.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return document.addEventListener("keydown",r),()=>document.removeEventListener("keydown",r)},[n])}const $a="dismissableLayer.update",Nm="dismissableLayer.pointerDownOutside",Sm="dismissableLayer.focusOutside";let Gu;const Dm=p.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),_m=p.forwardRef((e,n)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:i,onPointerDownOutside:s,onFocusOutside:c,onInteractOutside:l,onDismiss:u,...d}=e,h=p.useContext(Dm),[m,v]=p.useState(null),[,y]=p.useState({}),w=yo(n,k=>v(k)),E=Array.from(h.layers),[g]=[...h.layersWithOutsidePointerEventsDisabled].slice(-1),x=E.indexOf(g),$=m?E.indexOf(m):-1,P=h.layersWithOutsidePointerEventsDisabled.size>0,S=$>=x,_=Pm(k=>{const T=k.target,M=[...h.branches].some(U=>U.contains(T));!S||M||(s==null||s(k),l==null||l(k),k.defaultPrevented||u==null||u())}),A=Om(k=>{const T=k.target;[...h.branches].some(U=>U.contains(T))||(c==null||c(k),l==null||l(k),k.defaultPrevented||u==null||u())});return Em(k=>{$===h.layers.size-1&&(i==null||i(k),!k.defaultPrevented&&u&&(k.preventDefault(),u()))}),p.useEffect(()=>{if(m)return r&&(h.layersWithOutsidePointerEventsDisabled.size===0&&(Gu=document.body.style.pointerEvents,document.body.style.pointerEvents="none"),h.layersWithOutsidePointerEventsDisabled.add(m)),h.layers.add(m),Ku(),()=>{r&&h.layersWithOutsidePointerEventsDisabled.size===1&&(document.body.style.pointerEvents=Gu)}},[m,r,h]),p.useEffect(()=>()=>{m&&(h.layers.delete(m),h.layersWithOutsidePointerEventsDisabled.delete(m),Ku())},[m,h]),p.useEffect(()=>{const k=()=>y({});return document.addEventListener($a,k),()=>document.removeEventListener($a,k)},[]),p.createElement(_i.div,ae({},d,{ref:w,style:{pointerEvents:P?S?"auto":"none":void 0,...e.style},onFocusCapture:kr(e.onFocusCapture,A.onFocusCapture),onBlurCapture:kr(e.onBlurCapture,A.onBlurCapture),onPointerDownCapture:kr(e.onPointerDownCapture,_.onPointerDownCapture)}))});function Pm(e){const n=lr(e),r=p.useRef(!1),i=p.useRef(()=>{});return p.useEffect(()=>{const s=l=>{if(l.target&&!r.current){let d=function(){Ru(Nm,n,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(document.removeEventListener("click",i.current),i.current=d,document.addEventListener("click",i.current,{once:!0})):d()}r.current=!1},c=window.setTimeout(()=>{document.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(c),document.removeEventListener("pointerdown",s),document.removeEventListener("click",i.current)}},[n]),{onPointerDownCapture:()=>r.current=!0}}function Om(e){const n=lr(e),r=p.useRef(!1);return p.useEffect(()=>{const i=s=>{s.target&&!r.current&&Ru(Sm,n,{originalEvent:s},{discrete:!1})};return document.addEventListener("focusin",i),()=>document.removeEventListener("focusin",i)},[n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function Ku(){const e=new CustomEvent($a);document.dispatchEvent(e)}function Ru(e,n,r,{discrete:i}){const s=r.originalEvent.target,c=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});n&&s.addEventListener(e,n,{once:!0}),i?$m(s,c):s.dispatchEvent(c)}const Ea="focusScope.autoFocusOnMount",Na="focusScope.autoFocusOnUnmount",Yu={bubbles:!1,cancelable:!0},Am=p.forwardRef((e,n)=>{const{loop:r=!1,trapped:i=!1,onMountAutoFocus:s,onUnmountAutoFocus:c,...l}=e,[u,d]=p.useState(null),h=lr(s),m=lr(c),v=p.useRef(null),y=yo(n,g=>d(g)),w=p.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;p.useEffect(()=>{if(i){let g=function($){if(w.paused||!u)return;const P=$.target;u.contains(P)?v.current=P:ur(v.current,{select:!0})},x=function($){w.paused||!u||u.contains($.relatedTarget)||ur(v.current,{select:!0})};return document.addEventListener("focusin",g),document.addEventListener("focusout",x),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",x)}}},[i,u,w.paused]),p.useEffect(()=>{if(u){Xu.add(w);const g=document.activeElement;if(!u.contains(g)){const $=new CustomEvent(Ea,Yu);u.addEventListener(Ea,h),u.dispatchEvent($),$.defaultPrevented||(Tm(Fm(qu(u)),{select:!0}),document.activeElement===g&&ur(u))}return()=>{u.removeEventListener(Ea,h),setTimeout(()=>{const $=new CustomEvent(Na,Yu);u.addEventListener(Na,m),u.dispatchEvent($),$.defaultPrevented||ur(g??document.body,{select:!0}),u.removeEventListener(Na,m),Xu.remove(w)},0)}}},[u,h,m,w]);const E=p.useCallback(g=>{if(!r&&!i||w.paused)return;const x=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,$=document.activeElement;if(x&&$){const P=g.currentTarget,[S,_]=Im(P);S&&_?!g.shiftKey&&$===_?(g.preventDefault(),r&&ur(S,{select:!0})):g.shiftKey&&$===S&&(g.preventDefault(),r&&ur(_,{select:!0})):$===P&&g.preventDefault()}},[r,i,w.paused]);return p.createElement(_i.div,ae({tabIndex:-1},l,{ref:y,onKeyDown:E}))});function Tm(e,{select:n=!1}={}){const r=document.activeElement;for(const i of e)if(ur(i,{select:n}),document.activeElement!==r)return}function Im(e){const n=qu(e),r=Zu(n,e),i=Zu(n.reverse(),e);return[r,i]}function qu(e){const n=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:i=>{const s=i.tagName==="INPUT"&&i.type==="hidden";return i.disabled||i.hidden||s?NodeFilter.FILTER_SKIP:i.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)n.push(r.currentNode);return n}function Zu(e,n){for(const r of e)if(!km(r,{upTo:n}))return r}function km(e,{upTo:n}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(n!==void 0&&e===n)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function Mm(e){return e instanceof HTMLInputElement&&"select"in e}function ur(e,{select:n=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&Mm(e)&&n&&e.select()}}const Xu=Lm();function Lm(){let e=[];return{add(n){const r=e[0];n!==r&&(r==null||r.pause()),e=ju(e,n),e.unshift(n)},remove(n){var r;e=ju(e,n),(r=e[0])===null||r===void 0||r.resume()}}}function ju(e,n){const r=[...e],i=r.indexOf(n);return i!==-1&&r.splice(i,1),r}function Fm(e){return e.filter(n=>n.tagName!=="A")}const Wm=p.forwardRef((e,n)=>{var r;const{container:i=globalThis==null||(r=globalThis.document)===null||r===void 0?void 0:r.body,...s}=e;return i?ot.createPortal(p.createElement(_i.div,ae({},s,{ref:n})),i):null});function Bm(e,n){return p.useReducer((r,i)=>{const s=n[r][i];return s??r},e)}const Pi=e=>{const{present:n,children:r}=e,i=Um(n),s=typeof r=="function"?r({present:i.isPresent}):p.Children.only(r),c=yo(i.ref,s.ref);return typeof r=="function"||i.isPresent?p.cloneElement(s,{ref:c}):null};Pi.displayName="Presence";function Um(e){const[n,r]=p.useState(),i=p.useRef({}),s=p.useRef(e),c=p.useRef("none"),l=e?"mounted":"unmounted",[u,d]=Bm(l,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return p.useEffect(()=>{const h=Oi(i.current);c.current=u==="mounted"?h:"none"},[u]),ba(()=>{const h=i.current,m=s.current;if(m!==e){const y=c.current,w=Oi(h);e?d("MOUNT"):w==="none"||(h==null?void 0:h.display)==="none"?d("UNMOUNT"):d(m&&y!==w?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,d]),ba(()=>{if(n){const h=v=>{const w=Oi(i.current).includes(v.animationName);v.target===n&&w&&ot.flushSync(()=>d("ANIMATION_END"))},m=v=>{v.target===n&&(c.current=Oi(i.current))};return n.addEventListener("animationstart",m),n.addEventListener("animationcancel",h),n.addEventListener("animationend",h),()=>{n.removeEventListener("animationstart",m),n.removeEventListener("animationcancel",h),n.removeEventListener("animationend",h)}}else d("ANIMATION_END")},[n,d]),{isPresent:["mounted","unmountSuspended"].includes(u),ref:p.useCallback(h=>{h&&(i.current=getComputedStyle(h)),r(h)},[])}}function Oi(e){return(e==null?void 0:e.animationName)||"none"}let Sa=0;function zm(){p.useEffect(()=>{var e,n;const r=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",(e=r[0])!==null&&e!==void 0?e:Ju()),document.body.insertAdjacentElement("beforeend",(n=r[1])!==null&&n!==void 0?n:Ju()),Sa++,()=>{Sa===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(i=>i.remove()),Sa--}},[])}function Ju(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.cssText="outline: none; opacity: 0; position: fixed; pointer-events: none",e}var Qu=vu(),Da=function(){},Ai=F.forwardRef(function(e,n){var r=F.useRef(null),i=F.useState({onScrollCapture:Da,onWheelCapture:Da,onTouchMoveCapture:Da}),s=i[0],c=i[1],l=e.forwardProps,u=e.children,d=e.className,h=e.removeScrollBar,m=e.enabled,v=e.shards,y=e.sideCar,w=e.noIsolation,E=e.inert,g=e.allowPinchZoom,x=e.as,$=x===void 0?"div":x,P=oa(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as"]),S=y,_=gu([r,n]),A=mt(mt({},P),s);return F.createElement(F.Fragment,null,m&&F.createElement(S,{sideCar:Qu,removeScrollBar:h,shards:v,noIsolation:w,inert:E,setCallbacks:c,allowPinchZoom:!!g,lockRef:r}),l?F.cloneElement(F.Children.only(u),mt(mt({},A),{ref:_})):F.createElement($,mt({},A,{className:d,ref:_}),u))});Ai.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1},Ai.classNames={fullWidth:go,zeroRight:po};var _a=!1;if(typeof window<"u")try{var Ti=Object.defineProperty({},"passive",{get:function(){return _a=!0,!0}});window.addEventListener("test",Ti,Ti),window.removeEventListener("test",Ti,Ti)}catch{_a=!1}var Mr=_a?{passive:!1}:!1,Hm=function(e){var n=window.getComputedStyle(e);return n.overflowY!=="hidden"&&!(n.overflowY===n.overflowX&&n.overflowY==="visible")},Vm=function(e){var n=window.getComputedStyle(e);return n.overflowX!=="hidden"&&!(n.overflowY===n.overflowX&&n.overflowX==="visible")},ed=function(e,n){var r=n;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=td(e,r);if(i){var s=nd(e,r),c=s[1],l=s[2];if(c>l)return!0}r=r.parentNode}while(r&&r!==document.body);return!1},Gm=function(e){var n=e.scrollTop,r=e.scrollHeight,i=e.clientHeight;return[n,r,i]},Km=function(e){var n=e.scrollLeft,r=e.scrollWidth,i=e.clientWidth;return[n,r,i]},td=function(e,n){return e==="v"?Hm(n):Vm(n)},nd=function(e,n){return e==="v"?Gm(n):Km(n)},Rm=function(e,n){return e==="h"&&n==="rtl"?-1:1},Ym=function(e,n,r,i,s){var c=Rm(e,window.getComputedStyle(n).direction),l=c*i,u=r.target,d=n.contains(u),h=!1,m=l>0,v=0,y=0;do{var w=nd(e,u),E=w[0],g=w[1],x=w[2],$=g-x-c*E;(E||$)&&td(e,u)&&(v+=$,y+=E),u=u.parentNode}while(!d&&u!==document.body||d&&(n.contains(u)||n===u));return(m&&(s&&v===0||!s&&l>v)||!m&&(s&&y===0||!s&&-l>y))&&(h=!0),h},Ii=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},rd=function(e){return[e.deltaX,e.deltaY]},od=function(e){return e&&"current"in e?e.current:e},qm=function(e,n){return e[0]===n[0]&&e[1]===n[1]},Zm=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},Xm=0,Lr=[];function jm(e){var n=F.useRef([]),r=F.useRef([0,0]),i=F.useRef(),s=F.useState(Xm++)[0],c=F.useState(function(){return sa()})[0],l=F.useRef(e);F.useEffect(function(){l.current=e},[e]),F.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var g=pu([e.lockRef.current],(e.shards||[]).map(od),!0).filter(Boolean);return g.forEach(function(x){return x.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),g.forEach(function(x){return x.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var u=F.useCallback(function(g,x){if("touches"in g&&g.touches.length===2)return!l.current.allowPinchZoom;var $=Ii(g),P=r.current,S="deltaX"in g?g.deltaX:P[0]-$[0],_="deltaY"in g?g.deltaY:P[1]-$[1],A,k=g.target,T=Math.abs(S)>Math.abs(_)?"h":"v";if("touches"in g&&T==="h"&&k.type==="range")return!1;var M=ed(T,k);if(!M)return!0;if(M?A=T:(A=T==="v"?"h":"v",M=ed(T,k)),!M)return!1;if(!i.current&&"changedTouches"in g&&(S||_)&&(i.current=A),!A)return!0;var U=i.current||A;return Ym(U,x,g,U==="h"?S:_,!0)},[]),d=F.useCallback(function(g){var x=g;if(!(!Lr.length||Lr[Lr.length-1]!==c)){var $="deltaY"in x?rd(x):Ii(x),P=n.current.filter(function(A){return A.name===x.type&&A.target===x.target&&qm(A.delta,$)})[0];if(P&&P.should){x.preventDefault();return}if(!P){var S=(l.current.shards||[]).map(od).filter(Boolean).filter(function(A){return A.contains(x.target)}),_=S.length>0?u(x,S[0]):!l.current.noIsolation;_&&x.preventDefault()}}},[]),h=F.useCallback(function(g,x,$,P){var S={name:g,delta:x,target:$,should:P};n.current.push(S),setTimeout(function(){n.current=n.current.filter(function(_){return _!==S})},1)},[]),m=F.useCallback(function(g){r.current=Ii(g),i.current=void 0},[]),v=F.useCallback(function(g){h(g.type,rd(g),g.target,u(g,e.lockRef.current))},[]),y=F.useCallback(function(g){h(g.type,Ii(g),g.target,u(g,e.lockRef.current))},[]);F.useEffect(function(){return Lr.push(c),e.setCallbacks({onScrollCapture:v,onWheelCapture:v,onTouchMoveCapture:y}),document.addEventListener("wheel",d,Mr),document.addEventListener("touchmove",d,Mr),document.addEventListener("touchstart",m,Mr),function(){Lr=Lr.filter(function(g){return g!==c}),document.removeEventListener("wheel",d,Mr),document.removeEventListener("touchmove",d,Mr),document.removeEventListener("touchstart",m,Mr)}},[]);var w=e.removeScrollBar,E=e.inert;return F.createElement(F.Fragment,null,E?F.createElement(c,{styles:Zm(s)}):null,w?F.createElement(xu,{gapMode:"margin"}):null)}const Jm=wu(Qu,jm);var id=F.forwardRef(function(e,n){return F.createElement(Ai,mt({},e,{ref:n,sideCar:Jm}))});id.classNames=Ai.classNames;const Qm=id,sd="Dialog",[ad,MS]=pm(sd),[e1,dr]=ad(sd),t1=e=>{const{__scopeDialog:n,children:r,open:i,defaultOpen:s,onOpenChange:c,modal:l=!0}=e,u=p.useRef(null),d=p.useRef(null),[h=!1,m]=wm({prop:i,defaultProp:s,onChange:c});return p.createElement(e1,{scope:n,triggerRef:u,contentRef:d,contentId:ya(),titleId:ya(),descriptionId:ya(),open:h,onOpenChange:m,onOpenToggle:p.useCallback(()=>m(v=>!v),[m]),modal:l},r)},cd="DialogPortal",[n1,ld]=ad(cd,{forceMount:void 0}),r1=e=>{const{__scopeDialog:n,forceMount:r,children:i,container:s}=e,c=dr(cd,n);return p.createElement(n1,{scope:n,forceMount:r},p.Children.map(i,l=>p.createElement(Pi,{present:r||c.open},p.createElement(Wm,{asChild:!0,container:s},l))))},Pa="DialogOverlay",o1=p.forwardRef((e,n)=>{const r=ld(Pa,e.__scopeDialog),{forceMount:i=r.forceMount,...s}=e,c=dr(Pa,e.__scopeDialog);return c.modal?p.createElement(Pi,{present:i||c.open},p.createElement(i1,ae({},s,{ref:n}))):null}),i1=p.forwardRef((e,n)=>{const{__scopeDialog:r,...i}=e,s=dr(Pa,r);return p.createElement(Qm,{as:xa,allowPinchZoom:!0,shards:[s.contentRef]},p.createElement(_i.div,ae({"data-state":dd(s.open)},i,{ref:n,style:{pointerEvents:"auto",...i.style}})))}),xo="DialogContent",s1=p.forwardRef((e,n)=>{const r=ld(xo,e.__scopeDialog),{forceMount:i=r.forceMount,...s}=e,c=dr(xo,e.__scopeDialog);return p.createElement(Pi,{present:i||c.open},c.modal?p.createElement(a1,ae({},s,{ref:n})):p.createElement(c1,ae({},s,{ref:n})))}),a1=p.forwardRef((e,n)=>{const r=dr(xo,e.__scopeDialog),i=p.useRef(null),s=yo(n,r.contentRef,i);return p.useEffect(()=>{const c=i.current;if(c)return ua(c)},[]),p.createElement(ud,ae({},e,{ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:kr(e.onCloseAutoFocus,c=>{var l;c.preventDefault(),(l=r.triggerRef.current)===null||l===void 0||l.focus()}),onPointerDownOutside:kr(e.onPointerDownOutside,c=>{const l=c.detail.originalEvent,u=l.button===0&&l.ctrlKey===!0;(l.button===2||u)&&c.preventDefault()}),onFocusOutside:kr(e.onFocusOutside,c=>c.preventDefault())}))}),c1=p.forwardRef((e,n)=>{const r=dr(xo,e.__scopeDialog),i=p.useRef(!1);return p.createElement(ud,ae({},e,{ref:n,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var c;if((c=e.onCloseAutoFocus)===null||c===void 0||c.call(e,s),!s.defaultPrevented){var l;i.current||(l=r.triggerRef.current)===null||l===void 0||l.focus(),s.preventDefault()}i.current=!1},onInteractOutside:s=>{var c,l;(c=e.onInteractOutside)===null||c===void 0||c.call(e,s),s.defaultPrevented||(i.current=!0);const u=s.target;((l=r.triggerRef.current)===null||l===void 0?void 0:l.contains(u))&&s.preventDefault()}}))}),ud=p.forwardRef((e,n)=>{const{__scopeDialog:r,trapFocus:i,onOpenAutoFocus:s,onCloseAutoFocus:c,...l}=e,u=dr(xo,r),d=p.useRef(null),h=yo(n,d);return zm(),p.createElement(p.Fragment,null,p.createElement(Am,{asChild:!0,loop:!0,trapped:i,onMountAutoFocus:s,onUnmountAutoFocus:c},p.createElement(_m,ae({role:"dialog",id:u.contentId,"aria-describedby":u.descriptionId,"aria-labelledby":u.titleId,"data-state":dd(u.open)},l,{ref:h,onDismiss:()=>u.onOpenChange(!1)}))),!1)});function dd(e){return e?"open":"closed"}const l1=t1,u1=r1,d1=o1,f1=s1;var Co=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function fd(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var hd=1,h1=.9,p1=.3,Oa=.1,g1=0,Aa=.999,v1=.9999,m1=.99,pd=/[\\\/\-_+.# \t"@\[\(\{&]/,w1=/[\\\/\-_+.# \t"@\[\(\{&]/g;function Ta(e,n,r,i,s,c){if(c===n.length)return s===e.length?hd:m1;for(var l=i.charAt(c),u=r.indexOf(l,s),d=0,h,m,v;u>=0;)h=Ta(e,n,r,i,u+1,c+1),h>d&&(u===s?h*=hd:pd.test(e.charAt(u-1))?(h*=h1,v=e.slice(s,u-1).match(w1),v&&s>0&&(h*=Math.pow(Aa,v.length))):pd.test(e.slice(s,u-1))?(h*=g1,s>0&&(h*=Math.pow(Aa,u-s))):(h*=p1,s>0&&(h*=Math.pow(Aa,u-s))),e.charAt(u)!==n.charAt(c)&&(h*=v1)),h<Oa&&r.charAt(u-1)===i.charAt(c+1)&&r.charAt(u-1)!==i.charAt(c)&&(m=Ta(e,n,r,i,u+1,c+2),m*Oa>h&&(h=m*Oa)),h>d&&(d=h),u=r.indexOf(l,u+1);return d}function b1(e,n){return Ta(e,n,e.toLowerCase(),n.toLowerCase(),0,0)}var y1=b1;const x1=fd(y1);var C1='[cmdk-list-sizer=""]',$o='[cmdk-group=""]',Ia='[cmdk-group-items=""]',$1='[cmdk-group-heading=""]',gd='[cmdk-item=""]',vd=`${gd}:not([aria-disabled="true"])`,ka="cmdk-item-select",Un="data-value",E1=(e,n)=>x1(e,n),md=F.createContext(void 0),Eo=()=>F.useContext(md),wd=F.createContext(void 0),Ma=()=>F.useContext(wd),bd=F.createContext(void 0),yd=F.forwardRef((e,n)=>{let r=F.useRef(null),i=Wr(()=>({search:"",value:"",filtered:{count:0,items:new Map,groups:new Set}})),s=Wr(()=>new Set),c=Wr(()=>new Map),l=Wr(()=>new Map),u=Wr(()=>new Set),d=xd(e),{label:h,children:m,value:v,onValueChange:y,filter:w,shouldFilter:E,...g}=e,x=F.useId(),$=F.useId(),P=F.useId(),S=M1();Fr(()=>{if(v!==void 0){let G=v.trim().toLowerCase();i.current.value=G,S(6,R),_.emit()}},[v]);let _=F.useMemo(()=>({subscribe:G=>(u.current.add(G),()=>u.current.delete(G)),snapshot:()=>i.current,setState:(G,J,Q)=>{var te,ce,_e;if(!Object.is(i.current[G],J)){if(i.current[G]=J,G==="search")U(),T(),S(1,M);else if(G==="value")if(((te=d.current)==null?void 0:te.value)!==void 0){(_e=(ce=d.current).onValueChange)==null||_e.call(ce,J);return}else Q||S(5,R);_.emit()}},emit:()=>{u.current.forEach(G=>G())}}),[]),A=F.useMemo(()=>({value:(G,J)=>{J!==l.current.get(G)&&(l.current.set(G,J),i.current.filtered.items.set(G,k(J)),S(2,()=>{T(),_.emit()}))},item:(G,J)=>(s.current.add(G),J&&(c.current.has(J)?c.current.get(J).add(G):c.current.set(J,new Set([G]))),S(3,()=>{U(),T(),i.current.value||M(),_.emit()}),()=>{l.current.delete(G),s.current.delete(G),i.current.filtered.items.delete(G),S(4,()=>{U(),M(),_.emit()})}),group:G=>(c.current.has(G)||c.current.set(G,new Set),()=>{l.current.delete(G),c.current.delete(G)}),filter:()=>d.current.shouldFilter,label:h||e["aria-label"],listId:x,inputId:P,labelId:$}),[]);function k(G){var J;let Q=((J=d.current)==null?void 0:J.filter)??E1;return G?Q(G,i.current.search):0}function T(){if(!r.current||!i.current.search||d.current.shouldFilter===!1)return;let G=i.current.filtered.items,J=[];i.current.filtered.groups.forEach(te=>{let ce=c.current.get(te),_e=0;ce.forEach(Se=>{let we=G.get(Se);_e=Math.max(we,_e)}),J.push([te,_e])});let Q=r.current.querySelector(C1);Z().sort((te,ce)=>{let _e=te.getAttribute(Un),Se=ce.getAttribute(Un);return(G.get(Se)??0)-(G.get(_e)??0)}).forEach(te=>{let ce=te.closest(Ia);ce?ce.appendChild(te.parentElement===ce?te:te.closest(`${Ia} > *`)):Q.appendChild(te.parentElement===Q?te:te.closest(`${Ia} > *`))}),J.sort((te,ce)=>ce[1]-te[1]).forEach(te=>{let ce=r.current.querySelector(`${$o}[${Un}="${te[0]}"]`);ce==null||ce.parentElement.appendChild(ce)})}function M(){let G=Z().find(Q=>!Q.ariaDisabled),J=G==null?void 0:G.getAttribute(Un);_.setState("value",J||void 0)}function U(){if(!i.current.search||d.current.shouldFilter===!1){i.current.filtered.count=s.current.size;return}i.current.filtered.groups=new Set;let G=0;for(let J of s.current){let Q=l.current.get(J),te=k(Q);i.current.filtered.items.set(J,te),te>0&&G++}for(let[J,Q]of c.current)for(let te of Q)if(i.current.filtered.items.get(te)>0){i.current.filtered.groups.add(J);break}i.current.filtered.count=G}function R(){var G,J,Q;let te=X();te&&(((G=te.parentElement)==null?void 0:G.firstChild)===te&&((Q=(J=te.closest($o))==null?void 0:J.querySelector($1))==null||Q.scrollIntoView({block:"nearest"})),te.scrollIntoView({block:"nearest"}))}function X(){return r.current.querySelector(`${gd}[aria-selected="true"]`)}function Z(){return Array.from(r.current.querySelectorAll(vd))}function oe(G){let J=Z()[G];J&&_.setState("value",J.getAttribute(Un))}function q(G){var J;let Q=X(),te=Z(),ce=te.findIndex(Se=>Se===Q),_e=te[ce+G];(J=d.current)!=null&&J.loop&&(_e=ce+G<0?te[te.length-1]:ce+G===te.length?te[0]:te[ce+G]),_e&&_.setState("value",_e.getAttribute(Un))}function ee(G){let J=X(),Q=J==null?void 0:J.closest($o),te;for(;Q&&!te;)Q=G>0?I1(Q,$o):k1(Q,$o),te=Q==null?void 0:Q.querySelector(vd);te?_.setState("value",te.getAttribute(Un)):q(G)}let ne=()=>oe(Z().length-1),se=G=>{G.preventDefault(),G.metaKey?ne():G.altKey?ee(1):q(1)},fe=G=>{G.preventDefault(),G.metaKey?oe(0):G.altKey?ee(-1):q(-1)};return F.createElement("div",{ref:No([r,n]),...g,"cmdk-root":"",onKeyDown:G=>{var J;if((J=g.onKeyDown)==null||J.call(g,G),!G.defaultPrevented)switch(G.key){case"n":case"j":{G.ctrlKey&&se(G);break}case"ArrowDown":{se(G);break}case"p":case"k":{G.ctrlKey&&fe(G);break}case"ArrowUp":{fe(G);break}case"Home":{G.preventDefault(),oe(0);break}case"End":{G.preventDefault(),ne();break}case"Enter":{G.preventDefault();let Q=X();if(Q){let te=new Event(ka);Q.dispatchEvent(te)}}}}},F.createElement("label",{"cmdk-label":"",htmlFor:A.inputId,id:A.labelId,style:L1},h),F.createElement(wd.Provider,{value:_},F.createElement(md.Provider,{value:A},m)))}),N1=F.forwardRef((e,n)=>{let r=F.useId(),i=F.useRef(null),s=F.useContext(bd),c=Eo(),l=xd(e);Fr(()=>c.item(r,s),[]);let u=Cd(r,i,[e.value,e.children,i]),d=Ma(),h=Br($=>$.value&&$.value===u.current),m=Br($=>c.filter()===!1?!0:$.search?$.filtered.items.get(r)>0:!0);F.useEffect(()=>{let $=i.current;if(!(!$||e.disabled))return $.addEventListener(ka,v),()=>$.removeEventListener(ka,v)},[m,e.onSelect,e.disabled]);function v(){var $,P;(P=($=l.current).onSelect)==null||P.call($,u.current)}function y(){d.setState("value",u.current,!0)}if(!m)return null;let{disabled:w,value:E,onSelect:g,...x}=e;return F.createElement("div",{ref:No([i,n]),...x,"cmdk-item":"",role:"option","aria-disabled":w||void 0,"aria-selected":h||void 0,"data-selected":h||void 0,onPointerMove:w?void 0:y,onClick:w?void 0:v},e.children)}),S1=F.forwardRef((e,n)=>{let{heading:r,children:i,...s}=e,c=F.useId(),l=F.useRef(null),u=F.useRef(null),d=F.useId(),h=Eo(),m=Br(y=>h.filter()===!1?!0:y.search?y.filtered.groups.has(c):!0);Fr(()=>h.group(c),[]),Cd(c,l,[e.value,e.heading,u]);let v=F.createElement(bd.Provider,{value:c},i);return F.createElement("div",{ref:No([l,n]),...s,"cmdk-group":"",role:"presentation",hidden:m?void 0:!0},r&&F.createElement("div",{ref:u,"cmdk-group-heading":"","aria-hidden":!0,id:d},r),F.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":r?d:void 0},v))}),D1=F.forwardRef((e,n)=>{let{alwaysRender:r,...i}=e,s=F.useRef(null),c=Br(l=>!l.search);return!r&&!c?null:F.createElement("div",{ref:No([s,n]),...i,"cmdk-separator":"",role:"separator"})}),_1=F.forwardRef((e,n)=>{let{onValueChange:r,...i}=e,s=e.value!=null,c=Ma(),l=Br(d=>d.search),u=Eo();return F.useEffect(()=>{e.value!=null&&c.setState("search",e.value)},[e.value]),F.createElement("input",{ref:n,...i,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":u.listId,"aria-labelledby":u.labelId,id:u.inputId,type:"text",value:s?e.value:l,onChange:d=>{s||c.setState("search",d.target.value),r==null||r(d.target.value)}})}),P1=F.forwardRef((e,n)=>{let{children:r,...i}=e,s=F.useRef(null),c=F.useRef(null),l=Eo();return F.useEffect(()=>{if(c.current&&s.current){let u=c.current,d=s.current,h,m=new ResizeObserver(()=>{h=requestAnimationFrame(()=>{let v=u.getBoundingClientRect().height;d.style.setProperty("--cmdk-list-height",v.toFixed(1)+"px")})});return m.observe(u),()=>{cancelAnimationFrame(h),m.unobserve(u)}}},[]),F.createElement("div",{ref:No([s,n]),...i,"cmdk-list":"",role:"listbox","aria-label":"Suggestions",id:l.listId,"aria-labelledby":l.inputId},F.createElement("div",{ref:c,"cmdk-list-sizer":""},r))}),O1=F.forwardRef((e,n)=>{let{open:r,onOpenChange:i,container:s,...c}=e;return F.createElement(l1,{open:r,onOpenChange:i},F.createElement(u1,{container:s},F.createElement(d1,{"cmdk-overlay":""}),F.createElement(f1,{"aria-label":e.label,"cmdk-dialog":""},F.createElement(yd,{ref:n,...c}))))}),A1=F.forwardRef((e,n)=>{let r=F.useRef(!0),i=Br(s=>s.filtered.count===0);return F.useEffect(()=>{r.current=!1},[]),r.current||!i?null:F.createElement("div",{ref:n,...e,"cmdk-empty":"",role:"presentation"})}),T1=F.forwardRef((e,n)=>{let{progress:r,children:i,...s}=e;return F.createElement("div",{ref:n,...s,"cmdk-loading":"",role:"progressbar","aria-valuenow":r,"aria-valuemin":0,"aria-valuemax":100,"aria-label":"Loading..."},F.createElement("div",{"aria-hidden":!0},i))}),Dt=Object.assign(yd,{List:P1,Item:N1,Input:_1,Group:S1,Separator:D1,Dialog:O1,Empty:A1,Loading:T1});function I1(e,n){let r=e.nextElementSibling;for(;r;){if(r.matches(n))return r;r=r.nextElementSibling}}function k1(e,n){let r=e.previousElementSibling;for(;r;){if(r.matches(n))return r;r=r.previousElementSibling}}function xd(e){let n=F.useRef(e);return Fr(()=>{n.current=e}),n}var Fr=typeof window>"u"?F.useEffect:F.useLayoutEffect;function Wr(e){let n=F.useRef();return n.current===void 0&&(n.current=e()),n}function No(e){return n=>{e.forEach(r=>{typeof r=="function"?r(n):r!=null&&(r.current=n)})}}function Br(e){let n=Ma(),r=()=>e(n.snapshot());return F.useSyncExternalStore(n.subscribe,r,r)}function Cd(e,n,r){let i=F.useRef(),s=Eo();return Fr(()=>{var c;let l=(()=>{var u;for(let d of r){if(typeof d=="string")return d.trim().toLowerCase();if(typeof d=="object"&&"current"in d&&d.current)return(u=d.current.textContent)==null?void 0:u.trim().toLowerCase()}})();s.value(e,l),(c=n.current)==null||c.setAttribute(Un,l),i.current=l}),i}var M1=()=>{let[e,n]=F.useState(),r=Wr(()=>new Map);return Fr(()=>{r.current.forEach(i=>i()),r.current=new Map},[e]),(i,s)=>{r.current.set(i,s),n({})}},L1={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};const $d=({className:e,...n})=>C.jsx(bi,{className:Le(e),...n});$d.displayName=bi.displayName;const Ed=F.forwardRef(({className:e,...n},r)=>C.jsx(yi,{ref:r,className:Le("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...n}));Ed.displayName=yi.displayName;const F1=F.forwardRef(({className:e,children:n,...r},i)=>C.jsxs($d,{children:[C.jsx(Ed,{}),C.jsxs(xi,{ref:i,className:Le("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg md:w-full",e),...r,children:[n,C.jsxs(Fu,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[C.jsx(kl,{className:"h-4 w-4"}),C.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));F1.displayName=xi.displayName;const W1=F.forwardRef(({className:e,...n},r)=>C.jsx(Ci,{ref:r,className:Le("text-lg font-semibold leading-none tracking-tight",e),...n}));W1.displayName=Ci.displayName;const B1=F.forwardRef(({className:e,...n},r)=>C.jsx($i,{ref:r,className:Le("text-sm text-muted-foreground",e),...n}));B1.displayName=$i.displayName;const So=F.forwardRef(({className:e,...n},r)=>C.jsx(Dt,{ref:r,className:Le("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",e),...n}));So.displayName=Dt.displayName;const La=F.forwardRef(({className:e,...n},r)=>C.jsxs("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:[C.jsx(Gg,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),C.jsx(Dt.Input,{ref:r,className:Le("flex h-10 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",e),...n})]}));La.displayName=Dt.Input.displayName;const U1=F.forwardRef(({className:e,...n},r)=>C.jsx(Dt.List,{ref:r,className:Le("max-h-[300px] overflow-y-auto overflow-x-hidden",e),...n}));U1.displayName=Dt.List.displayName;const Do=F.forwardRef((e,n)=>C.jsx(Dt.Empty,{ref:n,className:"py-6 text-center text-sm",...e}));Do.displayName=Dt.Empty.displayName;const fr=F.forwardRef(({className:e,...n},r)=>C.jsx(Dt.Group,{ref:r,className:Le("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",e),...n}));fr.displayName=Dt.Group.displayName;const z1=F.forwardRef(({className:e,...n},r)=>C.jsx(Dt.Separator,{ref:r,className:Le("-mx-1 h-px bg-border",e),...n}));z1.displayName=Dt.Separator.displayName;const _o=F.forwardRef(({className:e,...n},r)=>C.jsx(Dt.Item,{ref:r,className:Le("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none aria-selected:bg-accent aria-selected:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n}));_o.displayName=Dt.Item.displayName;const Fa="dismissableLayer.update",H1="dismissableLayer.pointerDownOutside",V1="dismissableLayer.focusOutside";let Nd;const G1=p.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),K1=p.forwardRef((e,n)=>{var r;const{disableOutsidePointerEvents:i=!1,onEscapeKeyDown:s,onPointerDownOutside:c,onFocusOutside:l,onInteractOutside:u,onDismiss:d,...h}=e,m=p.useContext(G1),[v,y]=p.useState(null),w=(r=v==null?void 0:v.ownerDocument)!==null&&r!==void 0?r:globalThis==null?void 0:globalThis.document,[,E]=p.useState({}),g=it(n,M=>y(M)),x=Array.from(m.layers),[$]=[...m.layersWithOutsidePointerEventsDisabled].slice(-1),P=x.indexOf($),S=v?x.indexOf(v):-1,_=m.layersWithOutsidePointerEventsDisabled.size>0,A=S>=P,k=R1(M=>{const U=M.target,R=[...m.branches].some(X=>X.contains(U));!A||R||(c==null||c(M),u==null||u(M),M.defaultPrevented||d==null||d())},w),T=Y1(M=>{const U=M.target;[...m.branches].some(X=>X.contains(U))||(l==null||l(M),u==null||u(M),M.defaultPrevented||d==null||d())},w);return ru(M=>{S===m.layers.size-1&&(s==null||s(M),!M.defaultPrevented&&d&&(M.preventDefault(),d()))},w),p.useEffect(()=>{if(v)return i&&(m.layersWithOutsidePointerEventsDisabled.size===0&&(Nd=w.body.style.pointerEvents,w.body.style.pointerEvents="none"),m.layersWithOutsidePointerEventsDisabled.add(v)),m.layers.add(v),Sd(),()=>{i&&m.layersWithOutsidePointerEventsDisabled.size===1&&(w.body.style.pointerEvents=Nd)}},[v,w,i,m]),p.useEffect(()=>()=>{v&&(m.layers.delete(v),m.layersWithOutsidePointerEventsDisabled.delete(v),Sd())},[v,m]),p.useEffect(()=>{const M=()=>E({});return document.addEventListener(Fa,M),()=>document.removeEventListener(Fa,M)},[]),p.createElement(ht.div,ae({},h,{ref:g,style:{pointerEvents:_?A?"auto":"none":void 0,...e.style},onFocusCapture:nt(e.onFocusCapture,T.onFocusCapture),onBlurCapture:nt(e.onBlurCapture,T.onBlurCapture),onPointerDownCapture:nt(e.onPointerDownCapture,k.onPointerDownCapture)}))});function R1(e,n=globalThis==null?void 0:globalThis.document){const r=Gt(e),i=p.useRef(!1),s=p.useRef(()=>{});return p.useEffect(()=>{const c=u=>{if(u.target&&!i.current){let h=function(){Dd(H1,r,d,{discrete:!0})};const d={originalEvent:u};u.pointerType==="touch"?(n.removeEventListener("click",s.current),s.current=h,n.addEventListener("click",s.current,{once:!0})):h()}else n.removeEventListener("click",s.current);i.current=!1},l=window.setTimeout(()=>{n.addEventListener("pointerdown",c)},0);return()=>{window.clearTimeout(l),n.removeEventListener("pointerdown",c),n.removeEventListener("click",s.current)}},[n,r]),{onPointerDownCapture:()=>i.current=!0}}function Y1(e,n=globalThis==null?void 0:globalThis.document){const r=Gt(e),i=p.useRef(!1);return p.useEffect(()=>{const s=c=>{c.target&&!i.current&&Dd(V1,r,{originalEvent:c},{discrete:!1})};return n.addEventListener("focusin",s),()=>n.removeEventListener("focusin",s)},[n,r]),{onFocusCapture:()=>i.current=!0,onBlurCapture:()=>i.current=!1}}function Sd(){const e=new CustomEvent(Fa);document.dispatchEvent(e)}function Dd(e,n,r,{discrete:i}){const s=r.originalEvent.target,c=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});n&&s.addEventListener(e,n,{once:!0}),i?nu(s,c):s.dispatchEvent(c)}const Wa="focusScope.autoFocusOnMount",Ba="focusScope.autoFocusOnUnmount",_d={bubbles:!1,cancelable:!0},q1=p.forwardRef((e,n)=>{const{loop:r=!1,trapped:i=!1,onMountAutoFocus:s,onUnmountAutoFocus:c,...l}=e,[u,d]=p.useState(null),h=Gt(s),m=Gt(c),v=p.useRef(null),y=it(n,g=>d(g)),w=p.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;p.useEffect(()=>{if(i){let g=function(S){if(w.paused||!u)return;const _=S.target;u.contains(_)?v.current=_:zn(v.current,{select:!0})},x=function(S){if(w.paused||!u)return;const _=S.relatedTarget;_!==null&&(u.contains(_)||zn(v.current,{select:!0}))},$=function(S){if(document.activeElement===document.body)for(const A of S)A.removedNodes.length>0&&zn(u)};document.addEventListener("focusin",g),document.addEventListener("focusout",x);const P=new MutationObserver($);return u&&P.observe(u,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",x),P.disconnect()}}},[i,u,w.paused]),p.useEffect(()=>{if(u){Ad.add(w);const g=document.activeElement;if(!u.contains(g)){const $=new CustomEvent(Wa,_d);u.addEventListener(Wa,h),u.dispatchEvent($),$.defaultPrevented||(Z1(ew(Pd(u)),{select:!0}),document.activeElement===g&&zn(u))}return()=>{u.removeEventListener(Wa,h),setTimeout(()=>{const $=new CustomEvent(Ba,_d);u.addEventListener(Ba,m),u.dispatchEvent($),$.defaultPrevented||zn(g??document.body,{select:!0}),u.removeEventListener(Ba,m),Ad.remove(w)},0)}}},[u,h,m,w]);const E=p.useCallback(g=>{if(!r&&!i||w.paused)return;const x=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,$=document.activeElement;if(x&&$){const P=g.currentTarget,[S,_]=X1(P);S&&_?!g.shiftKey&&$===_?(g.preventDefault(),r&&zn(S,{select:!0})):g.shiftKey&&$===S&&(g.preventDefault(),r&&zn(_,{select:!0})):$===P&&g.preventDefault()}},[r,i,w.paused]);return p.createElement(ht.div,ae({tabIndex:-1},l,{ref:y,onKeyDown:E}))});function Z1(e,{select:n=!1}={}){const r=document.activeElement;for(const i of e)if(zn(i,{select:n}),document.activeElement!==r)return}function X1(e){const n=Pd(e),r=Od(n,e),i=Od(n.reverse(),e);return[r,i]}function Pd(e){const n=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:i=>{const s=i.tagName==="INPUT"&&i.type==="hidden";return i.disabled||i.hidden||s?NodeFilter.FILTER_SKIP:i.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)n.push(r.currentNode);return n}function Od(e,n){for(const r of e)if(!j1(r,{upTo:n}))return r}function j1(e,{upTo:n}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(n!==void 0&&e===n)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function J1(e){return e instanceof HTMLInputElement&&"select"in e}function zn(e,{select:n=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&J1(e)&&n&&e.select()}}const Ad=Q1();function Q1(){let e=[];return{add(n){const r=e[0];n!==r&&(r==null||r.pause()),e=Td(e,n),e.unshift(n)},remove(n){var r;e=Td(e,n),(r=e[0])===null||r===void 0||r.resume()}}}function Td(e,n){const r=[...e],i=r.indexOf(n);return i!==-1&&r.splice(i,1),r}function ew(e){return e.filter(n=>n.tagName!=="A")}const tw=["top","right","bottom","left"],Hn=Math.min,It=Math.max,ki=Math.round,Mi=Math.floor,Vn=e=>({x:e,y:e}),nw={left:"right",right:"left",bottom:"top",top:"bottom"},rw={start:"end",end:"start"};function Ua(e,n,r){return It(e,Hn(n,r))}function Cn(e,n){return typeof e=="function"?e(n):e}function $n(e){return e.split("-")[0]}function Ur(e){return e.split("-")[1]}function za(e){return e==="x"?"y":"x"}function Ha(e){return e==="y"?"height":"width"}function zr(e){return["top","bottom"].includes($n(e))?"y":"x"}function Va(e){return za(zr(e))}function ow(e,n,r){r===void 0&&(r=!1);const i=Ur(e),s=Va(e),c=Ha(s);let l=s==="x"?i===(r?"end":"start")?"right":"left":i==="start"?"bottom":"top";return n.reference[c]>n.floating[c]&&(l=Li(l)),[l,Li(l)]}function iw(e){const n=Li(e);return[Ga(e),n,Ga(n)]}function Ga(e){return e.replace(/start|end/g,n=>rw[n])}function sw(e,n,r){const i=["left","right"],s=["right","left"],c=["top","bottom"],l=["bottom","top"];switch(e){case"top":case"bottom":return r?n?s:i:n?i:s;case"left":case"right":return n?c:l;default:return[]}}function aw(e,n,r,i){const s=Ur(e);let c=sw($n(e),r==="start",i);return s&&(c=c.map(l=>l+"-"+s),n&&(c=c.concat(c.map(Ga)))),c}function Li(e){return e.replace(/left|right|bottom|top/g,n=>nw[n])}function cw(e){return{top:0,right:0,bottom:0,left:0,...e}}function Id(e){return typeof e!="number"?cw(e):{top:e,right:e,bottom:e,left:e}}function Fi(e){return{...e,top:e.y,left:e.x,right:e.x+e.width,bottom:e.y+e.height}}function kd(e,n,r){let{reference:i,floating:s}=e;const c=zr(n),l=Va(n),u=Ha(l),d=$n(n),h=c==="y",m=i.x+i.width/2-s.width/2,v=i.y+i.height/2-s.height/2,y=i[u]/2-s[u]/2;let w;switch(d){case"top":w={x:m,y:i.y-s.height};break;case"bottom":w={x:m,y:i.y+i.height};break;case"right":w={x:i.x+i.width,y:v};break;case"left":w={x:i.x-s.width,y:v};break;default:w={x:i.x,y:i.y}}switch(Ur(n)){case"start":w[l]-=y*(r&&h?-1:1);break;case"end":w[l]+=y*(r&&h?-1:1);break}return w}const lw=async(e,n,r)=>{const{placement:i="bottom",strategy:s="absolute",middleware:c=[],platform:l}=r,u=c.filter(Boolean),d=await(l.isRTL==null?void 0:l.isRTL(n));let h=await l.getElementRects({reference:e,floating:n,strategy:s}),{x:m,y:v}=kd(h,i,d),y=i,w={},E=0;for(let g=0;g<u.length;g++){const{name:x,fn:$}=u[g],{x:P,y:S,data:_,reset:A}=await $({x:m,y:v,initialPlacement:i,placement:y,strategy:s,middlewareData:w,rects:h,platform:l,elements:{reference:e,floating:n}});if(m=P??m,v=S??v,w={...w,[x]:{...w[x],..._}},A&&E<=50){E++,typeof A=="object"&&(A.placement&&(y=A.placement),A.rects&&(h=A.rects===!0?await l.getElementRects({reference:e,floating:n,strategy:s}):A.rects),{x:m,y:v}=kd(h,y,d)),g=-1;continue}}return{x:m,y:v,placement:y,strategy:s,middlewareData:w}};async function Po(e,n){var r;n===void 0&&(n={});const{x:i,y:s,platform:c,rects:l,elements:u,strategy:d}=e,{boundary:h="clippingAncestors",rootBoundary:m="viewport",elementContext:v="floating",altBoundary:y=!1,padding:w=0}=Cn(n,e),E=Id(w),x=u[y?v==="floating"?"reference":"floating":v],$=Fi(await c.getClippingRect({element:(r=await(c.isElement==null?void 0:c.isElement(x)))==null||r?x:x.contextElement||await(c.getDocumentElement==null?void 0:c.getDocumentElement(u.floating)),boundary:h,rootBoundary:m,strategy:d})),P=v==="floating"?{...l.floating,x:i,y:s}:l.reference,S=await(c.getOffsetParent==null?void 0:c.getOffsetParent(u.floating)),_=await(c.isElement==null?void 0:c.isElement(S))?await(c.getScale==null?void 0:c.getScale(S))||{x:1,y:1}:{x:1,y:1},A=Fi(c.convertOffsetParentRelativeRectToViewportRelativeRect?await c.convertOffsetParentRelativeRectToViewportRelativeRect({rect:P,offsetParent:S,strategy:d}):P);return{top:($.top-A.top+E.top)/_.y,bottom:(A.bottom-$.bottom+E.bottom)/_.y,left:($.left-A.left+E.left)/_.x,right:(A.right-$.right+E.right)/_.x}}const Md=e=>({name:"arrow",options:e,async fn(n){const{x:r,y:i,placement:s,rects:c,platform:l,elements:u}=n,{element:d,padding:h=0}=Cn(e,n)||{};if(d==null)return{};const m=Id(h),v={x:r,y:i},y=Va(s),w=Ha(y),E=await l.getDimensions(d),g=y==="y",x=g?"top":"left",$=g?"bottom":"right",P=g?"clientHeight":"clientWidth",S=c.reference[w]+c.reference[y]-v[y]-c.floating[w],_=v[y]-c.reference[y],A=await(l.getOffsetParent==null?void 0:l.getOffsetParent(d));let k=A?A[P]:0;(!k||!await(l.isElement==null?void 0:l.isElement(A)))&&(k=u.floating[P]||c.floating[w]);const T=S/2-_/2,M=k/2-E[w]/2-1,U=Hn(m[x],M),R=Hn(m[$],M),X=U,Z=k-E[w]-R,oe=k/2-E[w]/2+T,q=Ua(X,oe,Z),ne=Ur(s)!=null&&oe!=q&&c.reference[w]/2-(oe<X?U:R)-E[w]/2<0?oe<X?X-oe:Z-oe:0;return{[y]:v[y]-ne,data:{[y]:q,centerOffset:oe-q+ne}}}}),uw=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(n){var r;const{placement:i,middlewareData:s,rects:c,initialPlacement:l,platform:u,elements:d}=n,{mainAxis:h=!0,crossAxis:m=!0,fallbackPlacements:v,fallbackStrategy:y="bestFit",fallbackAxisSideDirection:w="none",flipAlignment:E=!0,...g}=Cn(e,n),x=$n(i),$=$n(l)===l,P=await(u.isRTL==null?void 0:u.isRTL(d.floating)),S=v||($||!E?[Li(l)]:iw(l));!v&&w!=="none"&&S.push(...aw(l,E,w,P));const _=[l,...S],A=await Po(n,g),k=[];let T=((r=s.flip)==null?void 0:r.overflows)||[];if(h&&k.push(A[x]),m){const X=ow(i,c,P);k.push(A[X[0]],A[X[1]])}if(T=[...T,{placement:i,overflows:k}],!k.every(X=>X<=0)){var M,U;const X=(((M=s.flip)==null?void 0:M.index)||0)+1,Z=_[X];if(Z)return{data:{index:X,overflows:T},reset:{placement:Z}};let oe=(U=T.filter(q=>q.overflows[0]<=0).sort((q,ee)=>q.overflows[1]-ee.overflows[1])[0])==null?void 0:U.placement;if(!oe)switch(y){case"bestFit":{var R;const q=(R=T.map(ee=>[ee.placement,ee.overflows.filter(ne=>ne>0).reduce((ne,se)=>ne+se,0)]).sort((ee,ne)=>ee[1]-ne[1])[0])==null?void 0:R[0];q&&(oe=q);break}case"initialPlacement":oe=l;break}if(i!==oe)return{reset:{placement:oe}}}return{}}}};function Ld(e,n){return{top:e.top-n.height,right:e.right-n.width,bottom:e.bottom-n.height,left:e.left-n.width}}function Fd(e){return tw.some(n=>e[n]>=0)}const dw=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(n){const{rects:r}=n,{strategy:i="referenceHidden",...s}=Cn(e,n);switch(i){case"referenceHidden":{const c=await Po(n,{...s,elementContext:"reference"}),l=Ld(c,r.reference);return{data:{referenceHiddenOffsets:l,referenceHidden:Fd(l)}}}case"escaped":{const c=await Po(n,{...s,altBoundary:!0}),l=Ld(c,r.floating);return{data:{escapedOffsets:l,escaped:Fd(l)}}}default:return{}}}}};async function fw(e,n){const{placement:r,platform:i,elements:s}=e,c=await(i.isRTL==null?void 0:i.isRTL(s.floating)),l=$n(r),u=Ur(r),d=zr(r)==="y",h=["left","top"].includes(l)?-1:1,m=c&&d?-1:1,v=Cn(n,e);let{mainAxis:y,crossAxis:w,alignmentAxis:E}=typeof v=="number"?{mainAxis:v,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...v};return u&&typeof E=="number"&&(w=u==="end"?E*-1:E),d?{x:w*m,y:y*h}:{x:y*h,y:w*m}}const hw=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(n){const{x:r,y:i}=n,s=await fw(n,e);return{x:r+s.x,y:i+s.y,data:s}}}},pw=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(n){const{x:r,y:i,placement:s}=n,{mainAxis:c=!0,crossAxis:l=!1,limiter:u={fn:x=>{let{x:$,y:P}=x;return{x:$,y:P}}},...d}=Cn(e,n),h={x:r,y:i},m=await Po(n,d),v=zr($n(s)),y=za(v);let w=h[y],E=h[v];if(c){const x=y==="y"?"top":"left",$=y==="y"?"bottom":"right",P=w+m[x],S=w-m[$];w=Ua(P,w,S)}if(l){const x=v==="y"?"top":"left",$=v==="y"?"bottom":"right",P=E+m[x],S=E-m[$];E=Ua(P,E,S)}const g=u.fn({...n,[y]:w,[v]:E});return{...g,data:{x:g.x-r,y:g.y-i}}}}},gw=function(e){return e===void 0&&(e={}),{options:e,fn(n){const{x:r,y:i,placement:s,rects:c,middlewareData:l}=n,{offset:u=0,mainAxis:d=!0,crossAxis:h=!0}=Cn(e,n),m={x:r,y:i},v=zr(s),y=za(v);let w=m[y],E=m[v];const g=Cn(u,n),x=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(d){const S=y==="y"?"height":"width",_=c.reference[y]-c.floating[S]+x.mainAxis,A=c.reference[y]+c.reference[S]-x.mainAxis;w<_?w=_:w>A&&(w=A)}if(h){var $,P;const S=y==="y"?"width":"height",_=["top","left"].includes($n(s)),A=c.reference[v]-c.floating[S]+(_&&(($=l.offset)==null?void 0:$[v])||0)+(_?0:x.crossAxis),k=c.reference[v]+c.reference[S]+(_?0:((P=l.offset)==null?void 0:P[v])||0)-(_?x.crossAxis:0);E<A?E=A:E>k&&(E=k)}return{[y]:w,[v]:E}}}},vw=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(n){const{placement:r,rects:i,platform:s,elements:c}=n,{apply:l=()=>{},...u}=Cn(e,n),d=await Po(n,u),h=$n(r),m=Ur(r),v=zr(r)==="y",{width:y,height:w}=i.floating;let E,g;h==="top"||h==="bottom"?(E=h,g=m===(await(s.isRTL==null?void 0:s.isRTL(c.floating))?"start":"end")?"left":"right"):(g=h,E=m==="end"?"top":"bottom");const x=w-d[E],$=y-d[g],P=!n.middlewareData.shift;let S=x,_=$;if(v){const k=y-d.left-d.right;_=m||P?Hn($,k):k}else{const k=w-d.top-d.bottom;S=m||P?Hn(x,k):k}if(P&&!m){const k=It(d.left,0),T=It(d.right,0),M=It(d.top,0),U=It(d.bottom,0);v?_=y-2*(k!==0||T!==0?k+T:It(d.left,d.right)):S=w-2*(M!==0||U!==0?M+U:It(d.top,d.bottom))}await l({...n,availableWidth:_,availableHeight:S});const A=await s.getDimensions(c.floating);return y!==A.width||w!==A.height?{reset:{rects:!0}}:{}}}};function Gn(e){return Wd(e)?(e.nodeName||"").toLowerCase():"#document"}function kt(e){var n;return(e==null||(n=e.ownerDocument)==null?void 0:n.defaultView)||window}function En(e){var n;return(n=(Wd(e)?e.ownerDocument:e.document)||window.document)==null?void 0:n.documentElement}function Wd(e){return e instanceof Node||e instanceof kt(e).Node}function Nn(e){return e instanceof Element||e instanceof kt(e).Element}function pn(e){return e instanceof HTMLElement||e instanceof kt(e).HTMLElement}function Bd(e){return typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof kt(e).ShadowRoot}function Oo(e){const{overflow:n,overflowX:r,overflowY:i,display:s}=Rt(e);return/auto|scroll|overlay|hidden|clip/.test(n+i+r)&&!["inline","contents"].includes(s)}function mw(e){return["table","td","th"].includes(Gn(e))}function Ka(e){const n=Ra(),r=Rt(e);return r.transform!=="none"||r.perspective!=="none"||(r.containerType?r.containerType!=="normal":!1)||!n&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!n&&(r.filter?r.filter!=="none":!1)||["transform","perspective","filter"].some(i=>(r.willChange||"").includes(i))||["paint","layout","strict","content"].some(i=>(r.contain||"").includes(i))}function ww(e){let n=Hr(e);for(;pn(n)&&!Wi(n);){if(Ka(n))return n;n=Hr(n)}return null}function Ra(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Wi(e){return["html","body","#document"].includes(Gn(e))}function Rt(e){return kt(e).getComputedStyle(e)}function Bi(e){return Nn(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function Hr(e){if(Gn(e)==="html")return e;const n=e.assignedSlot||e.parentNode||Bd(e)&&e.host||En(e);return Bd(n)?n.host:n}function Ud(e){const n=Hr(e);return Wi(n)?e.ownerDocument?e.ownerDocument.body:e.body:pn(n)&&Oo(n)?n:Ud(n)}function Ui(e,n){var r;n===void 0&&(n=[]);const i=Ud(e),s=i===((r=e.ownerDocument)==null?void 0:r.body),c=kt(i);return s?n.concat(c,c.visualViewport||[],Oo(i)?i:[]):n.concat(i,Ui(i))}function zd(e){const n=Rt(e);let r=parseFloat(n.width)||0,i=parseFloat(n.height)||0;const s=pn(e),c=s?e.offsetWidth:r,l=s?e.offsetHeight:i,u=ki(r)!==c||ki(i)!==l;return u&&(r=c,i=l),{width:r,height:i,$:u}}function Ya(e){return Nn(e)?e:e.contextElement}function Vr(e){const n=Ya(e);if(!pn(n))return Vn(1);const r=n.getBoundingClientRect(),{width:i,height:s,$:c}=zd(n);let l=(c?ki(r.width):r.width)/i,u=(c?ki(r.height):r.height)/s;return(!l||!Number.isFinite(l))&&(l=1),(!u||!Number.isFinite(u))&&(u=1),{x:l,y:u}}const bw=Vn(0);function Hd(e){const n=kt(e);return!Ra()||!n.visualViewport?bw:{x:n.visualViewport.offsetLeft,y:n.visualViewport.offsetTop}}function yw(e,n,r){return n===void 0&&(n=!1),!r||n&&r!==kt(e)?!1:n}function hr(e,n,r,i){n===void 0&&(n=!1),r===void 0&&(r=!1);const s=e.getBoundingClientRect(),c=Ya(e);let l=Vn(1);n&&(i?Nn(i)&&(l=Vr(i)):l=Vr(e));const u=yw(c,r,i)?Hd(c):Vn(0);let d=(s.left+u.x)/l.x,h=(s.top+u.y)/l.y,m=s.width/l.x,v=s.height/l.y;if(c){const y=kt(c),w=i&&Nn(i)?kt(i):i;let E=y.frameElement;for(;E&&i&&w!==y;){const g=Vr(E),x=E.getBoundingClientRect(),$=Rt(E),P=x.left+(E.clientLeft+parseFloat($.paddingLeft))*g.x,S=x.top+(E.clientTop+parseFloat($.paddingTop))*g.y;d*=g.x,h*=g.y,m*=g.x,v*=g.y,d+=P,h+=S,E=kt(E).frameElement}}return Fi({width:m,height:v,x:d,y:h})}function xw(e){let{rect:n,offsetParent:r,strategy:i}=e;const s=pn(r),c=En(r);if(r===c)return n;let l={scrollLeft:0,scrollTop:0},u=Vn(1);const d=Vn(0);if((s||!s&&i!=="fixed")&&((Gn(r)!=="body"||Oo(c))&&(l=Bi(r)),pn(r))){const h=hr(r);u=Vr(r),d.x=h.x+r.clientLeft,d.y=h.y+r.clientTop}return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-l.scrollLeft*u.x+d.x,y:n.y*u.y-l.scrollTop*u.y+d.y}}function Cw(e){return Array.from(e.getClientRects())}function Vd(e){return hr(En(e)).left+Bi(e).scrollLeft}function $w(e){const n=En(e),r=Bi(e),i=e.ownerDocument.body,s=It(n.scrollWidth,n.clientWidth,i.scrollWidth,i.clientWidth),c=It(n.scrollHeight,n.clientHeight,i.scrollHeight,i.clientHeight);let l=-r.scrollLeft+Vd(e);const u=-r.scrollTop;return Rt(i).direction==="rtl"&&(l+=It(n.clientWidth,i.clientWidth)-s),{width:s,height:c,x:l,y:u}}function Ew(e,n){const r=kt(e),i=En(e),s=r.visualViewport;let c=i.clientWidth,l=i.clientHeight,u=0,d=0;if(s){c=s.width,l=s.height;const h=Ra();(!h||h&&n==="fixed")&&(u=s.offsetLeft,d=s.offsetTop)}return{width:c,height:l,x:u,y:d}}function Nw(e,n){const r=hr(e,!0,n==="fixed"),i=r.top+e.clientTop,s=r.left+e.clientLeft,c=pn(e)?Vr(e):Vn(1),l=e.clientWidth*c.x,u=e.clientHeight*c.y,d=s*c.x,h=i*c.y;return{width:l,height:u,x:d,y:h}}function Gd(e,n,r){let i;if(n==="viewport")i=Ew(e,r);else if(n==="document")i=$w(En(e));else if(Nn(n))i=Nw(n,r);else{const s=Hd(e);i={...n,x:n.x-s.x,y:n.y-s.y}}return Fi(i)}function Kd(e,n){const r=Hr(e);return r===n||!Nn(r)||Wi(r)?!1:Rt(r).position==="fixed"||Kd(r,n)}function Sw(e,n){const r=n.get(e);if(r)return r;let i=Ui(e).filter(u=>Nn(u)&&Gn(u)!=="body"),s=null;const c=Rt(e).position==="fixed";let l=c?Hr(e):e;for(;Nn(l)&&!Wi(l);){const u=Rt(l),d=Ka(l);!d&&u.position==="fixed"&&(s=null),(c?!d&&!s:!d&&u.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||Oo(l)&&!d&&Kd(e,l))?i=i.filter(m=>m!==l):s=u,l=Hr(l)}return n.set(e,i),i}function Dw(e){let{element:n,boundary:r,rootBoundary:i,strategy:s}=e;const l=[...r==="clippingAncestors"?Sw(n,this._c):[].concat(r),i],u=l[0],d=l.reduce((h,m)=>{const v=Gd(n,m,s);return h.top=It(v.top,h.top),h.right=Hn(v.right,h.right),h.bottom=Hn(v.bottom,h.bottom),h.left=It(v.left,h.left),h},Gd(n,u,s));return{width:d.right-d.left,height:d.bottom-d.top,x:d.left,y:d.top}}function _w(e){return zd(e)}function Pw(e,n,r){const i=pn(n),s=En(n),c=r==="fixed",l=hr(e,!0,c,n);let u={scrollLeft:0,scrollTop:0};const d=Vn(0);if(i||!i&&!c)if((Gn(n)!=="body"||Oo(s))&&(u=Bi(n)),i){const h=hr(n,!0,c,n);d.x=h.x+n.clientLeft,d.y=h.y+n.clientTop}else s&&(d.x=Vd(s));return{x:l.left+u.scrollLeft-d.x,y:l.top+u.scrollTop-d.y,width:l.width,height:l.height}}function Rd(e,n){return!pn(e)||Rt(e).position==="fixed"?null:n?n(e):e.offsetParent}function Yd(e,n){const r=kt(e);if(!pn(e))return r;let i=Rd(e,n);for(;i&&mw(i)&&Rt(i).position==="static";)i=Rd(i,n);return i&&(Gn(i)==="html"||Gn(i)==="body"&&Rt(i).position==="static"&&!Ka(i))?r:i||ww(e)||r}const Ow=async function(e){let{reference:n,floating:r,strategy:i}=e;const s=this.getOffsetParent||Yd,c=this.getDimensions;return{reference:Pw(n,await s(r),i),floating:{x:0,y:0,...await c(r)}}};function Aw(e){return Rt(e).direction==="rtl"}const Tw={convertOffsetParentRelativeRectToViewportRelativeRect:xw,getDocumentElement:En,getClippingRect:Dw,getOffsetParent:Yd,getElementRects:Ow,getClientRects:Cw,getDimensions:_w,getScale:Vr,isElement:Nn,isRTL:Aw};function Iw(e,n){let r=null,i;const s=En(e);function c(){clearTimeout(i),r&&r.disconnect(),r=null}function l(u,d){u===void 0&&(u=!1),d===void 0&&(d=1),c();const{left:h,top:m,width:v,height:y}=e.getBoundingClientRect();if(u||n(),!v||!y)return;const w=Mi(m),E=Mi(s.clientWidth-(h+v)),g=Mi(s.clientHeight-(m+y)),x=Mi(h),P={rootMargin:-w+"px "+-E+"px "+-g+"px "+-x+"px",threshold:It(0,Hn(1,d))||1};let S=!0;function _(A){const k=A[0].intersectionRatio;if(k!==d){if(!S)return l();k?l(!1,k):i=setTimeout(()=>{l(!1,1e-7)},100)}S=!1}try{r=new IntersectionObserver(_,{...P,root:s.ownerDocument})}catch{r=new IntersectionObserver(_,P)}r.observe(e)}return l(!0),c}function kw(e,n,r,i){i===void 0&&(i={});const{ancestorScroll:s=!0,ancestorResize:c=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:u=typeof IntersectionObserver=="function",animationFrame:d=!1}=i,h=Ya(e),m=s||c?[...h?Ui(h):[],...Ui(n)]:[];m.forEach($=>{s&&$.addEventListener("scroll",r,{passive:!0}),c&&$.addEventListener("resize",r)});const v=h&&u?Iw(h,r):null;let y=-1,w=null;l&&(w=new ResizeObserver($=>{let[P]=$;P&&P.target===h&&w&&(w.unobserve(n),cancelAnimationFrame(y),y=requestAnimationFrame(()=>{w&&w.observe(n)})),r()}),h&&!d&&w.observe(h),w.observe(n));let E,g=d?hr(e):null;d&&x();function x(){const $=hr(e);g&&($.x!==g.x||$.y!==g.y||$.width!==g.width||$.height!==g.height)&&r(),g=$,E=requestAnimationFrame(x)}return r(),()=>{m.forEach($=>{s&&$.removeEventListener("scroll",r),c&&$.removeEventListener("resize",r)}),v&&v(),w&&w.disconnect(),w=null,d&&cancelAnimationFrame(E)}}const Mw=(e,n,r)=>{const i=new Map,s={platform:Tw,...r},c={...s.platform,_c:i};return lw(e,n,{...s,platform:c})},Lw=e=>{function n(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:i,padding:s}=typeof e=="function"?e(r):e;return i&&n(i)?i.current!=null?Md({element:i.current,padding:s}).fn(r):{}:i?Md({element:i,padding:s}).fn(r):{}}}};var zi=typeof document<"u"?p.useLayoutEffect:p.useEffect;function Hi(e,n){if(e===n)return!0;if(typeof e!=typeof n)return!1;if(typeof e=="function"&&e.toString()===n.toString())return!0;let r,i,s;if(e&&n&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!=n.length)return!1;for(i=r;i--!==0;)if(!Hi(e[i],n[i]))return!1;return!0}if(s=Object.keys(e),r=s.length,r!==Object.keys(n).length)return!1;for(i=r;i--!==0;)if(!{}.hasOwnProperty.call(n,s[i]))return!1;for(i=r;i--!==0;){const c=s[i];if(!(c==="_owner"&&e.$$typeof)&&!Hi(e[c],n[c]))return!1}return!0}return e!==e&&n!==n}function qd(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Zd(e,n){const r=qd(e);return Math.round(n*r)/r}function Xd(e){const n=F.useRef(e);return zi(()=>{n.current=e}),n}function Fw(e){e===void 0&&(e={});const{placement:n="bottom",strategy:r="absolute",middleware:i=[],platform:s,elements:{reference:c,floating:l}={},transform:u=!0,whileElementsMounted:d,open:h}=e,[m,v]=F.useState({x:0,y:0,strategy:r,placement:n,middlewareData:{},isPositioned:!1}),[y,w]=F.useState(i);Hi(y,i)||w(i);const[E,g]=F.useState(null),[x,$]=F.useState(null),P=F.useCallback(ne=>{ne!=k.current&&(k.current=ne,g(ne))},[g]),S=F.useCallback(ne=>{ne!==T.current&&(T.current=ne,$(ne))},[$]),_=c||E,A=l||x,k=F.useRef(null),T=F.useRef(null),M=F.useRef(m),U=Xd(d),R=Xd(s),X=F.useCallback(()=>{if(!k.current||!T.current)return;const ne={placement:n,strategy:r,middleware:y};R.current&&(ne.platform=R.current),Mw(k.current,T.current,ne).then(se=>{const fe={...se,isPositioned:!0};Z.current&&!Hi(M.current,fe)&&(M.current=fe,Ag.flushSync(()=>{v(fe)}))})},[y,n,r,R]);zi(()=>{h===!1&&M.current.isPositioned&&(M.current.isPositioned=!1,v(ne=>({...ne,isPositioned:!1})))},[h]);const Z=F.useRef(!1);zi(()=>(Z.current=!0,()=>{Z.current=!1}),[]),zi(()=>{if(_&&(k.current=_),A&&(T.current=A),_&&A){if(U.current)return U.current(_,A,X);X()}},[_,A,X,U]);const oe=F.useMemo(()=>({reference:k,floating:T,setReference:P,setFloating:S}),[P,S]),q=F.useMemo(()=>({reference:_,floating:A}),[_,A]),ee=F.useMemo(()=>{const ne={position:r,left:0,top:0};if(!q.floating)return ne;const se=Zd(q.floating,m.x),fe=Zd(q.floating,m.y);return u?{...ne,transform:"translate("+se+"px, "+fe+"px)",...qd(q.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:se,top:fe}},[r,u,q.floating,m.x,m.y]);return F.useMemo(()=>({...m,update:X,refs:oe,elements:q,floatingStyles:ee}),[m,X,oe,q,ee])}function jd(e){const[n,r]=p.useState(void 0);return Sr(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const i=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const c=s[0];let l,u;if("borderBoxSize"in c){const d=c.borderBoxSize,h=Array.isArray(d)?d[0]:d;l=h.inlineSize,u=h.blockSize}else l=e.offsetWidth,u=e.offsetHeight;r({width:l,height:u})});return i.observe(e,{box:"border-box"}),()=>i.unobserve(e)}else r(void 0)},[e]),n}const Jd="Popper",[Qd,ef]=ho(Jd),[Ww,tf]=Qd(Jd),Bw=e=>{const{__scopePopper:n,children:r}=e,[i,s]=p.useState(null);return p.createElement(Ww,{scope:n,anchor:i,onAnchorChange:s},r)},Uw="PopperAnchor",zw=p.forwardRef((e,n)=>{const{__scopePopper:r,virtualRef:i,...s}=e,c=tf(Uw,r),l=p.useRef(null),u=it(n,l);return p.useEffect(()=>{c.onAnchorChange((i==null?void 0:i.current)||l.current)}),i?null:p.createElement(ht.div,ae({},s,{ref:u}))}),nf="PopperContent",[Hw,LS]=Qd(nf),Vw=p.forwardRef((e,n)=>{var r,i,s,c,l,u,d,h;const{__scopePopper:m,side:v="bottom",sideOffset:y=0,align:w="center",alignOffset:E=0,arrowPadding:g=0,avoidCollisions:x=!0,collisionBoundary:$=[],collisionPadding:P=0,sticky:S="partial",hideWhenDetached:_=!1,updatePositionStrategy:A="optimized",onPlaced:k,...T}=e,M=tf(nf,m),[U,R]=p.useState(null),X=it(n,Pe=>R(Pe)),[Z,oe]=p.useState(null),q=jd(Z),ee=(r=q==null?void 0:q.width)!==null&&r!==void 0?r:0,ne=(i=q==null?void 0:q.height)!==null&&i!==void 0?i:0,se=v+(w!=="center"?"-"+w:""),fe=typeof P=="number"?P:{top:0,right:0,bottom:0,left:0,...P},G=Array.isArray($)?$:[$],J=G.length>0,Q={padding:fe,boundary:G.filter(Gw),altBoundary:J},{refs:te,floatingStyles:ce,placement:_e,isPositioned:Se,middlewareData:we}=Fw({strategy:"fixed",placement:se,whileElementsMounted:(...Pe)=>kw(...Pe,{animationFrame:A==="always"}),elements:{reference:M.anchor},middleware:[hw({mainAxis:y+ne,alignmentAxis:E}),x&&pw({mainAxis:!0,crossAxis:!1,limiter:S==="partial"?gw():void 0,...Q}),x&&uw({...Q}),vw({...Q,apply:({elements:Pe,rects:Ct,availableWidth:pt,availableHeight:sn})=>{const{width:mn,height:at}=Ct.reference,Ye=Pe.floating.style;Ye.setProperty("--radix-popper-available-width",`${pt}px`),Ye.setProperty("--radix-popper-available-height",`${sn}px`),Ye.setProperty("--radix-popper-anchor-width",`${mn}px`),Ye.setProperty("--radix-popper-anchor-height",`${at}px`)}}),Z&&Lw({element:Z,padding:g}),Kw({arrowWidth:ee,arrowHeight:ne}),_&&dw({strategy:"referenceHidden",...Q})]}),[ke,Re]=rf(_e),K=Gt(k);Sr(()=>{Se&&(K==null||K())},[Se,K]);const st=(s=we.arrow)===null||s===void 0?void 0:s.x,ge=(c=we.arrow)===null||c===void 0?void 0:c.y,Ze=((l=we.arrow)===null||l===void 0?void 0:l.centerOffset)!==0,[xt,Ue]=p.useState();return Sr(()=>{U&&Ue(window.getComputedStyle(U).zIndex)},[U]),p.createElement("div",{ref:te.setFloating,"data-radix-popper-content-wrapper":"",style:{...ce,transform:Se?ce.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:xt,"--radix-popper-transform-origin":[(u=we.transformOrigin)===null||u===void 0?void 0:u.x,(d=we.transformOrigin)===null||d===void 0?void 0:d.y].join(" ")},dir:e.dir},p.createElement(Hw,{scope:m,placedSide:ke,onArrowChange:oe,arrowX:st,arrowY:ge,shouldHideArrow:Ze},p.createElement(ht.div,ae({"data-side":ke,"data-align":Re},T,{ref:X,style:{...T.style,animation:Se?void 0:"none",opacity:(h=we.hide)!==null&&h!==void 0&&h.referenceHidden?0:void 0}}))))});function Gw(e){return e!==null}const Kw=e=>({name:"transformOrigin",options:e,fn(n){var r,i,s,c,l;const{placement:u,rects:d,middlewareData:h}=n,v=((r=h.arrow)===null||r===void 0?void 0:r.centerOffset)!==0,y=v?0:e.arrowWidth,w=v?0:e.arrowHeight,[E,g]=rf(u),x={start:"0%",center:"50%",end:"100%"}[g],$=((i=(s=h.arrow)===null||s===void 0?void 0:s.x)!==null&&i!==void 0?i:0)+y/2,P=((c=(l=h.arrow)===null||l===void 0?void 0:l.y)!==null&&c!==void 0?c:0)+w/2;let S="",_="";return E==="bottom"?(S=v?x:`${$}px`,_=`${-w}px`):E==="top"?(S=v?x:`${$}px`,_=`${d.floating.height+w}px`):E==="right"?(S=`${-w}px`,_=v?x:`${P}px`):E==="left"&&(S=`${d.floating.width+w}px`,_=v?x:`${P}px`),{data:{x:S,y:_}}}});function rf(e){const[n,r="center"]=e.split("-");return[n,r]}const Rw=Bw,Yw=zw,qw=Vw,Zw=p.forwardRef((e,n)=>{var r;const{container:i=globalThis==null||(r=globalThis.document)===null||r===void 0?void 0:r.body,...s}=e;return i?ot.createPortal(p.createElement(ht.div,ae({},s,{ref:n})),i):null}),of="Popover",[sf,FS]=ho(of,[ef]),qa=ef(),[Xw,Gr]=sf(of),jw=e=>{const{__scopePopover:n,children:r,open:i,defaultOpen:s,onOpenChange:c,modal:l=!1}=e,u=qa(n),d=p.useRef(null),[h,m]=p.useState(!1),[v=!1,y]=Qs({prop:i,defaultProp:s,onChange:c});return p.createElement(Rw,u,p.createElement(Xw,{scope:n,contentId:fi(),triggerRef:d,open:v,onOpenChange:y,onOpenToggle:p.useCallback(()=>y(w=>!w),[y]),hasCustomAnchor:h,onCustomAnchorAdd:p.useCallback(()=>m(!0),[]),onCustomAnchorRemove:p.useCallback(()=>m(!1),[]),modal:l},r))},Jw="PopoverTrigger",Qw=p.forwardRef((e,n)=>{const{__scopePopover:r,...i}=e,s=Gr(Jw,r),c=qa(r),l=it(n,s.triggerRef),u=p.createElement(ht.button,ae({type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":lf(s.open)},i,{ref:l,onClick:nt(e.onClick,s.onOpenToggle)}));return s.hasCustomAnchor?u:p.createElement(Yw,ae({asChild:!0},c),u)}),af="PopoverPortal",[eb,tb]=sf(af,{forceMount:void 0}),nb=e=>{const{__scopePopover:n,forceMount:r,children:i,container:s}=e,c=Gr(af,n);return p.createElement(eb,{scope:n,forceMount:r},p.createElement(Dr,{present:r||c.open},p.createElement(Zw,{asChild:!0,container:s},i)))},Ao="PopoverContent",rb=p.forwardRef((e,n)=>{const r=tb(Ao,e.__scopePopover),{forceMount:i=r.forceMount,...s}=e,c=Gr(Ao,e.__scopePopover);return p.createElement(Dr,{present:i||c.open},c.modal?p.createElement(ob,ae({},s,{ref:n})):p.createElement(ib,ae({},s,{ref:n})))}),ob=p.forwardRef((e,n)=>{const r=Gr(Ao,e.__scopePopover),i=p.useRef(null),s=it(n,i),c=p.useRef(!1);return p.useEffect(()=>{const l=i.current;if(l)return ua(l)},[]),p.createElement(Pu,{as:Fn,allowPinchZoom:!0},p.createElement(cf,ae({},e,{ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:nt(e.onCloseAutoFocus,l=>{var u;l.preventDefault(),c.current||(u=r.triggerRef.current)===null||u===void 0||u.focus()}),onPointerDownOutside:nt(e.onPointerDownOutside,l=>{const u=l.detail.originalEvent,d=u.button===0&&u.ctrlKey===!0,h=u.button===2||d;c.current=h},{checkForDefaultPrevented:!1}),onFocusOutside:nt(e.onFocusOutside,l=>l.preventDefault(),{checkForDefaultPrevented:!1})})))}),ib=p.forwardRef((e,n)=>{const r=Gr(Ao,e.__scopePopover),i=p.useRef(!1),s=p.useRef(!1);return p.createElement(cf,ae({},e,{ref:n,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:c=>{var l;if((l=e.onCloseAutoFocus)===null||l===void 0||l.call(e,c),!c.defaultPrevented){var u;i.current||(u=r.triggerRef.current)===null||u===void 0||u.focus(),c.preventDefault()}i.current=!1,s.current=!1},onInteractOutside:c=>{var l,u;(l=e.onInteractOutside)===null||l===void 0||l.call(e,c),c.defaultPrevented||(i.current=!0,c.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const d=c.target;((u=r.triggerRef.current)===null||u===void 0?void 0:u.contains(d))&&c.preventDefault(),c.detail.originalEvent.type==="focusin"&&s.current&&c.preventDefault()}}))}),cf=p.forwardRef((e,n)=>{const{__scopePopover:r,trapFocus:i,onOpenAutoFocus:s,onCloseAutoFocus:c,disableOutsidePointerEvents:l,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:h,onInteractOutside:m,...v}=e,y=Gr(Ao,r),w=qa(r);return fu(),p.createElement(q1,{asChild:!0,loop:!0,trapped:i,onMountAutoFocus:s,onUnmountAutoFocus:c},p.createElement(K1,{asChild:!0,disableOutsidePointerEvents:l,onInteractOutside:m,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:h,onDismiss:()=>y.onOpenChange(!1)},p.createElement(qw,ae({"data-state":lf(y.open),role:"dialog",id:y.contentId},w,v,{ref:n,style:{...v.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}}))))});function lf(e){return e?"open":"closed"}const sb=jw,ab=Qw,cb=nb,uf=rb,Vi=sb,Gi=ab,To=F.forwardRef(({className:e,align:n="center",sideOffset:r=4,...i},s)=>C.jsx(cb,{children:C.jsx(uf,{ref:s,align:n,sideOffset:r,className:Le("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...i})}));To.displayName=uf.displayName;const lb=({value:e,onChange:n,onFocus:r,onClick:i,onKeyDown:s,onKeyUp:c,style:l,className:u,disabled:d,autoFocus:h,placeholder:m,focusChar:v,...y})=>{const w=p.useRef(null);p.useEffect(()=>{h&&w.current&&(console.log("here",v,h),w.current.focus())},[h]);const E=()=>{if(console.log("input",w.current),!w.current)return;const A=df(w.current);console.log("updateInput",A),n(e||"",A),ub(w.current,A)},g=A=>{E()},x=A=>{if(!w.current)return;const k=df(w.current);r&&r(k)};p.useEffect(()=>{w.current&&(e===void 0?w.current.innerText="":w.current.innerText=e)},[e]);const $=A=>{e!==void 0&&E()};p.useEffect(()=>{w.current&&(e?w.current.innerText=e:w.current.innerText="")},[e]);const P=A=>{s&&s(A)},S=A=>{c&&c(A)},_=(w==null?void 0:w.current)===document.activeElement;return C.jsxs("div",{ref:w,contentEditable:!d,autoFocus:h,placeholder:m,className:`h-full w-full border-none ${e?"text-white":"text-white/50"} ${u}`,style:{...l,position:"relative"},onInput:$,onFocus:x,onBlur:g,onClick:i,onKeyDown:P,onKeyUp:S,...y,suppressContentEditableWarning:!0,children:[e||"",!e&&!_&&C.jsx("span",{children:m})]})},df=e=>{var u;const n=window.getSelection();if(!n||n.rangeCount===0)return console.warn("selection is null or rangeCount is 0"),0;let r=0;const i=n.getRangeAt(0),s=i.cloneRange();s.selectNodeContents(e),s.setEnd(i.endContainer,i.endOffset);const c=document.createNodeIterator(e,NodeFilter.SHOW_TEXT,null);let l;for(;l=c.nextNode();)if(l===i.endContainer){r+=i.endOffset;break}else r+=((u=l.textContent)==null?void 0:u.length)??0;return r},ub=(e,n)=>{var u;const r=document.createRange(),i=window.getSelection(),s=document.createNodeIterator(e,NodeFilter.SHOW_TEXT,null);let c,l=0;for(;c=s.nextNode();){const d=((u=c.textContent)==null?void 0:u.length)??0;if(l+d>=n){r.setStart(c,n-l),r.collapse(!0),i==null||i.removeAllRanges(),i==null||i.addRange(r);return}l+=d}r.setStart(e,e.childNodes.length),r.collapse(!0),i==null||i.removeAllRanges(),i==null||i.addRange(r)};function db({values:e,searchMessage:n="Search...",selectMessage:r="Select...",emptyMessage:i="No results",defaultValue:s,selectedIndex:c,handleTextEdit:l,isDragging:u,draggingOver:d,draggingOn:h,handleChange:m,addYoungerSibling:v,moveLeft:y,moveRight:w,moveUp:E,moveDown:g,moveFocusUp:x,moveFocusDown:$,deleteOption:P,deleteRow:S,addOption:_,handleUndo:A,handleRedo:k,toggleCollapse:T,variant:M="default",hasFocus:U,focusChar:R,setFocus:X,suggestOption:Z,locked:oe,...q}){var ke,Re;const[ee,ne]=F.useState(!1),[se,fe]=F.useState(s);F.useEffect(()=>{if(c!==void 0){if(e.length<1)throw new Error("values.length < 1");fe(c.toString()||s||"0")}},[c]);const G=(ke=e.find(K=>K.value===se))==null?void 0:ke.label,J=(K,st)=>{if(!oe)return l(K,st),!1},Q=K=>{if(oe){K.preventDefault(),K.stopPropagation();return}K.key===" "&&K.stopPropagation(),K.key==="ArrowUp"&&K.ctrlKey&&K.stopPropagation(),K.key==="Enter"&&(console.log("trying to prevent default"),K.preventDefault(),K.stopPropagation())},te=K=>{if(oe){K.preventDefault(),K.stopPropagation();return}if(K.key==="Enter"&&(K.altKey?_():(console.log("addYoungerSibling - comboboxEditable"),v())),(K.key==="z"||K.key==="Z")&&K.ctrlKey&&(K.shiftKey?(K.preventDefault(),k(),K.stopPropagation()):(K.preventDefault(),A(),K.stopPropagation())),K.key==="ArrowUp"){if(K.altKey&&K.ctrlKey)console.log("test",se,e.length,(parseInt(se||"0")-1+e.length)%e.length),m(se?((parseInt(se)-1+e.length)%e.length).toString():"0");else if(!K.ctrlKey&&!K.shiftKey&&!K.metaKey&&!K.altKey){x(),K.preventDefault(),K.stopPropagation();return}}if(K.key==="ArrowDown"){if(K.altKey&&K.ctrlKey)m(se?((parseInt(se)+1)%e.length).toString():"0");else if(!K.ctrlKey&&!K.shiftKey&&!K.metaKey&&!K.altKey){K.preventDefault(),K.stopPropagation(),$();return}}K.key==="ArrowRight"&&K.altKey&&K.ctrlKey&&w(),K.key==="ArrowLeft"&&K.altKey&&K.ctrlKey&&y(),K.key===" "&&K.ctrlKey&&T(),K.key==="Backspace"&&!G&&(console.log("deleteRow - comboboxEditable",G),S())},ce=K=>{oe||P(K)},_e=d?{}:{},Se=h?{backgroundColor:"rgba(230, 220, 200, .07)",border:"1px solid rgba(230, 220, 200, .3)"}:{},we=u?{backgroundColor:"rgba(230, 220, 200, .03)",opacity:"0.5"}:{};return C.jsxs(Vi,{open:ee,onOpenChange:ne,children:[C.jsx(Gi,{asChild:!0,children:C.jsxs("div",{style:{position:"relative",opacity:1,height:"auto",...Se,..._e,display:"grid",gridTemplateColumns:"1fr .25rem",width:"calc(100% - 2rem)"},role:"combobox",className:" ",children:[C.jsx(lb,{disabled:oe,autoFocus:U,placeholder:e.length>1?"New Option":"Enter a task to plan",className:"rounded-r-none w-full cursor-text",value:se?(Re=e.find(K=>K.value===se))==null?void 0:Re.label:r,style:{width:"calc(100% - 1.25rem)",fontSize:"1rem",fontWeight:"normal",height:"auto",...we},onChange:J,onClick:K=>{K.stopPropagation()},onKeyDown:Q,onKeyUp:te,onFocus:K=>X(K),focusChar:R}),C.jsx("div",{className:"flex w-5 justify-center items-center flex p-0","aria-expanded":ee,children:C.jsx(li,{className:`h-4 ${e.length>1?"text-teal-100/80":"opacity-80 fill-white"}`,style:{padding:"0px 0px 0px 0px"}})})]})}),C.jsx(To,{className:"w-[200px] p-0",children:C.jsxs(So,{children:[C.jsx(Do,{children:i}),C.jsx(fr,{children:e.map((K,st)=>C.jsxs(_o,{value:K.value,onSelect:ge=>{fe(ge===se?se:ge),m(ge),ne(!1)},children:[K.label||C.jsx("span",{className:"opacity-50",children:"New Option"}),C.jsx(ui,{className:Le("ml-auto h-4 w-4",se===K.value?"opacity-100":"opacity-0")}),e.length>1&&se!==K.value&&C.jsx("div",{children:C.jsx(eu,{className:"h-4 w-4 opacity-50 hover:opacity-100 cursor-pointer",color:"rgba(200, 100, 100, .7)",onClick:ge=>{ge.stopPropagation(),ce(st)}})})]},K.value))}),C.jsx(fr,{children:C.jsxs("div",{className:"grid grid-cols-2 place-content-stretch gap-1",children:[C.jsx("div",{className:"",children:C.jsx(ye,{onClick:()=>{_(),ne(!1)},className:"justify-center bg-gray-100/30 text-gray-900 hover:bg-gray-200 h-10 w-full",children:C.jsx(Ql,{className:"h-4"})})}),C.jsx("div",{className:"",children:C.jsx(ye,{onClick:()=>{Z(),ne(!1)},className:"bg-emerald-900 w-full",children:C.jsx(xn,{className:"h-4"})})})]})})]})})]})}const fb={display:"none"};function hb(e){let{id:n,value:r}=e;return p.createElement("div",{id:n,style:fb},r)}const pb={position:"fixed",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};function gb(e){let{id:n,announcement:r}=e;return p.createElement("div",{id:n,style:pb,role:"status","aria-live":"assertive","aria-atomic":!0},r)}function vb(){const[e,n]=p.useState("");return{announce:p.useCallback(i=>{i!=null&&n(i)},[]),announcement:e}}const mb={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},wb={onDragStart(e){return`Picked up draggable item ${e}.`},onDragOver(e,n){return n?`Draggable item ${e} was moved over droppable area ${n}.`:`Draggable item ${e} is no longer over a droppable area.`},onDragEnd(e,n){return n?`Draggable item ${e} was dropped over droppable area ${n}`:`Draggable item ${e} was dropped.`},onDragCancel(e){return`Dragging was cancelled. Draggable item ${e} was dropped.`}};var Fe;(function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"})(Fe||(Fe={}));function Ki(...e){}class Io extends Map{get(n){var r;return n!=null&&(r=super.get(n))!=null?r:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(({disabled:n})=>!n)}getNodeFor(n){var r,i;return(r=(i=this.get(n))==null?void 0:i.node.current)!=null?r:void 0}}const bb={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:{},droppableRects:new Map,droppableContainers:new Io,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:Ki},scrollableAncestors:[],scrollableAncestorRects:[],measureDroppableContainers:Ki,windowRect:null,measuringScheduled:!1},yb={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:Ki,draggableNodes:{},over:null,measureDroppableContainers:Ki},Za=p.createContext(yb),xb=p.createContext(bb);function Cb(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:{},translate:{x:0,y:0}},droppable:{containers:new Io}}}function $b(e,n){switch(n.type){case Fe.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:n.initialCoordinates,active:n.active}};case Fe.DragMove:return e.draggable.active?{...e,draggable:{...e.draggable,translate:{x:n.coordinates.x-e.draggable.initialCoordinates.x,y:n.coordinates.y-e.draggable.initialCoordinates.y}}}:e;case Fe.DragEnd:case Fe.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case Fe.RegisterDroppable:{const{element:r}=n,{id:i}=r,s=new Io(e.droppable.containers);return s.set(i,r),{...e,droppable:{...e.droppable,containers:s}}}case Fe.SetDroppableDisabled:{const{id:r,key:i,disabled:s}=n,c=e.droppable.containers.get(r);if(!c||i!==c.key)return e;const l=new Io(e.droppable.containers);return l.set(r,{...c,disabled:s}),{...e,droppable:{...e.droppable,containers:l}}}case Fe.UnregisterDroppable:{const{id:r,key:i}=n,s=e.droppable.containers.get(r);if(!s||i!==s.key)return e;const c=new Io(e.droppable.containers);return c.delete(r),{...e,droppable:{...e.droppable,containers:c}}}default:return e}}const ff=p.createContext({type:null,event:null});function Eb({onDragStart:e,onDragMove:n,onDragOver:r,onDragEnd:i,onDragCancel:s}){const c=p.useContext(ff),l=p.useRef(c);p.useEffect(()=>{if(c!==l.current){const{type:u,event:d}=c;switch(u){case Fe.DragStart:e==null||e(d);break;case Fe.DragMove:n==null||n(d);break;case Fe.DragOver:r==null||r(d);break;case Fe.DragCancel:s==null||s(d);break;case Fe.DragEnd:i==null||i(d);break}l.current=c}},[c,e,n,r,i,s])}function Nb({announcements:e=wb,hiddenTextDescribedById:n,screenReaderInstructions:r}){const{announce:i,announcement:s}=vb(),c=Si("DndLiveRegion"),[l,u]=p.useState(!1);return p.useEffect(()=>{u(!0)},[]),Eb(p.useMemo(()=>({onDragStart({active:d}){i(e.onDragStart(d.id))},onDragMove({active:d,over:h}){e.onDragMove&&i(e.onDragMove(d.id,h==null?void 0:h.id))},onDragOver({active:d,over:h}){i(e.onDragOver(d.id,h==null?void 0:h.id))},onDragEnd({active:d,over:h}){i(e.onDragEnd(d.id,h==null?void 0:h.id))},onDragCancel({active:d}){i(e.onDragCancel(d.id))}}),[i,e])),l?ot.createPortal(p.createElement(p.Fragment,null,p.createElement(hb,{id:n,value:r.draggable}),p.createElement(gb,{id:c,announcement:s})),document.body):null}const gn=Object.freeze({x:0,y:0});function Sb(e,n){return Math.sqrt(Math.pow(e.x-n.x,2)+Math.pow(e.y-n.y,2))}function Db({data:{value:e}},{data:{value:n}}){return e-n}function _b({data:{value:e}},{data:{value:n}}){return n-e}function hf({left:e,top:n,height:r,width:i}){return[{x:e,y:n},{x:e+i,y:n},{x:e,y:n+r},{x:e+i,y:n+r}]}function pf(e,n){if(!e||e.length===0)return null;const[r]=e;return n?r[n]:r}const Pb=({collisionRect:e,droppableContainers:n})=>{const r=hf(e),i=[];for(const s of n){const{id:c,rect:{current:l}}=s;if(l){const u=hf(l),d=r.reduce((m,v,y)=>m+Sb(u[y],v),0),h=Number((d/4).toFixed(4));i.push({id:c,data:{droppableContainer:s,value:h}})}}return i.sort(Db)};function Ob(e,n){const r=Math.max(n.top,e.top),i=Math.max(n.left,e.left),s=Math.min(n.left+n.width,e.left+e.width),c=Math.min(n.top+n.height,e.top+e.height),l=s-i,u=c-r;if(i<s&&r<c){const d=n.width*n.height,h=e.width*e.height,m=l*u,v=m/(d+h-m);return Number(v.toFixed(4))}return 0}const Ab=({collisionRect:e,droppableContainers:n})=>{const r=[];for(const i of n){const{id:s,rect:{current:c}}=i;if(c){const l=Ob(c,e);l>0&&r.push({id:s,data:{droppableContainer:i,value:l}})}}return r.sort(_b)};function Tb(e,n,r){return{...e,scaleX:n&&r?n.width/r.width:1,scaleY:n&&r?n.height/r.height:1}}function Ib(e,n){return e&&n?{x:e.left-n.left,y:e.top-n.top}:gn}function kb(e){return function(r,...i){return i.reduce((s,c)=>({...s,top:s.top+e*c.y,bottom:s.bottom+e*c.y,left:s.left+e*c.x,right:s.right+e*c.x}),{...r})}}const Mb=kb(1);function Lb(e,n,r){let i,s,c,l,u;if(n.startsWith("matrix3d("))i=n.slice(9,-1).split(/, /),s=+i[0],c=+i[5],l=+i[12],u=+i[13];else if(n.startsWith("matrix("))i=n.slice(7,-1).split(/, /),s=+i[0],c=+i[3],l=+i[4],u=+i[5];else return e;const d=e.left-l-(1-s)*parseFloat(r),h=e.top-u-(1-c)*parseFloat(r.slice(r.indexOf(" ")+1)),m=s?e.width/s:e.width,v=c?e.height/c:e.height;return{width:m,height:v,top:h,right:d+m,bottom:h+v,left:d}}const Fb={ignoreTransform:!1};function gf(e,n=Fb){let r=e.getBoundingClientRect();if(n.ignoreTransform){const{getComputedStyle:h}=Kt(e),{transform:m,transformOrigin:v}=h(e);m&&(r=Lb(r,m,v))}const{top:i,left:s,width:c,height:l,bottom:u,right:d}=r;return{top:i,left:s,width:c,height:l,bottom:u,right:d}}function ko(e){return gf(e,{ignoreTransform:!0})}function Wb(e){const n=e.innerWidth,r=e.innerHeight;return{top:0,left:0,right:n,bottom:r,width:n,height:r}}function Bb(e,n=Kt(e).getComputedStyle(e)){return n.position==="fixed"}function Ub(e,n=Kt(e).getComputedStyle(e)){const r=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].find(s=>{const c=n[s];return typeof c=="string"?r.test(c):!1})!=null}function Xa(e){const n=[];function r(i){if(!i)return n;if(ga(i)&&i.scrollingElement!=null&&!n.includes(i.scrollingElement))return n.push(i.scrollingElement),n;if(!Tr(i)||am(i)||n.includes(i))return n;const{getComputedStyle:s}=Kt(i),c=s(i);return i!==e&&Ub(i,c)&&n.push(i),Bb(i,c)?n:r(i.parentNode)}return e?r(e):n}function ja(e){return!Ei||!e?null:Ar(e)?e:pa(e)?ga(e)||e===Ir(e).scrollingElement?window:Tr(e)?e:null:null}function vf(e){return Ar(e)?e.scrollX:e.scrollLeft}function mf(e){return Ar(e)?e.scrollY:e.scrollTop}function Ja(e){return{x:vf(e),y:mf(e)}}var Kr;(function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"})(Kr||(Kr={}));function wf(e){const n={x:0,y:0},r={x:e.scrollWidth-e.clientWidth,y:e.scrollHeight-e.clientHeight},i=e.scrollTop<=n.y,s=e.scrollLeft<=n.x,c=e.scrollTop>=r.y,l=e.scrollLeft>=r.x;return{isTop:i,isLeft:s,isBottom:c,isRight:l,maxScroll:r,minScroll:n}}function zb(e){return!Ei||!e?!1:e===document.scrollingElement}const Hb={x:.2,y:.2};function Vb(e,n,{top:r,left:i,right:s,bottom:c},l=10,u=Hb){const{clientHeight:d,clientWidth:h}=e,m=zb(e)?{top:0,left:0,right:h,bottom:d,width:h,height:d}:n,{isTop:v,isBottom:y,isLeft:w,isRight:E}=wf(e),g={x:0,y:0},x={x:0,y:0},$={height:m.height*u.y,width:m.width*u.x};return!v&&r<=m.top+$.height?(g.y=Kr.Backward,x.y=l*Math.abs((m.top+$.height-r)/$.height)):!y&&c>=m.bottom-$.height&&(g.y=Kr.Forward,x.y=l*Math.abs((m.bottom-$.height-c)/$.height)),!E&&s>=m.right-$.width?(g.x=Kr.Forward,x.x=l*Math.abs((m.right-$.width-s)/$.width)):!w&&i<=m.left+$.width&&(g.x=Kr.Backward,x.x=l*Math.abs((m.left+$.width-i)/$.width)),{direction:g,speed:x}}function Gb(e){if(e===document.scrollingElement){const{innerWidth:c,innerHeight:l}=window;return{top:0,left:0,right:c,bottom:l,width:c,height:l}}const{top:n,left:r,right:i,bottom:s}=e.getBoundingClientRect();return{top:n,left:r,right:i,bottom:s,width:e.clientWidth,height:e.clientHeight}}function bf(e){return e.reduce((n,r)=>bo(n,Ja(r)),gn)}function Kb(e){return e.reduce((n,r)=>n+vf(r),0)}function Rb(e){return e.reduce((n,r)=>n+mf(r),0)}const Yb=[["x",["left","right"],Kb],["y",["top","bottom"],Rb]];class Qa{constructor(n,r){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const i=Xa(r),s=bf(i);this.rect={...n},this.width=n.width,this.height=n.height;for(const[c,l,u]of Yb)for(const d of l)Object.defineProperty(this,d,{get:()=>{const h=u(i),m=s[c]-h;return this.rect[d]+m},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}var Mo;(function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"})(Mo||(Mo={}));var Ri;(function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"})(Ri||(Ri={}));function qb({acceleration:e,activator:n=Mo.Pointer,canScroll:r,draggingRect:i,enabled:s,interval:c=5,order:l=Ri.TreeOrder,pointerCoordinates:u,scrollableAncestors:d,scrollableAncestorRects:h,threshold:m}){const[v,y]=lm(),w=p.useRef({x:1,y:1}),E=p.useMemo(()=>{switch(n){case Mo.Pointer:return u?{top:u.y,bottom:u.y,left:u.x,right:u.x}:null;case Mo.DraggableRect:return i}return null},[n,i,u]),g=p.useRef(gn),x=p.useRef(null),$=p.useCallback(()=>{const S=x.current;if(!S)return;const _=w.current.x*g.current.x,A=w.current.y*g.current.y;S.scrollBy(_,A)},[]),P=p.useMemo(()=>l===Ri.TreeOrder?[...d].reverse():d,[l,d]);p.useEffect(()=>{if(!s||!d.length||!E){y();return}for(const S of P){if((r==null?void 0:r(S))===!1)continue;const _=d.indexOf(S),A=h[_];if(!A)continue;const{direction:k,speed:T}=Vb(S,A,E,e,m);if(T.x>0||T.y>0){y(),x.current=S,v($,c),w.current=T,g.current=k;return}}w.current={x:0,y:0},g.current={x:0,y:0},y()},[e,$,r,y,s,c,JSON.stringify(E),v,d,P,h,JSON.stringify(m)])}function Zb(e,n){const r=n!==null?e[n]:void 0,i=r?r.node.current:null;return wo(s=>{var c;return n===null?null:(c=i??s)!=null?c:null},[i,n])}function Xb(e,n){return p.useMemo(()=>e.reduce((r,i)=>{const{sensor:s}=i,c=s.activators.map(l=>({eventName:l.eventName,handler:n(l.handler,i)}));return[...r,...c]},[]),[e,n])}var Lo;(function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"})(Lo||(Lo={}));var ec;(function(e){e.Optimized="optimized"})(ec||(ec={}));const yf=new Map,jb={measure:ko,strategy:Lo.WhileDragging,frequency:ec.Optimized};function Jb(e,{dragging:n,dependencies:r,config:i}){const[s,c]=p.useState(null),l=s!=null,{frequency:u,measure:d,strategy:h}={...jb,...i},m=p.useRef(e),v=p.useCallback((x=[])=>c($=>$?$.concat(x):x),[]),y=p.useRef(null),w=g(),E=wo(x=>{if(w&&!n)return yf;const $=s;if(!x||x===yf||m.current!==e||$!=null){const P=new Map;for(let S of e){if(!S)continue;if($&&$.length>0&&!$.includes(S.id)&&S.rect.current){P.set(S.id,S.rect.current);continue}const _=S.node.current,A=_?new Qa(d(_),_):null;S.rect.current=A,A&&P.set(S.id,A)}return P}return x},[e,s,n,w,d]);return p.useEffect(()=>{m.current=e},[e]),p.useEffect(()=>{w||requestAnimationFrame(()=>v())},[n,w]),p.useEffect(()=>{l&&c(null)},[l]),p.useEffect(()=>{w||typeof u!="number"||y.current!==null||(y.current=setTimeout(()=>{v(),y.current=null},u))},[u,w,v,...r]),{droppableRects:E,measureDroppableContainers:v,measuringScheduled:l};function g(){switch(h){case Lo.Always:return!1;case Lo.BeforeDragging:return n;default:return!n}}}function xf({onResize:e,disabled:n}){const r=p.useMemo(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:i}=window;return new i(e)},[n,e]);return p.useEffect(()=>()=>r==null?void 0:r.disconnect(),[r]),r}function Qb(e){const[n,r]=p.useState(null),i=p.useRef(e),s=p.useCallback(c=>{const l=ja(c.target);l&&r(u=>u?(u.set(l,Ja(l)),new Map(u)):null)},[]);return p.useEffect(()=>{const c=i.current;if(e!==c){l(c);const u=e.map(d=>{const h=ja(d);return h?(h.addEventListener("scroll",s,{passive:!0}),[h,Ja(h)]):null}).filter(d=>d!=null);r(u.length?new Map(u):null),i.current=e}return()=>{l(e),l(c)};function l(u){u.forEach(d=>{const h=ja(d);h==null||h.removeEventListener("scroll",s)})}},[s,e]),p.useMemo(()=>e.length?n?Array.from(n.values()).reduce((c,l)=>bo(c,l),gn):bf(e):gn,[e,n])}const ey=[];function ty(e){const n=p.useRef(e),r=wo(i=>e?i&&e&&n.current&&e.parentNode===n.current.parentNode?i:Xa(e):ey,[e]);return p.useEffect(()=>{n.current=e},[e]),r}function ny(e){p.useEffect(()=>{if(!Ei)return;const n=e.map(({sensor:r})=>r.setup==null?void 0:r.setup());return()=>{for(const r of n)r==null||r()}},e.map(({sensor:n})=>n))}function ry(e,n){return p.useMemo(()=>e.reduce((r,{eventName:i,handler:s})=>(r[i]=c=>{s(c,n)},r),{}),[e,n])}const oy=sy(ko),iy=ay(ko);function Cf(e,n,r){const i=p.useRef(e);return wo(s=>e?r||!s&&e||e!==i.current?Tr(e)&&e.parentNode==null?null:new Qa(n(e),e):s??null:null,[e,r,n])}function sy(e){return(n,r)=>Cf(n,e,r)}function ay(e){const n=[];return function(i,s){const c=p.useRef(i);return wo(l=>i.length?s||!l&&i.length||i!==c.current?i.map(u=>new Qa(e(u),u)):l??n:n,[i,s])}}function cy(e){return p.useMemo(()=>e?Wb(e):null,[e])}function ly(e){if(!e)return null;if(e.children.length>1)return e;const n=e.children[0];return Tr(n)?n:e}function uy({measure:e=gf}){const[n,r]=p.useState(null),i=p.useCallback(d=>{for(const{target:h}of d)if(Tr(h)){r(m=>{const v=e(h);return m?{...m,width:v.width,height:v.height}:v});break}},[e]),s=xf({onResize:i}),c=p.useCallback(d=>{const h=ly(d);s==null||s.disconnect(),h&&(s==null||s.observe(h)),r(h?e(h):null)},[e,s]),[l,u]=va(c);return p.useMemo(()=>({nodeRef:l,rect:n,setRef:u}),[n,l,u])}function tc(e,n){return p.useMemo(()=>({sensor:e,options:n??{}}),[e,n])}function dy(...e){return p.useMemo(()=>[...e].filter(n=>n!=null),[...e])}class Fo{constructor(n){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(r=>{var i;return(i=this.target)==null?void 0:i.removeEventListener(...r)})},this.target=n}add(n,r,i){var s;(s=this.target)==null||s.addEventListener(n,r,i),this.listeners.push([n,r,i])}}function fy(e){const{EventTarget:n}=Kt(e);return e instanceof n?e:Ir(e)}function nc(e,n){const r=Math.abs(e.x),i=Math.abs(e.y);return typeof n=="number"?Math.sqrt(r**2+i**2)>n:"x"in n&&"y"in n?r>n.x&&i>n.y:"x"in n?r>n.x:"y"in n?i>n.y:!1}var Yt;(function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"})(Yt||(Yt={}));function $f(e){e.preventDefault()}function hy(e){e.stopPropagation()}var Ne;(function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter"})(Ne||(Ne={}));const Ef={start:[Ne.Space,Ne.Enter],cancel:[Ne.Esc],end:[Ne.Space,Ne.Enter]},py=(e,{currentCoordinates:n})=>{switch(e.code){case Ne.Right:return{...n,x:n.x+25};case Ne.Left:return{...n,x:n.x-25};case Ne.Down:return{...n,y:n.y+25};case Ne.Up:return{...n,y:n.y-25}}};class rc{constructor(n){this.props=void 0,this.autoScrollEnabled=!1,this.coordinates=gn,this.listeners=void 0,this.windowListeners=void 0,this.props=n;const{event:{target:r}}=n;this.props=n,this.listeners=new Fo(Ir(r)),this.windowListeners=new Fo(Kt(r)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(Yt.Resize,this.handleCancel),this.windowListeners.add(Yt.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(Yt.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:n,onStart:r}=this.props;if(!n.node.current)throw new Error("Active draggable node is undefined");const i=ko(n.node.current),s={x:i.left,y:i.top};this.coordinates=s,r(s)}handleKeyDown(n){if(dm(n)){const{coordinates:r}=this,{active:i,context:s,options:c}=this.props,{keyboardCodes:l=Ef,coordinateGetter:u=py,scrollBehavior:d="smooth"}=c,{code:h}=n;if(l.end.includes(h)){this.handleEnd(n);return}if(l.cancel.includes(h)){this.handleCancel(n);return}const m=u(n,{active:i,context:s.current,currentCoordinates:r});if(m){const v={x:0,y:0},{scrollableAncestors:y}=s.current;for(const w of y){const E=n.code,g=Hu(m,r),{isTop:x,isRight:$,isLeft:P,isBottom:S,maxScroll:_,minScroll:A}=wf(w),k=Gb(w),T={x:Math.min(E===Ne.Right?k.right-k.width/2:k.right,Math.max(E===Ne.Right?k.left:k.left+k.width/2,m.x)),y:Math.min(E===Ne.Down?k.bottom-k.height/2:k.bottom,Math.max(E===Ne.Down?k.top:k.top+k.height/2,m.y))},M=E===Ne.Right&&!$||E===Ne.Left&&!P,U=E===Ne.Down&&!S||E===Ne.Up&&!x;if(M&&T.x!==m.x){if(E===Ne.Right&&w.scrollLeft+g.x<=_.x||E===Ne.Left&&w.scrollLeft+g.x>=A.x){w.scrollBy({left:g.x,behavior:d});return}v.x=E===Ne.Right?w.scrollLeft-_.x:w.scrollLeft-A.x,w.scrollBy({left:-v.x,behavior:d});break}else if(U&&T.y!==m.y){if(E===Ne.Down&&w.scrollTop+g.y<=_.y||E===Ne.Up&&w.scrollTop+g.y>=A.y){w.scrollBy({top:g.y,behavior:d});return}v.y=E===Ne.Down?w.scrollTop-_.y:w.scrollTop-A.y,w.scrollBy({top:-v.y,behavior:d});break}}this.handleMove(n,bo(m,v))}}}handleMove(n,r){const{onMove:i}=this.props;n.preventDefault(),i(r),this.coordinates=r}handleEnd(n){const{onEnd:r}=this.props;n.preventDefault(),this.detach(),r()}handleCancel(n){const{onCancel:r}=this.props;n.preventDefault(),this.detach(),r()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}rc.activators=[{eventName:"onKeyDown",handler:(e,{keyboardCodes:n=Ef,onActivation:r})=>{const{code:i}=e.nativeEvent;return n.start.includes(i)?(e.preventDefault(),r==null||r({event:e.nativeEvent}),!0):!1}}];function Nf(e){return!!(e&&"distance"in e)}function Sf(e){return!!(e&&"delay"in e)}class oc{constructor(n,r,i=fy(n.event.target)){var s;this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=n,this.events=r;const{event:c}=n,{target:l}=c;this.props=n,this.events=r,this.document=Ir(l),this.documentListeners=new Fo(this.document),this.listeners=new Fo(i),this.windowListeners=new Fo(Kt(l)),this.initialCoordinates=(s=wa(c))!=null?s:gn,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:n,props:{options:{activationConstraint:r}}}=this;if(this.listeners.add(n.move.name,this.handleMove,{passive:!1}),this.listeners.add(n.end.name,this.handleEnd),this.windowListeners.add(Yt.Resize,this.handleCancel),this.windowListeners.add(Yt.DragStart,$f),this.windowListeners.add(Yt.VisibilityChange,this.handleCancel),this.windowListeners.add(Yt.ContextMenu,$f),this.documentListeners.add(Yt.Keydown,this.handleKeydown),r){if(Nf(r))return;if(Sf(r)){this.timeoutId=setTimeout(this.handleStart,r.delay);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handleStart(){const{initialCoordinates:n}=this,{onStart:r}=this.props;n&&(this.activated=!0,this.documentListeners.add(Yt.Click,hy,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(Yt.SelectionChange,this.removeTextSelection),r(n))}handleMove(n){var r;const{activated:i,initialCoordinates:s,props:c}=this,{onMove:l,options:{activationConstraint:u}}=c;if(!s)return;const d=(r=wa(n))!=null?r:gn,h=Hu(s,d);if(!i&&u){if(Sf(u))return nc(h,u.tolerance)?this.handleCancel():void 0;if(Nf(u))return u.tolerance!=null&&nc(h,u.tolerance)?this.handleCancel():nc(h,u.distance)?this.handleStart():void 0}n.cancelable&&n.preventDefault(),l(d)}handleEnd(){const{onEnd:n}=this.props;this.detach(),n()}handleCancel(){const{onCancel:n}=this.props;this.detach(),n()}handleKeydown(n){n.code===Ne.Esc&&this.handleCancel()}removeTextSelection(){var n;(n=this.document.getSelection())==null||n.removeAllRanges()}}const gy={move:{name:"pointermove"},end:{name:"pointerup"}};class ic extends oc{constructor(n){const{event:r}=n,i=Ir(r.target);super(n,gy,i)}}ic.activators=[{eventName:"onPointerDown",handler:({nativeEvent:e},{onActivation:n})=>!e.isPrimary||e.button!==0?!1:(n==null||n({event:e}),!0)}];const vy={move:{name:"mousemove"},end:{name:"mouseup"}};var sc;(function(e){e[e.RightClick=2]="RightClick"})(sc||(sc={}));class my extends oc{constructor(n){super(n,vy,Ir(n.event.target))}}my.activators=[{eventName:"onMouseDown",handler:({nativeEvent:e},{onActivation:n})=>e.button===sc.RightClick?!1:(n==null||n({event:e}),!0)}];const ac={move:{name:"touchmove"},end:{name:"touchend"}};class Df extends oc{constructor(n){super(n,ac)}static setup(){return window.addEventListener(ac.move.name,n,{capture:!1,passive:!1}),function(){window.removeEventListener(ac.move.name,n)};function n(){}}}Df.activators=[{eventName:"onTouchStart",handler:({nativeEvent:e},{onActivation:n})=>{const{touches:r}=e;return r.length>1?!1:(n==null||n({event:e}),!0)}}];function wy(e,{transform:n,...r}){return e!=null&&e.length?e.reduce((i,s)=>s({transform:i,...r}),n):n}const by=[{sensor:ic,options:{}},{sensor:rc,options:{}}],yy={current:{}},_f=p.createContext({...gn,scaleX:1,scaleY:1}),xy=p.memo(function({id:n,autoScroll:r=!0,announcements:i,children:s,sensors:c=by,collisionDetection:l=Ab,measuring:u,modifiers:d,screenReaderInstructions:h=mb,...m}){var v,y,w,E,g,x,$;const P=p.useReducer($b,void 0,Cb),[S,_]=P,[A,k]=p.useState(()=>({type:null,event:null})),[T,M]=p.useState(!1),{draggable:{active:U,nodes:R,translate:X},droppable:{containers:Z}}=S,oe=U?R[U]:null,q=p.useRef({initial:null,translated:null}),ee=p.useMemo(()=>{var De;return U!=null?{id:U,data:(De=oe==null?void 0:oe.data)!=null?De:yy,rect:q}:null},[U,oe]),ne=p.useRef(null),[se,fe]=p.useState(null),[G,J]=p.useState(null),Q=Ni(m,Object.values(m)),te=Si("DndDescribedBy",n),ce=p.useMemo(()=>Z.getEnabled(),[Z]),{droppableRects:_e,measureDroppableContainers:Se,measuringScheduled:we}=Jb(ce,{dragging:T,dependencies:[X.x,X.y],config:u==null?void 0:u.droppable}),ke=Zb(R,U),Re=G?wa(G):null,K=Cf(ke,(v=u==null||(y=u.draggable)==null?void 0:y.measure)!=null?v:ko),st=oy(ke?ke.parentElement:null),ge=p.useRef({active:null,activeNode:ke,collisionRect:null,collisions:null,droppableRects:_e,draggableNodes:R,draggingNode:null,draggingNodeRect:null,droppableContainers:Z,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),Ze=Z.getNodeFor((w=ge.current.over)==null?void 0:w.id),xt=uy({measure:u==null||(E=u.dragOverlay)==null?void 0:E.measure}),Ue=(g=xt.nodeRef.current)!=null?g:ke,Pe=(x=xt.rect)!=null?x:K,Ct=p.useRef(null),pt=Ct.current,sn=Pe===K?Ib(K,pt):gn,mn=cy(Ue?Ue.ownerDocument.defaultView:null),at=ty(U?Ze??Ue:null),Ye=iy(at),qt=wy(d,{transform:{x:X.x-sn.x,y:X.y-sn.y,scaleX:1,scaleY:1},activatorEvent:G,active:ee,activeNodeRect:K,containerNodeRect:st,draggingNodeRect:Pe,over:ge.current.over,overlayNodeRect:xt.rect,scrollableAncestors:at,scrollableAncestorRects:Ye,windowRect:mn}),Dn=Re?bo(Re,X):null,Yo=Qb(at),je=bo(qt,Yo),an=Pe?Mb(Pe,qt):null,Lt=ee&&an?l({active:ee,collisionRect:an,droppableContainers:ce,pointerCoordinates:Dn}):null,cn=pf(Lt,"id"),[_t,Rn]=p.useState(null),pr=Tb(qt,($=_t==null?void 0:_t.rect)!=null?$:null,K),Yn=p.useCallback((De,{sensor:Me,options:We})=>{if(!ne.current)return;const dt=R[ne.current];if(!dt)return;const wt=new Me({active:ne.current,activeNode:dt,event:De.nativeEvent,options:We,context:ge,onStart(ct){const Zt=ne.current;if(!Zt)return;const gr=R[Zt];if(!gr)return;const{onDragStart:vr}=Q.current,qr={active:{id:Zt,data:gr.data,rect:q}};ot.unstable_batchedUpdates(()=>{_({type:Fe.DragStart,initialCoordinates:ct,active:Zt}),k({type:Fe.DragStart,event:qr})}),vr==null||vr(qr)},onMove(ct){_({type:Fe.DragMove,coordinates:ct})},onEnd:$t(Fe.DragEnd),onCancel:$t(Fe.DragCancel)});ot.unstable_batchedUpdates(()=>{fe(wt),J(De.nativeEvent)});function $t(ct){return async function(){const{active:gr,collisions:vr,over:qr,scrollAdjustedTranslate:rs}=ge.current;let Xn=null;if(gr&&rs){const{cancelDrop:jn}=Q.current;Xn={active:gr,collisions:vr,delta:rs,over:qr},ct===Fe.DragEnd&&typeof jn=="function"&&await Promise.resolve(jn(Xn))&&(ct=Fe.DragCancel)}ne.current=null,ot.unstable_batchedUpdates(()=>{if(_({type:ct}),Rn(null),M(!1),fe(null),J(null),Xn&&k({type:ct,event:Xn}),Xn){const{onDragCancel:jn,onDragEnd:os}=Q.current,Zr=ct===Fe.DragEnd?os:jn;Zr==null||Zr(Xn)}})}}},[R]),qn=p.useCallback((De,Me)=>(We,dt)=>{const wt=We.nativeEvent;ne.current!==null||wt.dndKit||wt.defaultPrevented||De(We,Me.options)===!0&&(wt.dndKit={capturedBy:Me.sensor},ne.current=dt,Yn(We,Me))},[Yn]),Zn=Xb(c,qn);ny(c),p.useEffect(()=>{U!=null&&M(!0)},[U]),p.useEffect(()=>{ee||(Ct.current=null),ee&&K&&!Ct.current&&(Ct.current=K)},[K,ee]),p.useEffect(()=>{const{onDragMove:De}=Q.current,{active:Me,collisions:We,over:dt}=ge.current;if(!Me)return;const wt={active:Me,collisions:We,delta:{x:je.x,y:je.y},over:dt};k({type:Fe.DragMove,event:wt}),De==null||De(wt)},[je.x,je.y]),p.useEffect(()=>{const{active:De,collisions:Me,droppableContainers:We,scrollAdjustedTranslate:dt}=ge.current;if(!De||!ne.current||!dt)return;const{onDragOver:wt}=Q.current,$t=We.get(cn),ct=$t&&$t.rect.current?{id:$t.id,rect:$t.rect.current,data:$t.data,disabled:$t.disabled}:null,Zt={active:De,collisions:Me,delta:{x:dt.x,y:dt.y},over:ct};ot.unstable_batchedUpdates(()=>{Rn(ct),k({type:Fe.DragOver,event:Zt}),wt==null||wt(Zt)})},[cn]),mo(()=>{ge.current={active:ee,activeNode:ke,collisionRect:an,collisions:Lt,droppableRects:_e,draggableNodes:R,draggingNode:Ue,draggingNodeRect:Pe,droppableContainers:Z,over:_t,scrollableAncestors:at,scrollAdjustedTranslate:je},q.current={initial:Pe,translated:an}},[ee,ke,Lt,an,R,Ue,Pe,_e,Z,_t,at,je]),qb({...Je(),draggingRect:an,pointerCoordinates:Dn,scrollableAncestors:at,scrollableAncestorRects:Ye});const Ve=p.useMemo(()=>({active:ee,activeNode:ke,activeNodeRect:K,activatorEvent:G,collisions:Lt,containerNodeRect:st,dragOverlay:xt,draggableNodes:R,droppableContainers:Z,droppableRects:_e,over:_t,measureDroppableContainers:Se,scrollableAncestors:at,scrollableAncestorRects:Ye,measuringScheduled:we,windowRect:mn}),[ee,ke,K,G,Lt,st,xt,R,Z,_e,_t,Se,at,Ye,we,mn]),rt=p.useMemo(()=>({activatorEvent:G,activators:Zn,active:ee,activeNodeRect:K,ariaDescribedById:{draggable:te},dispatch:_,draggableNodes:R,over:_t,measureDroppableContainers:Se}),[G,Zn,ee,K,_,te,R,_t,Se]);return p.createElement(ff.Provider,{value:A},p.createElement(Za.Provider,{value:rt},p.createElement(xb.Provider,{value:Ve},p.createElement(_f.Provider,{value:pr},s))),p.createElement(Nb,{announcements:i,hiddenTextDescribedById:te,screenReaderInstructions:h}));function Je(){const De=(se==null?void 0:se.autoScrollEnabled)===!1,Me=typeof r=="object"?r.enabled===!1:r===!1,We=!De&&!Me;return typeof r=="object"?{...r,enabled:We}:{enabled:We}}}),Cy=p.createContext(null),Pf="button",$y="Droppable";function Of({id:e,data:n,disabled:r=!1,attributes:i}){const s=Si($y),{activators:c,activatorEvent:l,active:u,activeNodeRect:d,ariaDescribedById:h,draggableNodes:m,over:v}=p.useContext(Za),{role:y=Pf,roleDescription:w="draggable",tabIndex:E=0}=i??{},g=(u==null?void 0:u.id)===e,x=p.useContext(g?_f:Cy),[$,P]=va(),S=ry(c,e),_=Ni(n);mo(()=>(m[e]={id:e,key:s,node:$,data:_},()=>{const k=m[e];k&&k.key===s&&delete m[e]}),[m,e]);const A=p.useMemo(()=>({role:y,tabIndex:E,"aria-pressed":g&&y===Pf?!0:void 0,"aria-roledescription":w,"aria-describedby":h.draggable}),[y,E,g,w,h.draggable]);return{active:u,activatorEvent:l,activeNodeRect:d,attributes:A,isDragging:g,listeners:r?void 0:S,node:$,over:v,setNodeRef:P,transform:x}}const Ey="Droppable",Ny={timeout:25};function cc({data:e,disabled:n=!1,id:r,resizeObserverConfig:i}){const s=Si(Ey),{active:c,dispatch:l,over:u,measureDroppableContainers:d}=p.useContext(Za),h=p.useRef(!1),m=p.useRef(null),v=p.useRef(null),{disabled:y,updateMeasurementsFor:w,timeout:E}={...Ny,...i},g=Ni(w??r),x=p.useCallback(()=>{if(!h.current){h.current=!0;return}v.current!=null&&clearTimeout(v.current),v.current=setTimeout(()=>{d(typeof g.current=="string"?[g.current]:g.current),v.current=null},E)},[E]),$=xf({onResize:x,disabled:y||!c}),P=p.useCallback((k,T)=>{$&&(T&&($.unobserve(T),h.current=!1),k&&$.observe(k))},[$]),[S,_]=va(P),A=Ni(e);return p.useEffect(()=>{!$||!S.current||($.disconnect(),h.current=!1,$.observe(S.current))},[S,$]),mo(()=>(l({type:Fe.RegisterDroppable,element:{id:r,key:s,disabled:n,node:S,rect:m,data:A}}),()=>l({type:Fe.UnregisterDroppable,key:s,id:r})),[r]),p.useEffect(()=>{l({type:Fe.SetDroppableDisabled,id:r,key:s,disabled:n})},[n]),{active:c,rect:m,isOver:(u==null?void 0:u.id)===r,node:S,over:u,setNodeRef:_}}var Yi={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */Yi.exports,function(e,n){(function(){var r,i="4.17.21",s=200,c="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",l="Expected a function",u="Invalid `variable` option passed into `_.template`",d="__lodash_hash_undefined__",h=500,m="__lodash_placeholder__",v=1,y=2,w=4,E=1,g=2,x=1,$=2,P=4,S=8,_=16,A=32,k=64,T=128,M=256,U=512,R=30,X="...",Z=800,oe=16,q=1,ee=2,ne=3,se=1/0,fe=9007199254740991,G=17976931348623157e292,J=0/0,Q=4294967295,te=Q-1,ce=Q>>>1,_e=[["ary",T],["bind",x],["bindKey",$],["curry",S],["curryRight",_],["flip",U],["partial",A],["partialRight",k],["rearg",M]],Se="[object Arguments]",we="[object Array]",ke="[object AsyncFunction]",Re="[object Boolean]",K="[object Date]",st="[object DOMException]",ge="[object Error]",Ze="[object Function]",xt="[object GeneratorFunction]",Ue="[object Map]",Pe="[object Number]",Ct="[object Null]",pt="[object Object]",sn="[object Promise]",mn="[object Proxy]",at="[object RegExp]",Ye="[object Set]",qt="[object String]",Dn="[object Symbol]",Yo="[object Undefined]",je="[object WeakMap]",an="[object WeakSet]",Lt="[object ArrayBuffer]",cn="[object DataView]",_t="[object Float32Array]",Rn="[object Float64Array]",pr="[object Int8Array]",Yn="[object Int16Array]",qn="[object Int32Array]",Zn="[object Uint8Array]",Ve="[object Uint8ClampedArray]",rt="[object Uint16Array]",Je="[object Uint32Array]",De=/\b__p \+= '';/g,Me=/\b(__p \+=) '' \+/g,We=/(__e\(.*?\)|\b__t\)) \+\n'';/g,dt=/&(?:amp|lt|gt|quot|#39);/g,wt=/[&<>"']/g,$t=RegExp(dt.source),ct=RegExp(wt.source),Zt=/<%-([\s\S]+?)%>/g,gr=/<%([\s\S]+?)%>/g,vr=/<%=([\s\S]+?)%>/g,qr=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,rs=/^\w*$/,Xn=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,jn=/[\\^$.*+?()[\]{}|]/g,os=RegExp(jn.source),Zr=/^\s+/,a2=/\s/,c2=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,l2=/\{\n\/\* \[wrapped with (.+)\] \*/,u2=/,? & /,d2=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,f2=/[()=,{}\[\]\/\s]/,h2=/\\(\\)?/g,p2=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,ih=/\w*$/,g2=/^[-+]0x[0-9a-f]+$/i,v2=/^0b[01]+$/i,m2=/^\[object .+?Constructor\]$/,w2=/^0o[0-7]+$/i,b2=/^(?:0|[1-9]\d*)$/,y2=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,is=/($^)/,x2=/['\n\r\u2028\u2029\\]/g,ss="\\ud800-\\udfff",C2="\\u0300-\\u036f",$2="\\ufe20-\\ufe2f",E2="\\u20d0-\\u20ff",sh=C2+$2+E2,ah="\\u2700-\\u27bf",ch="a-z\\xdf-\\xf6\\xf8-\\xff",N2="\\xac\\xb1\\xd7\\xf7",S2="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",D2="\\u2000-\\u206f",_2=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",lh="A-Z\\xc0-\\xd6\\xd8-\\xde",uh="\\ufe0e\\ufe0f",dh=N2+S2+D2+_2,Cc="['’]",P2="["+ss+"]",fh="["+dh+"]",as="["+sh+"]",hh="\\d+",O2="["+ah+"]",ph="["+ch+"]",gh="[^"+ss+dh+hh+ah+ch+lh+"]",$c="\\ud83c[\\udffb-\\udfff]",A2="(?:"+as+"|"+$c+")",vh="[^"+ss+"]",Ec="(?:\\ud83c[\\udde6-\\uddff]){2}",Nc="[\\ud800-\\udbff][\\udc00-\\udfff]",Xr="["+lh+"]",mh="\\u200d",wh="(?:"+ph+"|"+gh+")",T2="(?:"+Xr+"|"+gh+")",bh="(?:"+Cc+"(?:d|ll|m|re|s|t|ve))?",yh="(?:"+Cc+"(?:D|LL|M|RE|S|T|VE))?",xh=A2+"?",Ch="["+uh+"]?",I2="(?:"+mh+"(?:"+[vh,Ec,Nc].join("|")+")"+Ch+xh+")*",k2="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",M2="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",$h=Ch+xh+I2,L2="(?:"+[O2,Ec,Nc].join("|")+")"+$h,F2="(?:"+[vh+as+"?",as,Ec,Nc,P2].join("|")+")",W2=RegExp(Cc,"g"),B2=RegExp(as,"g"),Sc=RegExp($c+"(?="+$c+")|"+F2+$h,"g"),U2=RegExp([Xr+"?"+ph+"+"+bh+"(?="+[fh,Xr,"$"].join("|")+")",T2+"+"+yh+"(?="+[fh,Xr+wh,"$"].join("|")+")",Xr+"?"+wh+"+"+bh,Xr+"+"+yh,M2,k2,hh,L2].join("|"),"g"),z2=RegExp("["+mh+ss+sh+uh+"]"),H2=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,V2=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],G2=-1,Ge={};Ge[_t]=Ge[Rn]=Ge[pr]=Ge[Yn]=Ge[qn]=Ge[Zn]=Ge[Ve]=Ge[rt]=Ge[Je]=!0,Ge[Se]=Ge[we]=Ge[Lt]=Ge[Re]=Ge[cn]=Ge[K]=Ge[ge]=Ge[Ze]=Ge[Ue]=Ge[Pe]=Ge[pt]=Ge[at]=Ge[Ye]=Ge[qt]=Ge[je]=!1;var ze={};ze[Se]=ze[we]=ze[Lt]=ze[cn]=ze[Re]=ze[K]=ze[_t]=ze[Rn]=ze[pr]=ze[Yn]=ze[qn]=ze[Ue]=ze[Pe]=ze[pt]=ze[at]=ze[Ye]=ze[qt]=ze[Dn]=ze[Zn]=ze[Ve]=ze[rt]=ze[Je]=!0,ze[ge]=ze[Ze]=ze[je]=!1;var K2={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},R2={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Y2={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},q2={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Z2=parseFloat,X2=parseInt,Eh=typeof Co=="object"&&Co&&Co.Object===Object&&Co,j2=typeof self=="object"&&self&&self.Object===Object&&self,gt=Eh||j2||Function("return this")(),Dc=n&&!n.nodeType&&n,mr=Dc&&!0&&e&&!e.nodeType&&e,Nh=mr&&mr.exports===Dc,_c=Nh&&Eh.process,Xt=function(){try{var L=mr&&mr.require&&mr.require("util").types;return L||_c&&_c.binding&&_c.binding("util")}catch{}}(),Sh=Xt&&Xt.isArrayBuffer,Dh=Xt&&Xt.isDate,_h=Xt&&Xt.isMap,Ph=Xt&&Xt.isRegExp,Oh=Xt&&Xt.isSet,Ah=Xt&&Xt.isTypedArray;function Ft(L,z,B){switch(B.length){case 0:return L.call(z);case 1:return L.call(z,B[0]);case 2:return L.call(z,B[0],B[1]);case 3:return L.call(z,B[0],B[1],B[2])}return L.apply(z,B)}function J2(L,z,B,re){for(var he=-1,Oe=L==null?0:L.length;++he<Oe;){var lt=L[he];z(re,lt,B(lt),L)}return re}function jt(L,z){for(var B=-1,re=L==null?0:L.length;++B<re&&z(L[B],B,L)!==!1;);return L}function Q2(L,z){for(var B=L==null?0:L.length;B--&&z(L[B],B,L)!==!1;);return L}function Th(L,z){for(var B=-1,re=L==null?0:L.length;++B<re;)if(!z(L[B],B,L))return!1;return!0}function Jn(L,z){for(var B=-1,re=L==null?0:L.length,he=0,Oe=[];++B<re;){var lt=L[B];z(lt,B,L)&&(Oe[he++]=lt)}return Oe}function cs(L,z){var B=L==null?0:L.length;return!!B&&jr(L,z,0)>-1}function Pc(L,z,B){for(var re=-1,he=L==null?0:L.length;++re<he;)if(B(z,L[re]))return!0;return!1}function Ke(L,z){for(var B=-1,re=L==null?0:L.length,he=Array(re);++B<re;)he[B]=z(L[B],B,L);return he}function Qn(L,z){for(var B=-1,re=z.length,he=L.length;++B<re;)L[he+B]=z[B];return L}function Oc(L,z,B,re){var he=-1,Oe=L==null?0:L.length;for(re&&Oe&&(B=L[++he]);++he<Oe;)B=z(B,L[he],he,L);return B}function eC(L,z,B,re){var he=L==null?0:L.length;for(re&&he&&(B=L[--he]);he--;)B=z(B,L[he],he,L);return B}function Ac(L,z){for(var B=-1,re=L==null?0:L.length;++B<re;)if(z(L[B],B,L))return!0;return!1}var tC=Tc("length");function nC(L){return L.split("")}function rC(L){return L.match(d2)||[]}function Ih(L,z,B){var re;return B(L,function(he,Oe,lt){if(z(he,Oe,lt))return re=Oe,!1}),re}function ls(L,z,B,re){for(var he=L.length,Oe=B+(re?1:-1);re?Oe--:++Oe<he;)if(z(L[Oe],Oe,L))return Oe;return-1}function jr(L,z,B){return z===z?gC(L,z,B):ls(L,kh,B)}function oC(L,z,B,re){for(var he=B-1,Oe=L.length;++he<Oe;)if(re(L[he],z))return he;return-1}function kh(L){return L!==L}function Mh(L,z){var B=L==null?0:L.length;return B?kc(L,z)/B:J}function Tc(L){return function(z){return z==null?r:z[L]}}function Ic(L){return function(z){return L==null?r:L[z]}}function Lh(L,z,B,re,he){return he(L,function(Oe,lt,Be){B=re?(re=!1,Oe):z(B,Oe,lt,Be)}),B}function iC(L,z){var B=L.length;for(L.sort(z);B--;)L[B]=L[B].value;return L}function kc(L,z){for(var B,re=-1,he=L.length;++re<he;){var Oe=z(L[re]);Oe!==r&&(B=B===r?Oe:B+Oe)}return B}function Mc(L,z){for(var B=-1,re=Array(L);++B<L;)re[B]=z(B);return re}function sC(L,z){return Ke(z,function(B){return[B,L[B]]})}function Fh(L){return L&&L.slice(0,zh(L)+1).replace(Zr,"")}function Wt(L){return function(z){return L(z)}}function Lc(L,z){return Ke(z,function(B){return L[B]})}function qo(L,z){return L.has(z)}function Wh(L,z){for(var B=-1,re=L.length;++B<re&&jr(z,L[B],0)>-1;);return B}function Bh(L,z){for(var B=L.length;B--&&jr(z,L[B],0)>-1;);return B}function aC(L,z){for(var B=L.length,re=0;B--;)L[B]===z&&++re;return re}var cC=Ic(K2),lC=Ic(R2);function uC(L){return"\\"+q2[L]}function dC(L,z){return L==null?r:L[z]}function Jr(L){return z2.test(L)}function fC(L){return H2.test(L)}function hC(L){for(var z,B=[];!(z=L.next()).done;)B.push(z.value);return B}function Fc(L){var z=-1,B=Array(L.size);return L.forEach(function(re,he){B[++z]=[he,re]}),B}function Uh(L,z){return function(B){return L(z(B))}}function er(L,z){for(var B=-1,re=L.length,he=0,Oe=[];++B<re;){var lt=L[B];(lt===z||lt===m)&&(L[B]=m,Oe[he++]=B)}return Oe}function us(L){var z=-1,B=Array(L.size);return L.forEach(function(re){B[++z]=re}),B}function pC(L){var z=-1,B=Array(L.size);return L.forEach(function(re){B[++z]=[re,re]}),B}function gC(L,z,B){for(var re=B-1,he=L.length;++re<he;)if(L[re]===z)return re;return-1}function vC(L,z,B){for(var re=B+1;re--;)if(L[re]===z)return re;return re}function Qr(L){return Jr(L)?wC(L):tC(L)}function ln(L){return Jr(L)?bC(L):nC(L)}function zh(L){for(var z=L.length;z--&&a2.test(L.charAt(z)););return z}var mC=Ic(Y2);function wC(L){for(var z=Sc.lastIndex=0;Sc.test(L);)++z;return z}function bC(L){return L.match(Sc)||[]}function yC(L){return L.match(U2)||[]}var xC=function L(z){z=z==null?gt:eo.defaults(gt.Object(),z,eo.pick(gt,V2));var B=z.Array,re=z.Date,he=z.Error,Oe=z.Function,lt=z.Math,Be=z.Object,Wc=z.RegExp,CC=z.String,Jt=z.TypeError,ds=B.prototype,$C=Oe.prototype,to=Be.prototype,fs=z["__core-js_shared__"],hs=$C.toString,Te=to.hasOwnProperty,EC=0,Hh=function(){var t=/[^.]+$/.exec(fs&&fs.keys&&fs.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),ps=to.toString,NC=hs.call(Be),SC=gt._,DC=Wc("^"+hs.call(Te).replace(jn,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),gs=Nh?z.Buffer:r,tr=z.Symbol,vs=z.Uint8Array,Vh=gs?gs.allocUnsafe:r,ms=Uh(Be.getPrototypeOf,Be),Gh=Be.create,Kh=to.propertyIsEnumerable,ws=ds.splice,Rh=tr?tr.isConcatSpreadable:r,Zo=tr?tr.iterator:r,wr=tr?tr.toStringTag:r,bs=function(){try{var t=$r(Be,"defineProperty");return t({},"",{}),t}catch{}}(),_C=z.clearTimeout!==gt.clearTimeout&&z.clearTimeout,PC=re&&re.now!==gt.Date.now&&re.now,OC=z.setTimeout!==gt.setTimeout&&z.setTimeout,ys=lt.ceil,xs=lt.floor,Bc=Be.getOwnPropertySymbols,AC=gs?gs.isBuffer:r,Yh=z.isFinite,TC=ds.join,IC=Uh(Be.keys,Be),ut=lt.max,bt=lt.min,kC=re.now,MC=z.parseInt,qh=lt.random,LC=ds.reverse,Uc=$r(z,"DataView"),Xo=$r(z,"Map"),zc=$r(z,"Promise"),no=$r(z,"Set"),jo=$r(z,"WeakMap"),Jo=$r(Be,"create"),Cs=jo&&new jo,ro={},FC=Er(Uc),WC=Er(Xo),BC=Er(zc),UC=Er(no),zC=Er(jo),$s=tr?tr.prototype:r,Qo=$s?$s.valueOf:r,Zh=$s?$s.toString:r;function N(t){if(Xe(t)&&!pe(t)&&!(t instanceof $e)){if(t instanceof Qt)return t;if(Te.call(t,"__wrapped__"))return Xp(t)}return new Qt(t)}var oo=function(){function t(){}return function(o){if(!qe(o))return{};if(Gh)return Gh(o);t.prototype=o;var a=new t;return t.prototype=r,a}}();function Es(){}function Qt(t,o){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!o,this.__index__=0,this.__values__=r}N.templateSettings={escape:Zt,evaluate:gr,interpolate:vr,variable:"",imports:{_:N}},N.prototype=Es.prototype,N.prototype.constructor=N,Qt.prototype=oo(Es.prototype),Qt.prototype.constructor=Qt;function $e(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Q,this.__views__=[]}function HC(){var t=new $e(this.__wrapped__);return t.__actions__=Pt(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=Pt(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=Pt(this.__views__),t}function VC(){if(this.__filtered__){var t=new $e(this);t.__dir__=-1,t.__filtered__=!0}else t=this.clone(),t.__dir__*=-1;return t}function GC(){var t=this.__wrapped__.value(),o=this.__dir__,a=pe(t),f=o<0,b=a?t.length:0,D=nE(0,b,this.__views__),O=D.start,I=D.end,W=I-O,H=f?I:O-1,V=this.__iteratees__,Y=V.length,j=0,ie=bt(W,this.__takeCount__);if(!a||!f&&b==W&&ie==W)return bp(t,this.__actions__);var ue=[];e:for(;W--&&j<ie;){H+=o;for(var me=-1,de=t[H];++me<Y;){var xe=V[me],Ee=xe.iteratee,zt=xe.type,St=Ee(de);if(zt==ee)de=St;else if(!St){if(zt==q)continue e;break e}}ue[j++]=de}return ue}$e.prototype=oo(Es.prototype),$e.prototype.constructor=$e;function br(t){var o=-1,a=t==null?0:t.length;for(this.clear();++o<a;){var f=t[o];this.set(f[0],f[1])}}function KC(){this.__data__=Jo?Jo(null):{},this.size=0}function RC(t){var o=this.has(t)&&delete this.__data__[t];return this.size-=o?1:0,o}function YC(t){var o=this.__data__;if(Jo){var a=o[t];return a===d?r:a}return Te.call(o,t)?o[t]:r}function qC(t){var o=this.__data__;return Jo?o[t]!==r:Te.call(o,t)}function ZC(t,o){var a=this.__data__;return this.size+=this.has(t)?0:1,a[t]=Jo&&o===r?d:o,this}br.prototype.clear=KC,br.prototype.delete=RC,br.prototype.get=YC,br.prototype.has=qC,br.prototype.set=ZC;function _n(t){var o=-1,a=t==null?0:t.length;for(this.clear();++o<a;){var f=t[o];this.set(f[0],f[1])}}function XC(){this.__data__=[],this.size=0}function jC(t){var o=this.__data__,a=Ns(o,t);if(a<0)return!1;var f=o.length-1;return a==f?o.pop():ws.call(o,a,1),--this.size,!0}function JC(t){var o=this.__data__,a=Ns(o,t);return a<0?r:o[a][1]}function QC(t){return Ns(this.__data__,t)>-1}function e$(t,o){var a=this.__data__,f=Ns(a,t);return f<0?(++this.size,a.push([t,o])):a[f][1]=o,this}_n.prototype.clear=XC,_n.prototype.delete=jC,_n.prototype.get=JC,_n.prototype.has=QC,_n.prototype.set=e$;function Pn(t){var o=-1,a=t==null?0:t.length;for(this.clear();++o<a;){var f=t[o];this.set(f[0],f[1])}}function t$(){this.size=0,this.__data__={hash:new br,map:new(Xo||_n),string:new br}}function n$(t){var o=Fs(this,t).delete(t);return this.size-=o?1:0,o}function r$(t){return Fs(this,t).get(t)}function o$(t){return Fs(this,t).has(t)}function i$(t,o){var a=Fs(this,t),f=a.size;return a.set(t,o),this.size+=a.size==f?0:1,this}Pn.prototype.clear=t$,Pn.prototype.delete=n$,Pn.prototype.get=r$,Pn.prototype.has=o$,Pn.prototype.set=i$;function yr(t){var o=-1,a=t==null?0:t.length;for(this.__data__=new Pn;++o<a;)this.add(t[o])}function s$(t){return this.__data__.set(t,d),this}function a$(t){return this.__data__.has(t)}yr.prototype.add=yr.prototype.push=s$,yr.prototype.has=a$;function un(t){var o=this.__data__=new _n(t);this.size=o.size}function c$(){this.__data__=new _n,this.size=0}function l$(t){var o=this.__data__,a=o.delete(t);return this.size=o.size,a}function u$(t){return this.__data__.get(t)}function d$(t){return this.__data__.has(t)}function f$(t,o){var a=this.__data__;if(a instanceof _n){var f=a.__data__;if(!Xo||f.length<s-1)return f.push([t,o]),this.size=++a.size,this;a=this.__data__=new Pn(f)}return a.set(t,o),this.size=a.size,this}un.prototype.clear=c$,un.prototype.delete=l$,un.prototype.get=u$,un.prototype.has=d$,un.prototype.set=f$;function Xh(t,o){var a=pe(t),f=!a&&Nr(t),b=!a&&!f&&sr(t),D=!a&&!f&&!b&&co(t),O=a||f||b||D,I=O?Mc(t.length,CC):[],W=I.length;for(var H in t)(o||Te.call(t,H))&&!(O&&(H=="length"||b&&(H=="offset"||H=="parent")||D&&(H=="buffer"||H=="byteLength"||H=="byteOffset")||In(H,W)))&&I.push(H);return I}function jh(t){var o=t.length;return o?t[Jc(0,o-1)]:r}function h$(t,o){return Ws(Pt(t),xr(o,0,t.length))}function p$(t){return Ws(Pt(t))}function Hc(t,o,a){(a!==r&&!dn(t[o],a)||a===r&&!(o in t))&&On(t,o,a)}function ei(t,o,a){var f=t[o];(!(Te.call(t,o)&&dn(f,a))||a===r&&!(o in t))&&On(t,o,a)}function Ns(t,o){for(var a=t.length;a--;)if(dn(t[a][0],o))return a;return-1}function g$(t,o,a,f){return nr(t,function(b,D,O){o(f,b,a(b),O)}),f}function Jh(t,o){return t&&bn(o,ft(o),t)}function v$(t,o){return t&&bn(o,At(o),t)}function On(t,o,a){o=="__proto__"&&bs?bs(t,o,{configurable:!0,enumerable:!0,value:a,writable:!0}):t[o]=a}function Vc(t,o){for(var a=-1,f=o.length,b=B(f),D=t==null;++a<f;)b[a]=D?r:$l(t,o[a]);return b}function xr(t,o,a){return t===t&&(a!==r&&(t=t<=a?t:a),o!==r&&(t=t>=o?t:o)),t}function en(t,o,a,f,b,D){var O,I=o&v,W=o&y,H=o&w;if(a&&(O=b?a(t,f,b,D):a(t)),O!==r)return O;if(!qe(t))return t;var V=pe(t);if(V){if(O=oE(t),!I)return Pt(t,O)}else{var Y=yt(t),j=Y==Ze||Y==xt;if(sr(t))return Cp(t,I);if(Y==pt||Y==Se||j&&!b){if(O=W||j?{}:zp(t),!I)return W?Y$(t,v$(O,t)):R$(t,Jh(O,t))}else{if(!ze[Y])return b?t:{};O=iE(t,Y,I)}}D||(D=new un);var ie=D.get(t);if(ie)return ie;D.set(t,O),vg(t)?t.forEach(function(de){O.add(en(de,o,a,de,t,D))}):pg(t)&&t.forEach(function(de,xe){O.set(xe,en(de,o,a,xe,t,D))});var ue=H?W?ll:cl:W?At:ft,me=V?r:ue(t);return jt(me||t,function(de,xe){me&&(xe=de,de=t[xe]),ei(O,xe,en(de,o,a,xe,t,D))}),O}function m$(t){var o=ft(t);return function(a){return Qh(a,t,o)}}function Qh(t,o,a){var f=a.length;if(t==null)return!f;for(t=Be(t);f--;){var b=a[f],D=o[b],O=t[b];if(O===r&&!(b in t)||!D(O))return!1}return!0}function ep(t,o,a){if(typeof t!="function")throw new Jt(l);return ai(function(){t.apply(r,a)},o)}function ti(t,o,a,f){var b=-1,D=cs,O=!0,I=t.length,W=[],H=o.length;if(!I)return W;a&&(o=Ke(o,Wt(a))),f?(D=Pc,O=!1):o.length>=s&&(D=qo,O=!1,o=new yr(o));e:for(;++b<I;){var V=t[b],Y=a==null?V:a(V);if(V=f||V!==0?V:0,O&&Y===Y){for(var j=H;j--;)if(o[j]===Y)continue e;W.push(V)}else D(o,Y,f)||W.push(V)}return W}var nr=Dp(wn),tp=Dp(Kc,!0);function w$(t,o){var a=!0;return nr(t,function(f,b,D){return a=!!o(f,b,D),a}),a}function Ss(t,o,a){for(var f=-1,b=t.length;++f<b;){var D=t[f],O=o(D);if(O!=null&&(I===r?O===O&&!Ut(O):a(O,I)))var I=O,W=D}return W}function b$(t,o,a,f){var b=t.length;for(a=ve(a),a<0&&(a=-a>b?0:b+a),f=f===r||f>b?b:ve(f),f<0&&(f+=b),f=a>f?0:wg(f);a<f;)t[a++]=o;return t}function np(t,o){var a=[];return nr(t,function(f,b,D){o(f,b,D)&&a.push(f)}),a}function vt(t,o,a,f,b){var D=-1,O=t.length;for(a||(a=aE),b||(b=[]);++D<O;){var I=t[D];o>0&&a(I)?o>1?vt(I,o-1,a,f,b):Qn(b,I):f||(b[b.length]=I)}return b}var Gc=_p(),rp=_p(!0);function wn(t,o){return t&&Gc(t,o,ft)}function Kc(t,o){return t&&rp(t,o,ft)}function Ds(t,o){return Jn(o,function(a){return kn(t[a])})}function Cr(t,o){o=or(o,t);for(var a=0,f=o.length;t!=null&&a<f;)t=t[yn(o[a++])];return a&&a==f?t:r}function op(t,o,a){var f=o(t);return pe(t)?f:Qn(f,a(t))}function Et(t){return t==null?t===r?Yo:Ct:wr&&wr in Be(t)?tE(t):pE(t)}function Rc(t,o){return t>o}function y$(t,o){return t!=null&&Te.call(t,o)}function x$(t,o){return t!=null&&o in Be(t)}function C$(t,o,a){return t>=bt(o,a)&&t<ut(o,a)}function Yc(t,o,a){for(var f=a?Pc:cs,b=t[0].length,D=t.length,O=D,I=B(D),W=1/0,H=[];O--;){var V=t[O];O&&o&&(V=Ke(V,Wt(o))),W=bt(V.length,W),I[O]=!a&&(o||b>=120&&V.length>=120)?new yr(O&&V):r}V=t[0];var Y=-1,j=I[0];e:for(;++Y<b&&H.length<W;){var ie=V[Y],ue=o?o(ie):ie;if(ie=a||ie!==0?ie:0,!(j?qo(j,ue):f(H,ue,a))){for(O=D;--O;){var me=I[O];if(!(me?qo(me,ue):f(t[O],ue,a)))continue e}j&&j.push(ue),H.push(ie)}}return H}function $$(t,o,a,f){return wn(t,function(b,D,O){o(f,a(b),D,O)}),f}function ni(t,o,a){o=or(o,t),t=Kp(t,o);var f=t==null?t:t[yn(nn(o))];return f==null?r:Ft(f,t,a)}function ip(t){return Xe(t)&&Et(t)==Se}function E$(t){return Xe(t)&&Et(t)==Lt}function N$(t){return Xe(t)&&Et(t)==K}function ri(t,o,a,f,b){return t===o?!0:t==null||o==null||!Xe(t)&&!Xe(o)?t!==t&&o!==o:S$(t,o,a,f,ri,b)}function S$(t,o,a,f,b,D){var O=pe(t),I=pe(o),W=O?we:yt(t),H=I?we:yt(o);W=W==Se?pt:W,H=H==Se?pt:H;var V=W==pt,Y=H==pt,j=W==H;if(j&&sr(t)){if(!sr(o))return!1;O=!0,V=!1}if(j&&!V)return D||(D=new un),O||co(t)?Wp(t,o,a,f,b,D):Q$(t,o,W,a,f,b,D);if(!(a&E)){var ie=V&&Te.call(t,"__wrapped__"),ue=Y&&Te.call(o,"__wrapped__");if(ie||ue){var me=ie?t.value():t,de=ue?o.value():o;return D||(D=new un),b(me,de,a,f,D)}}return j?(D||(D=new un),eE(t,o,a,f,b,D)):!1}function D$(t){return Xe(t)&&yt(t)==Ue}function qc(t,o,a,f){var b=a.length,D=b,O=!f;if(t==null)return!D;for(t=Be(t);b--;){var I=a[b];if(O&&I[2]?I[1]!==t[I[0]]:!(I[0]in t))return!1}for(;++b<D;){I=a[b];var W=I[0],H=t[W],V=I[1];if(O&&I[2]){if(H===r&&!(W in t))return!1}else{var Y=new un;if(f)var j=f(H,V,W,t,o,Y);if(!(j===r?ri(V,H,E|g,f,Y):j))return!1}}return!0}function sp(t){if(!qe(t)||lE(t))return!1;var o=kn(t)?DC:m2;return o.test(Er(t))}function _$(t){return Xe(t)&&Et(t)==at}function P$(t){return Xe(t)&&yt(t)==Ye}function O$(t){return Xe(t)&&Gs(t.length)&&!!Ge[Et(t)]}function ap(t){return typeof t=="function"?t:t==null?Tt:typeof t=="object"?pe(t)?up(t[0],t[1]):lp(t):Pg(t)}function Zc(t){if(!si(t))return IC(t);var o=[];for(var a in Be(t))Te.call(t,a)&&a!="constructor"&&o.push(a);return o}function A$(t){if(!qe(t))return hE(t);var o=si(t),a=[];for(var f in t)f=="constructor"&&(o||!Te.call(t,f))||a.push(f);return a}function Xc(t,o){return t<o}function cp(t,o){var a=-1,f=Ot(t)?B(t.length):[];return nr(t,function(b,D,O){f[++a]=o(b,D,O)}),f}function lp(t){var o=dl(t);return o.length==1&&o[0][2]?Vp(o[0][0],o[0][1]):function(a){return a===t||qc(a,t,o)}}function up(t,o){return hl(t)&&Hp(o)?Vp(yn(t),o):function(a){var f=$l(a,t);return f===r&&f===o?El(a,t):ri(o,f,E|g)}}function _s(t,o,a,f,b){t!==o&&Gc(o,function(D,O){if(b||(b=new un),qe(D))T$(t,o,O,a,_s,f,b);else{var I=f?f(gl(t,O),D,O+"",t,o,b):r;I===r&&(I=D),Hc(t,O,I)}},At)}function T$(t,o,a,f,b,D,O){var I=gl(t,a),W=gl(o,a),H=O.get(W);if(H){Hc(t,a,H);return}var V=D?D(I,W,a+"",t,o,O):r,Y=V===r;if(Y){var j=pe(W),ie=!j&&sr(W),ue=!j&&!ie&&co(W);V=W,j||ie||ue?pe(I)?V=I:Qe(I)?V=Pt(I):ie?(Y=!1,V=Cp(W,!0)):ue?(Y=!1,V=$p(W,!0)):V=[]:ci(W)||Nr(W)?(V=I,Nr(I)?V=bg(I):(!qe(I)||kn(I))&&(V=zp(W))):Y=!1}Y&&(O.set(W,V),b(V,W,f,D,O),O.delete(W)),Hc(t,a,V)}function dp(t,o){var a=t.length;if(a)return o+=o<0?a:0,In(o,a)?t[o]:r}function fp(t,o,a){o.length?o=Ke(o,function(D){return pe(D)?function(O){return Cr(O,D.length===1?D[0]:D)}:D}):o=[Tt];var f=-1;o=Ke(o,Wt(le()));var b=cp(t,function(D,O,I){var W=Ke(o,function(H){return H(D)});return{criteria:W,index:++f,value:D}});return iC(b,function(D,O){return K$(D,O,a)})}function I$(t,o){return hp(t,o,function(a,f){return El(t,f)})}function hp(t,o,a){for(var f=-1,b=o.length,D={};++f<b;){var O=o[f],I=Cr(t,O);a(I,O)&&oi(D,or(O,t),I)}return D}function k$(t){return function(o){return Cr(o,t)}}function jc(t,o,a,f){var b=f?oC:jr,D=-1,O=o.length,I=t;for(t===o&&(o=Pt(o)),a&&(I=Ke(t,Wt(a)));++D<O;)for(var W=0,H=o[D],V=a?a(H):H;(W=b(I,V,W,f))>-1;)I!==t&&ws.call(I,W,1),ws.call(t,W,1);return t}function pp(t,o){for(var a=t?o.length:0,f=a-1;a--;){var b=o[a];if(a==f||b!==D){var D=b;In(b)?ws.call(t,b,1):tl(t,b)}}return t}function Jc(t,o){return t+xs(qh()*(o-t+1))}function M$(t,o,a,f){for(var b=-1,D=ut(ys((o-t)/(a||1)),0),O=B(D);D--;)O[f?D:++b]=t,t+=a;return O}function Qc(t,o){var a="";if(!t||o<1||o>fe)return a;do o%2&&(a+=t),o=xs(o/2),o&&(t+=t);while(o);return a}function be(t,o){return vl(Gp(t,o,Tt),t+"")}function L$(t){return jh(lo(t))}function F$(t,o){var a=lo(t);return Ws(a,xr(o,0,a.length))}function oi(t,o,a,f){if(!qe(t))return t;o=or(o,t);for(var b=-1,D=o.length,O=D-1,I=t;I!=null&&++b<D;){var W=yn(o[b]),H=a;if(W==="__proto__"||W==="constructor"||W==="prototype")return t;if(b!=O){var V=I[W];H=f?f(V,W,I):r,H===r&&(H=qe(V)?V:In(o[b+1])?[]:{})}ei(I,W,H),I=I[W]}return t}var gp=Cs?function(t,o){return Cs.set(t,o),t}:Tt,W$=bs?function(t,o){return bs(t,"toString",{configurable:!0,enumerable:!1,value:Sl(o),writable:!0})}:Tt;function B$(t){return Ws(lo(t))}function tn(t,o,a){var f=-1,b=t.length;o<0&&(o=-o>b?0:b+o),a=a>b?b:a,a<0&&(a+=b),b=o>a?0:a-o>>>0,o>>>=0;for(var D=B(b);++f<b;)D[f]=t[f+o];return D}function U$(t,o){var a;return nr(t,function(f,b,D){return a=o(f,b,D),!a}),!!a}function Ps(t,o,a){var f=0,b=t==null?f:t.length;if(typeof o=="number"&&o===o&&b<=ce){for(;f<b;){var D=f+b>>>1,O=t[D];O!==null&&!Ut(O)&&(a?O<=o:O<o)?f=D+1:b=D}return b}return el(t,o,Tt,a)}function el(t,o,a,f){var b=0,D=t==null?0:t.length;if(D===0)return 0;o=a(o);for(var O=o!==o,I=o===null,W=Ut(o),H=o===r;b<D;){var V=xs((b+D)/2),Y=a(t[V]),j=Y!==r,ie=Y===null,ue=Y===Y,me=Ut(Y);if(O)var de=f||ue;else H?de=ue&&(f||j):I?de=ue&&j&&(f||!ie):W?de=ue&&j&&!ie&&(f||!me):ie||me?de=!1:de=f?Y<=o:Y<o;de?b=V+1:D=V}return bt(D,te)}function vp(t,o){for(var a=-1,f=t.length,b=0,D=[];++a<f;){var O=t[a],I=o?o(O):O;if(!a||!dn(I,W)){var W=I;D[b++]=O===0?0:O}}return D}function mp(t){return typeof t=="number"?t:Ut(t)?J:+t}function Bt(t){if(typeof t=="string")return t;if(pe(t))return Ke(t,Bt)+"";if(Ut(t))return Zh?Zh.call(t):"";var o=t+"";return o=="0"&&1/t==-se?"-0":o}function rr(t,o,a){var f=-1,b=cs,D=t.length,O=!0,I=[],W=I;if(a)O=!1,b=Pc;else if(D>=s){var H=o?null:j$(t);if(H)return us(H);O=!1,b=qo,W=new yr}else W=o?[]:I;e:for(;++f<D;){var V=t[f],Y=o?o(V):V;if(V=a||V!==0?V:0,O&&Y===Y){for(var j=W.length;j--;)if(W[j]===Y)continue e;o&&W.push(Y),I.push(V)}else b(W,Y,a)||(W!==I&&W.push(Y),I.push(V))}return I}function tl(t,o){return o=or(o,t),t=Kp(t,o),t==null||delete t[yn(nn(o))]}function wp(t,o,a,f){return oi(t,o,a(Cr(t,o)),f)}function Os(t,o,a,f){for(var b=t.length,D=f?b:-1;(f?D--:++D<b)&&o(t[D],D,t););return a?tn(t,f?0:D,f?D+1:b):tn(t,f?D+1:0,f?b:D)}function bp(t,o){var a=t;return a instanceof $e&&(a=a.value()),Oc(o,function(f,b){return b.func.apply(b.thisArg,Qn([f],b.args))},a)}function nl(t,o,a){var f=t.length;if(f<2)return f?rr(t[0]):[];for(var b=-1,D=B(f);++b<f;)for(var O=t[b],I=-1;++I<f;)I!=b&&(D[b]=ti(D[b]||O,t[I],o,a));return rr(vt(D,1),o,a)}function yp(t,o,a){for(var f=-1,b=t.length,D=o.length,O={};++f<b;){var I=f<D?o[f]:r;a(O,t[f],I)}return O}function rl(t){return Qe(t)?t:[]}function ol(t){return typeof t=="function"?t:Tt}function or(t,o){return pe(t)?t:hl(t,o)?[t]:Zp(Ae(t))}var z$=be;function ir(t,o,a){var f=t.length;return a=a===r?f:a,!o&&a>=f?t:tn(t,o,a)}var xp=_C||function(t){return gt.clearTimeout(t)};function Cp(t,o){if(o)return t.slice();var a=t.length,f=Vh?Vh(a):new t.constructor(a);return t.copy(f),f}function il(t){var o=new t.constructor(t.byteLength);return new vs(o).set(new vs(t)),o}function H$(t,o){var a=o?il(t.buffer):t.buffer;return new t.constructor(a,t.byteOffset,t.byteLength)}function V$(t){var o=new t.constructor(t.source,ih.exec(t));return o.lastIndex=t.lastIndex,o}function G$(t){return Qo?Be(Qo.call(t)):{}}function $p(t,o){var a=o?il(t.buffer):t.buffer;return new t.constructor(a,t.byteOffset,t.length)}function Ep(t,o){if(t!==o){var a=t!==r,f=t===null,b=t===t,D=Ut(t),O=o!==r,I=o===null,W=o===o,H=Ut(o);if(!I&&!H&&!D&&t>o||D&&O&&W&&!I&&!H||f&&O&&W||!a&&W||!b)return 1;if(!f&&!D&&!H&&t<o||H&&a&&b&&!f&&!D||I&&a&&b||!O&&b||!W)return-1}return 0}function K$(t,o,a){for(var f=-1,b=t.criteria,D=o.criteria,O=b.length,I=a.length;++f<O;){var W=Ep(b[f],D[f]);if(W){if(f>=I)return W;var H=a[f];return W*(H=="desc"?-1:1)}}return t.index-o.index}function Np(t,o,a,f){for(var b=-1,D=t.length,O=a.length,I=-1,W=o.length,H=ut(D-O,0),V=B(W+H),Y=!f;++I<W;)V[I]=o[I];for(;++b<O;)(Y||b<D)&&(V[a[b]]=t[b]);for(;H--;)V[I++]=t[b++];return V}function Sp(t,o,a,f){for(var b=-1,D=t.length,O=-1,I=a.length,W=-1,H=o.length,V=ut(D-I,0),Y=B(V+H),j=!f;++b<V;)Y[b]=t[b];for(var ie=b;++W<H;)Y[ie+W]=o[W];for(;++O<I;)(j||b<D)&&(Y[ie+a[O]]=t[b++]);return Y}function Pt(t,o){var a=-1,f=t.length;for(o||(o=B(f));++a<f;)o[a]=t[a];return o}function bn(t,o,a,f){var b=!a;a||(a={});for(var D=-1,O=o.length;++D<O;){var I=o[D],W=f?f(a[I],t[I],I,a,t):r;W===r&&(W=t[I]),b?On(a,I,W):ei(a,I,W)}return a}function R$(t,o){return bn(t,fl(t),o)}function Y$(t,o){return bn(t,Bp(t),o)}function As(t,o){return function(a,f){var b=pe(a)?J2:g$,D=o?o():{};return b(a,t,le(f,2),D)}}function io(t){return be(function(o,a){var f=-1,b=a.length,D=b>1?a[b-1]:r,O=b>2?a[2]:r;for(D=t.length>3&&typeof D=="function"?(b--,D):r,O&&Nt(a[0],a[1],O)&&(D=b<3?r:D,b=1),o=Be(o);++f<b;){var I=a[f];I&&t(o,I,f,D)}return o})}function Dp(t,o){return function(a,f){if(a==null)return a;if(!Ot(a))return t(a,f);for(var b=a.length,D=o?b:-1,O=Be(a);(o?D--:++D<b)&&f(O[D],D,O)!==!1;);return a}}function _p(t){return function(o,a,f){for(var b=-1,D=Be(o),O=f(o),I=O.length;I--;){var W=O[t?I:++b];if(a(D[W],W,D)===!1)break}return o}}function q$(t,o,a){var f=o&x,b=ii(t);function D(){var O=this&&this!==gt&&this instanceof D?b:t;return O.apply(f?a:this,arguments)}return D}function Pp(t){return function(o){o=Ae(o);var a=Jr(o)?ln(o):r,f=a?a[0]:o.charAt(0),b=a?ir(a,1).join(""):o.slice(1);return f[t]()+b}}function so(t){return function(o){return Oc(Dg(Sg(o).replace(W2,"")),t,"")}}function ii(t){return function(){var o=arguments;switch(o.length){case 0:return new t;case 1:return new t(o[0]);case 2:return new t(o[0],o[1]);case 3:return new t(o[0],o[1],o[2]);case 4:return new t(o[0],o[1],o[2],o[3]);case 5:return new t(o[0],o[1],o[2],o[3],o[4]);case 6:return new t(o[0],o[1],o[2],o[3],o[4],o[5]);case 7:return new t(o[0],o[1],o[2],o[3],o[4],o[5],o[6])}var a=oo(t.prototype),f=t.apply(a,o);return qe(f)?f:a}}function Z$(t,o,a){var f=ii(t);function b(){for(var D=arguments.length,O=B(D),I=D,W=ao(b);I--;)O[I]=arguments[I];var H=D<3&&O[0]!==W&&O[D-1]!==W?[]:er(O,W);if(D-=H.length,D<a)return kp(t,o,Ts,b.placeholder,r,O,H,r,r,a-D);var V=this&&this!==gt&&this instanceof b?f:t;return Ft(V,this,O)}return b}function Op(t){return function(o,a,f){var b=Be(o);if(!Ot(o)){var D=le(a,3);o=ft(o),a=function(I){return D(b[I],I,b)}}var O=t(o,a,f);return O>-1?b[D?o[O]:O]:r}}function Ap(t){return Tn(function(o){var a=o.length,f=a,b=Qt.prototype.thru;for(t&&o.reverse();f--;){var D=o[f];if(typeof D!="function")throw new Jt(l);if(b&&!O&&Ls(D)=="wrapper")var O=new Qt([],!0)}for(f=O?f:a;++f<a;){D=o[f];var I=Ls(D),W=I=="wrapper"?ul(D):r;W&&pl(W[0])&&W[1]==(T|S|A|M)&&!W[4].length&&W[9]==1?O=O[Ls(W[0])].apply(O,W[3]):O=D.length==1&&pl(D)?O[I]():O.thru(D)}return function(){var H=arguments,V=H[0];if(O&&H.length==1&&pe(V))return O.plant(V).value();for(var Y=0,j=a?o[Y].apply(this,H):V;++Y<a;)j=o[Y].call(this,j);return j}})}function Ts(t,o,a,f,b,D,O,I,W,H){var V=o&T,Y=o&x,j=o&$,ie=o&(S|_),ue=o&U,me=j?r:ii(t);function de(){for(var xe=arguments.length,Ee=B(xe),zt=xe;zt--;)Ee[zt]=arguments[zt];if(ie)var St=ao(de),Ht=aC(Ee,St);if(f&&(Ee=Np(Ee,f,b,ie)),D&&(Ee=Sp(Ee,D,O,ie)),xe-=Ht,ie&&xe<H){var et=er(Ee,St);return kp(t,o,Ts,de.placeholder,a,Ee,et,I,W,H-xe)}var fn=Y?a:this,Ln=j?fn[t]:t;return xe=Ee.length,I?Ee=gE(Ee,I):ue&&xe>1&&Ee.reverse(),V&&W<xe&&(Ee.length=W),this&&this!==gt&&this instanceof de&&(Ln=me||ii(Ln)),Ln.apply(fn,Ee)}return de}function Tp(t,o){return function(a,f){return $$(a,t,o(f),{})}}function Is(t,o){return function(a,f){var b;if(a===r&&f===r)return o;if(a!==r&&(b=a),f!==r){if(b===r)return f;typeof a=="string"||typeof f=="string"?(a=Bt(a),f=Bt(f)):(a=mp(a),f=mp(f)),b=t(a,f)}return b}}function sl(t){return Tn(function(o){return o=Ke(o,Wt(le())),be(function(a){var f=this;return t(o,function(b){return Ft(b,f,a)})})})}function ks(t,o){o=o===r?" ":Bt(o);var a=o.length;if(a<2)return a?Qc(o,t):o;var f=Qc(o,ys(t/Qr(o)));return Jr(o)?ir(ln(f),0,t).join(""):f.slice(0,t)}function X$(t,o,a,f){var b=o&x,D=ii(t);function O(){for(var I=-1,W=arguments.length,H=-1,V=f.length,Y=B(V+W),j=this&&this!==gt&&this instanceof O?D:t;++H<V;)Y[H]=f[H];for(;W--;)Y[H++]=arguments[++I];return Ft(j,b?a:this,Y)}return O}function Ip(t){return function(o,a,f){return f&&typeof f!="number"&&Nt(o,a,f)&&(a=f=r),o=Mn(o),a===r?(a=o,o=0):a=Mn(a),f=f===r?o<a?1:-1:Mn(f),M$(o,a,f,t)}}function Ms(t){return function(o,a){return typeof o=="string"&&typeof a=="string"||(o=rn(o),a=rn(a)),t(o,a)}}function kp(t,o,a,f,b,D,O,I,W,H){var V=o&S,Y=V?O:r,j=V?r:O,ie=V?D:r,ue=V?r:D;o|=V?A:k,o&=~(V?k:A),o&P||(o&=~(x|$));var me=[t,o,b,ie,Y,ue,j,I,W,H],de=a.apply(r,me);return pl(t)&&Rp(de,me),de.placeholder=f,Yp(de,t,o)}function al(t){var o=lt[t];return function(a,f){if(a=rn(a),f=f==null?0:bt(ve(f),292),f&&Yh(a)){var b=(Ae(a)+"e").split("e"),D=o(b[0]+"e"+(+b[1]+f));return b=(Ae(D)+"e").split("e"),+(b[0]+"e"+(+b[1]-f))}return o(a)}}var j$=no&&1/us(new no([,-0]))[1]==se?function(t){return new no(t)}:Pl;function Mp(t){return function(o){var a=yt(o);return a==Ue?Fc(o):a==Ye?pC(o):sC(o,t(o))}}function An(t,o,a,f,b,D,O,I){var W=o&$;if(!W&&typeof t!="function")throw new Jt(l);var H=f?f.length:0;if(H||(o&=~(A|k),f=b=r),O=O===r?O:ut(ve(O),0),I=I===r?I:ve(I),H-=b?b.length:0,o&k){var V=f,Y=b;f=b=r}var j=W?r:ul(t),ie=[t,o,a,f,b,V,Y,D,O,I];if(j&&fE(ie,j),t=ie[0],o=ie[1],a=ie[2],f=ie[3],b=ie[4],I=ie[9]=ie[9]===r?W?0:t.length:ut(ie[9]-H,0),!I&&o&(S|_)&&(o&=~(S|_)),!o||o==x)var ue=q$(t,o,a);else o==S||o==_?ue=Z$(t,o,I):(o==A||o==(x|A))&&!b.length?ue=X$(t,o,a,f):ue=Ts.apply(r,ie);var me=j?gp:Rp;return Yp(me(ue,ie),t,o)}function Lp(t,o,a,f){return t===r||dn(t,to[a])&&!Te.call(f,a)?o:t}function Fp(t,o,a,f,b,D){return qe(t)&&qe(o)&&(D.set(o,t),_s(t,o,r,Fp,D),D.delete(o)),t}function J$(t){return ci(t)?r:t}function Wp(t,o,a,f,b,D){var O=a&E,I=t.length,W=o.length;if(I!=W&&!(O&&W>I))return!1;var H=D.get(t),V=D.get(o);if(H&&V)return H==o&&V==t;var Y=-1,j=!0,ie=a&g?new yr:r;for(D.set(t,o),D.set(o,t);++Y<I;){var ue=t[Y],me=o[Y];if(f)var de=O?f(me,ue,Y,o,t,D):f(ue,me,Y,t,o,D);if(de!==r){if(de)continue;j=!1;break}if(ie){if(!Ac(o,function(xe,Ee){if(!qo(ie,Ee)&&(ue===xe||b(ue,xe,a,f,D)))return ie.push(Ee)})){j=!1;break}}else if(!(ue===me||b(ue,me,a,f,D))){j=!1;break}}return D.delete(t),D.delete(o),j}function Q$(t,o,a,f,b,D,O){switch(a){case cn:if(t.byteLength!=o.byteLength||t.byteOffset!=o.byteOffset)return!1;t=t.buffer,o=o.buffer;case Lt:return!(t.byteLength!=o.byteLength||!D(new vs(t),new vs(o)));case Re:case K:case Pe:return dn(+t,+o);case ge:return t.name==o.name&&t.message==o.message;case at:case qt:return t==o+"";case Ue:var I=Fc;case Ye:var W=f&E;if(I||(I=us),t.size!=o.size&&!W)return!1;var H=O.get(t);if(H)return H==o;f|=g,O.set(t,o);var V=Wp(I(t),I(o),f,b,D,O);return O.delete(t),V;case Dn:if(Qo)return Qo.call(t)==Qo.call(o)}return!1}function eE(t,o,a,f,b,D){var O=a&E,I=cl(t),W=I.length,H=cl(o),V=H.length;if(W!=V&&!O)return!1;for(var Y=W;Y--;){var j=I[Y];if(!(O?j in o:Te.call(o,j)))return!1}var ie=D.get(t),ue=D.get(o);if(ie&&ue)return ie==o&&ue==t;var me=!0;D.set(t,o),D.set(o,t);for(var de=O;++Y<W;){j=I[Y];var xe=t[j],Ee=o[j];if(f)var zt=O?f(Ee,xe,j,o,t,D):f(xe,Ee,j,t,o,D);if(!(zt===r?xe===Ee||b(xe,Ee,a,f,D):zt)){me=!1;break}de||(de=j=="constructor")}if(me&&!de){var St=t.constructor,Ht=o.constructor;St!=Ht&&"constructor"in t&&"constructor"in o&&!(typeof St=="function"&&St instanceof St&&typeof Ht=="function"&&Ht instanceof Ht)&&(me=!1)}return D.delete(t),D.delete(o),me}function Tn(t){return vl(Gp(t,r,Qp),t+"")}function cl(t){return op(t,ft,fl)}function ll(t){return op(t,At,Bp)}var ul=Cs?function(t){return Cs.get(t)}:Pl;function Ls(t){for(var o=t.name+"",a=ro[o],f=Te.call(ro,o)?a.length:0;f--;){var b=a[f],D=b.func;if(D==null||D==t)return b.name}return o}function ao(t){var o=Te.call(N,"placeholder")?N:t;return o.placeholder}function le(){var t=N.iteratee||Dl;return t=t===Dl?ap:t,arguments.length?t(arguments[0],arguments[1]):t}function Fs(t,o){var a=t.__data__;return cE(o)?a[typeof o=="string"?"string":"hash"]:a.map}function dl(t){for(var o=ft(t),a=o.length;a--;){var f=o[a],b=t[f];o[a]=[f,b,Hp(b)]}return o}function $r(t,o){var a=dC(t,o);return sp(a)?a:r}function tE(t){var o=Te.call(t,wr),a=t[wr];try{t[wr]=r;var f=!0}catch{}var b=ps.call(t);return f&&(o?t[wr]=a:delete t[wr]),b}var fl=Bc?function(t){return t==null?[]:(t=Be(t),Jn(Bc(t),function(o){return Kh.call(t,o)}))}:Ol,Bp=Bc?function(t){for(var o=[];t;)Qn(o,fl(t)),t=ms(t);return o}:Ol,yt=Et;(Uc&&yt(new Uc(new ArrayBuffer(1)))!=cn||Xo&&yt(new Xo)!=Ue||zc&&yt(zc.resolve())!=sn||no&&yt(new no)!=Ye||jo&&yt(new jo)!=je)&&(yt=function(t){var o=Et(t),a=o==pt?t.constructor:r,f=a?Er(a):"";if(f)switch(f){case FC:return cn;case WC:return Ue;case BC:return sn;case UC:return Ye;case zC:return je}return o});function nE(t,o,a){for(var f=-1,b=a.length;++f<b;){var D=a[f],O=D.size;switch(D.type){case"drop":t+=O;break;case"dropRight":o-=O;break;case"take":o=bt(o,t+O);break;case"takeRight":t=ut(t,o-O);break}}return{start:t,end:o}}function rE(t){var o=t.match(l2);return o?o[1].split(u2):[]}function Up(t,o,a){o=or(o,t);for(var f=-1,b=o.length,D=!1;++f<b;){var O=yn(o[f]);if(!(D=t!=null&&a(t,O)))break;t=t[O]}return D||++f!=b?D:(b=t==null?0:t.length,!!b&&Gs(b)&&In(O,b)&&(pe(t)||Nr(t)))}function oE(t){var o=t.length,a=new t.constructor(o);return o&&typeof t[0]=="string"&&Te.call(t,"index")&&(a.index=t.index,a.input=t.input),a}function zp(t){return typeof t.constructor=="function"&&!si(t)?oo(ms(t)):{}}function iE(t,o,a){var f=t.constructor;switch(o){case Lt:return il(t);case Re:case K:return new f(+t);case cn:return H$(t,a);case _t:case Rn:case pr:case Yn:case qn:case Zn:case Ve:case rt:case Je:return $p(t,a);case Ue:return new f;case Pe:case qt:return new f(t);case at:return V$(t);case Ye:return new f;case Dn:return G$(t)}}function sE(t,o){var a=o.length;if(!a)return t;var f=a-1;return o[f]=(a>1?"& ":"")+o[f],o=o.join(a>2?", ":" "),t.replace(c2,`{
/* [wrapped with `+o+`] */
`)}function aE(t){return pe(t)||Nr(t)||!!(Rh&&t&&t[Rh])}function In(t,o){var a=typeof t;return o=o??fe,!!o&&(a=="number"||a!="symbol"&&b2.test(t))&&t>-1&&t%1==0&&t<o}function Nt(t,o,a){if(!qe(a))return!1;var f=typeof o;return(f=="number"?Ot(a)&&In(o,a.length):f=="string"&&o in a)?dn(a[o],t):!1}function hl(t,o){if(pe(t))return!1;var a=typeof t;return a=="number"||a=="symbol"||a=="boolean"||t==null||Ut(t)?!0:rs.test(t)||!qr.test(t)||o!=null&&t in Be(o)}function cE(t){var o=typeof t;return o=="string"||o=="number"||o=="symbol"||o=="boolean"?t!=="__proto__":t===null}function pl(t){var o=Ls(t),a=N[o];if(typeof a!="function"||!(o in $e.prototype))return!1;if(t===a)return!0;var f=ul(a);return!!f&&t===f[0]}function lE(t){return!!Hh&&Hh in t}var uE=fs?kn:Al;function si(t){var o=t&&t.constructor,a=typeof o=="function"&&o.prototype||to;return t===a}function Hp(t){return t===t&&!qe(t)}function Vp(t,o){return function(a){return a==null?!1:a[t]===o&&(o!==r||t in Be(a))}}function dE(t){var o=Hs(t,function(f){return a.size===h&&a.clear(),f}),a=o.cache;return o}function fE(t,o){var a=t[1],f=o[1],b=a|f,D=b<(x|$|T),O=f==T&&a==S||f==T&&a==M&&t[7].length<=o[8]||f==(T|M)&&o[7].length<=o[8]&&a==S;if(!(D||O))return t;f&x&&(t[2]=o[2],b|=a&x?0:P);var I=o[3];if(I){var W=t[3];t[3]=W?Np(W,I,o[4]):I,t[4]=W?er(t[3],m):o[4]}return I=o[5],I&&(W=t[5],t[5]=W?Sp(W,I,o[6]):I,t[6]=W?er(t[5],m):o[6]),I=o[7],I&&(t[7]=I),f&T&&(t[8]=t[8]==null?o[8]:bt(t[8],o[8])),t[9]==null&&(t[9]=o[9]),t[0]=o[0],t[1]=b,t}function hE(t){var o=[];if(t!=null)for(var a in Be(t))o.push(a);return o}function pE(t){return ps.call(t)}function Gp(t,o,a){return o=ut(o===r?t.length-1:o,0),function(){for(var f=arguments,b=-1,D=ut(f.length-o,0),O=B(D);++b<D;)O[b]=f[o+b];b=-1;for(var I=B(o+1);++b<o;)I[b]=f[b];return I[o]=a(O),Ft(t,this,I)}}function Kp(t,o){return o.length<2?t:Cr(t,tn(o,0,-1))}function gE(t,o){for(var a=t.length,f=bt(o.length,a),b=Pt(t);f--;){var D=o[f];t[f]=In(D,a)?b[D]:r}return t}function gl(t,o){if(!(o==="constructor"&&typeof t[o]=="function")&&o!="__proto__")return t[o]}var Rp=qp(gp),ai=OC||function(t,o){return gt.setTimeout(t,o)},vl=qp(W$);function Yp(t,o,a){var f=o+"";return vl(t,sE(f,vE(rE(f),a)))}function qp(t){var o=0,a=0;return function(){var f=kC(),b=oe-(f-a);if(a=f,b>0){if(++o>=Z)return arguments[0]}else o=0;return t.apply(r,arguments)}}function Ws(t,o){var a=-1,f=t.length,b=f-1;for(o=o===r?f:o;++a<o;){var D=Jc(a,b),O=t[D];t[D]=t[a],t[a]=O}return t.length=o,t}var Zp=dE(function(t){var o=[];return t.charCodeAt(0)===46&&o.push(""),t.replace(Xn,function(a,f,b,D){o.push(b?D.replace(h2,"$1"):f||a)}),o});function yn(t){if(typeof t=="string"||Ut(t))return t;var o=t+"";return o=="0"&&1/t==-se?"-0":o}function Er(t){if(t!=null){try{return hs.call(t)}catch{}try{return t+""}catch{}}return""}function vE(t,o){return jt(_e,function(a){var f="_."+a[0];o&a[1]&&!cs(t,f)&&t.push(f)}),t.sort()}function Xp(t){if(t instanceof $e)return t.clone();var o=new Qt(t.__wrapped__,t.__chain__);return o.__actions__=Pt(t.__actions__),o.__index__=t.__index__,o.__values__=t.__values__,o}function mE(t,o,a){(a?Nt(t,o,a):o===r)?o=1:o=ut(ve(o),0);var f=t==null?0:t.length;if(!f||o<1)return[];for(var b=0,D=0,O=B(ys(f/o));b<f;)O[D++]=tn(t,b,b+=o);return O}function wE(t){for(var o=-1,a=t==null?0:t.length,f=0,b=[];++o<a;){var D=t[o];D&&(b[f++]=D)}return b}function bE(){var t=arguments.length;if(!t)return[];for(var o=B(t-1),a=arguments[0],f=t;f--;)o[f-1]=arguments[f];return Qn(pe(a)?Pt(a):[a],vt(o,1))}var yE=be(function(t,o){return Qe(t)?ti(t,vt(o,1,Qe,!0)):[]}),xE=be(function(t,o){var a=nn(o);return Qe(a)&&(a=r),Qe(t)?ti(t,vt(o,1,Qe,!0),le(a,2)):[]}),CE=be(function(t,o){var a=nn(o);return Qe(a)&&(a=r),Qe(t)?ti(t,vt(o,1,Qe,!0),r,a):[]});function $E(t,o,a){var f=t==null?0:t.length;return f?(o=a||o===r?1:ve(o),tn(t,o<0?0:o,f)):[]}function EE(t,o,a){var f=t==null?0:t.length;return f?(o=a||o===r?1:ve(o),o=f-o,tn(t,0,o<0?0:o)):[]}function NE(t,o){return t&&t.length?Os(t,le(o,3),!0,!0):[]}function SE(t,o){return t&&t.length?Os(t,le(o,3),!0):[]}function DE(t,o,a,f){var b=t==null?0:t.length;return b?(a&&typeof a!="number"&&Nt(t,o,a)&&(a=0,f=b),b$(t,o,a,f)):[]}function jp(t,o,a){var f=t==null?0:t.length;if(!f)return-1;var b=a==null?0:ve(a);return b<0&&(b=ut(f+b,0)),ls(t,le(o,3),b)}function Jp(t,o,a){var f=t==null?0:t.length;if(!f)return-1;var b=f-1;return a!==r&&(b=ve(a),b=a<0?ut(f+b,0):bt(b,f-1)),ls(t,le(o,3),b,!0)}function Qp(t){var o=t==null?0:t.length;return o?vt(t,1):[]}function _E(t){var o=t==null?0:t.length;return o?vt(t,se):[]}function PE(t,o){var a=t==null?0:t.length;return a?(o=o===r?1:ve(o),vt(t,o)):[]}function OE(t){for(var o=-1,a=t==null?0:t.length,f={};++o<a;){var b=t[o];f[b[0]]=b[1]}return f}function eg(t){return t&&t.length?t[0]:r}function AE(t,o,a){var f=t==null?0:t.length;if(!f)return-1;var b=a==null?0:ve(a);return b<0&&(b=ut(f+b,0)),jr(t,o,b)}function TE(t){var o=t==null?0:t.length;return o?tn(t,0,-1):[]}var IE=be(function(t){var o=Ke(t,rl);return o.length&&o[0]===t[0]?Yc(o):[]}),kE=be(function(t){var o=nn(t),a=Ke(t,rl);return o===nn(a)?o=r:a.pop(),a.length&&a[0]===t[0]?Yc(a,le(o,2)):[]}),ME=be(function(t){var o=nn(t),a=Ke(t,rl);return o=typeof o=="function"?o:r,o&&a.pop(),a.length&&a[0]===t[0]?Yc(a,r,o):[]});function LE(t,o){return t==null?"":TC.call(t,o)}function nn(t){var o=t==null?0:t.length;return o?t[o-1]:r}function FE(t,o,a){var f=t==null?0:t.length;if(!f)return-1;var b=f;return a!==r&&(b=ve(a),b=b<0?ut(f+b,0):bt(b,f-1)),o===o?vC(t,o,b):ls(t,kh,b,!0)}function WE(t,o){return t&&t.length?dp(t,ve(o)):r}var BE=be(tg);function tg(t,o){return t&&t.length&&o&&o.length?jc(t,o):t}function UE(t,o,a){return t&&t.length&&o&&o.length?jc(t,o,le(a,2)):t}function zE(t,o,a){return t&&t.length&&o&&o.length?jc(t,o,r,a):t}var HE=Tn(function(t,o){var a=t==null?0:t.length,f=Vc(t,o);return pp(t,Ke(o,function(b){return In(b,a)?+b:b}).sort(Ep)),f});function VE(t,o){var a=[];if(!(t&&t.length))return a;var f=-1,b=[],D=t.length;for(o=le(o,3);++f<D;){var O=t[f];o(O,f,t)&&(a.push(O),b.push(f))}return pp(t,b),a}function ml(t){return t==null?t:LC.call(t)}function GE(t,o,a){var f=t==null?0:t.length;return f?(a&&typeof a!="number"&&Nt(t,o,a)?(o=0,a=f):(o=o==null?0:ve(o),a=a===r?f:ve(a)),tn(t,o,a)):[]}function KE(t,o){return Ps(t,o)}function RE(t,o,a){return el(t,o,le(a,2))}function YE(t,o){var a=t==null?0:t.length;if(a){var f=Ps(t,o);if(f<a&&dn(t[f],o))return f}return-1}function qE(t,o){return Ps(t,o,!0)}function ZE(t,o,a){return el(t,o,le(a,2),!0)}function XE(t,o){var a=t==null?0:t.length;if(a){var f=Ps(t,o,!0)-1;if(dn(t[f],o))return f}return-1}function jE(t){return t&&t.length?vp(t):[]}function JE(t,o){return t&&t.length?vp(t,le(o,2)):[]}function QE(t){var o=t==null?0:t.length;return o?tn(t,1,o):[]}function e5(t,o,a){return t&&t.length?(o=a||o===r?1:ve(o),tn(t,0,o<0?0:o)):[]}function t5(t,o,a){var f=t==null?0:t.length;return f?(o=a||o===r?1:ve(o),o=f-o,tn(t,o<0?0:o,f)):[]}function n5(t,o){return t&&t.length?Os(t,le(o,3),!1,!0):[]}function r5(t,o){return t&&t.length?Os(t,le(o,3)):[]}var o5=be(function(t){return rr(vt(t,1,Qe,!0))}),i5=be(function(t){var o=nn(t);return Qe(o)&&(o=r),rr(vt(t,1,Qe,!0),le(o,2))}),s5=be(function(t){var o=nn(t);return o=typeof o=="function"?o:r,rr(vt(t,1,Qe,!0),r,o)});function a5(t){return t&&t.length?rr(t):[]}function c5(t,o){return t&&t.length?rr(t,le(o,2)):[]}function l5(t,o){return o=typeof o=="function"?o:r,t&&t.length?rr(t,r,o):[]}function wl(t){if(!(t&&t.length))return[];var o=0;return t=Jn(t,function(a){if(Qe(a))return o=ut(a.length,o),!0}),Mc(o,function(a){return Ke(t,Tc(a))})}function ng(t,o){if(!(t&&t.length))return[];var a=wl(t);return o==null?a:Ke(a,function(f){return Ft(o,r,f)})}var u5=be(function(t,o){return Qe(t)?ti(t,o):[]}),d5=be(function(t){return nl(Jn(t,Qe))}),f5=be(function(t){var o=nn(t);return Qe(o)&&(o=r),nl(Jn(t,Qe),le(o,2))}),h5=be(function(t){var o=nn(t);return o=typeof o=="function"?o:r,nl(Jn(t,Qe),r,o)}),p5=be(wl);function g5(t,o){return yp(t||[],o||[],ei)}function v5(t,o){return yp(t||[],o||[],oi)}var m5=be(function(t){var o=t.length,a=o>1?t[o-1]:r;return a=typeof a=="function"?(t.pop(),a):r,ng(t,a)});function rg(t){var o=N(t);return o.__chain__=!0,o}function w5(t,o){return o(t),t}function Bs(t,o){return o(t)}var b5=Tn(function(t){var o=t.length,a=o?t[0]:0,f=this.__wrapped__,b=function(D){return Vc(D,t)};return o>1||this.__actions__.length||!(f instanceof $e)||!In(a)?this.thru(b):(f=f.slice(a,+a+(o?1:0)),f.__actions__.push({func:Bs,args:[b],thisArg:r}),new Qt(f,this.__chain__).thru(function(D){return o&&!D.length&&D.push(r),D}))});function y5(){return rg(this)}function x5(){return new Qt(this.value(),this.__chain__)}function C5(){this.__values__===r&&(this.__values__=mg(this.value()));var t=this.__index__>=this.__values__.length,o=t?r:this.__values__[this.__index__++];return{done:t,value:o}}function $5(){return this}function E5(t){for(var o,a=this;a instanceof Es;){var f=Xp(a);f.__index__=0,f.__values__=r,o?b.__wrapped__=f:o=f;var b=f;a=a.__wrapped__}return b.__wrapped__=t,o}function N5(){var t=this.__wrapped__;if(t instanceof $e){var o=t;return this.__actions__.length&&(o=new $e(this)),o=o.reverse(),o.__actions__.push({func:Bs,args:[ml],thisArg:r}),new Qt(o,this.__chain__)}return this.thru(ml)}function S5(){return bp(this.__wrapped__,this.__actions__)}var D5=As(function(t,o,a){Te.call(t,a)?++t[a]:On(t,a,1)});function _5(t,o,a){var f=pe(t)?Th:w$;return a&&Nt(t,o,a)&&(o=r),f(t,le(o,3))}function P5(t,o){var a=pe(t)?Jn:np;return a(t,le(o,3))}var O5=Op(jp),A5=Op(Jp);function T5(t,o){return vt(Us(t,o),1)}function I5(t,o){return vt(Us(t,o),se)}function k5(t,o,a){return a=a===r?1:ve(a),vt(Us(t,o),a)}function og(t,o){var a=pe(t)?jt:nr;return a(t,le(o,3))}function ig(t,o){var a=pe(t)?Q2:tp;return a(t,le(o,3))}var M5=As(function(t,o,a){Te.call(t,a)?t[a].push(o):On(t,a,[o])});function L5(t,o,a,f){t=Ot(t)?t:lo(t),a=a&&!f?ve(a):0;var b=t.length;return a<0&&(a=ut(b+a,0)),Ks(t)?a<=b&&t.indexOf(o,a)>-1:!!b&&jr(t,o,a)>-1}var F5=be(function(t,o,a){var f=-1,b=typeof o=="function",D=Ot(t)?B(t.length):[];return nr(t,function(O){D[++f]=b?Ft(o,O,a):ni(O,o,a)}),D}),W5=As(function(t,o,a){On(t,a,o)});function Us(t,o){var a=pe(t)?Ke:cp;return a(t,le(o,3))}function B5(t,o,a,f){return t==null?[]:(pe(o)||(o=o==null?[]:[o]),a=f?r:a,pe(a)||(a=a==null?[]:[a]),fp(t,o,a))}var U5=As(function(t,o,a){t[a?0:1].push(o)},function(){return[[],[]]});function z5(t,o,a){var f=pe(t)?Oc:Lh,b=arguments.length<3;return f(t,le(o,4),a,b,nr)}function H5(t,o,a){var f=pe(t)?eC:Lh,b=arguments.length<3;return f(t,le(o,4),a,b,tp)}function V5(t,o){var a=pe(t)?Jn:np;return a(t,Vs(le(o,3)))}function G5(t){var o=pe(t)?jh:L$;return o(t)}function K5(t,o,a){(a?Nt(t,o,a):o===r)?o=1:o=ve(o);var f=pe(t)?h$:F$;return f(t,o)}function R5(t){var o=pe(t)?p$:B$;return o(t)}function Y5(t){if(t==null)return 0;if(Ot(t))return Ks(t)?Qr(t):t.length;var o=yt(t);return o==Ue||o==Ye?t.size:Zc(t).length}function q5(t,o,a){var f=pe(t)?Ac:U$;return a&&Nt(t,o,a)&&(o=r),f(t,le(o,3))}var Z5=be(function(t,o){if(t==null)return[];var a=o.length;return a>1&&Nt(t,o[0],o[1])?o=[]:a>2&&Nt(o[0],o[1],o[2])&&(o=[o[0]]),fp(t,vt(o,1),[])}),zs=PC||function(){return gt.Date.now()};function X5(t,o){if(typeof o!="function")throw new Jt(l);return t=ve(t),function(){if(--t<1)return o.apply(this,arguments)}}function sg(t,o,a){return o=a?r:o,o=t&&o==null?t.length:o,An(t,T,r,r,r,r,o)}function ag(t,o){var a;if(typeof o!="function")throw new Jt(l);return t=ve(t),function(){return--t>0&&(a=o.apply(this,arguments)),t<=1&&(o=r),a}}var bl=be(function(t,o,a){var f=x;if(a.length){var b=er(a,ao(bl));f|=A}return An(t,f,o,a,b)}),cg=be(function(t,o,a){var f=x|$;if(a.length){var b=er(a,ao(cg));f|=A}return An(o,f,t,a,b)});function lg(t,o,a){o=a?r:o;var f=An(t,S,r,r,r,r,r,o);return f.placeholder=lg.placeholder,f}function ug(t,o,a){o=a?r:o;var f=An(t,_,r,r,r,r,r,o);return f.placeholder=ug.placeholder,f}function dg(t,o,a){var f,b,D,O,I,W,H=0,V=!1,Y=!1,j=!0;if(typeof t!="function")throw new Jt(l);o=rn(o)||0,qe(a)&&(V=!!a.leading,Y="maxWait"in a,D=Y?ut(rn(a.maxWait)||0,o):D,j="trailing"in a?!!a.trailing:j);function ie(et){var fn=f,Ln=b;return f=b=r,H=et,O=t.apply(Ln,fn),O}function ue(et){return H=et,I=ai(xe,o),V?ie(et):O}function me(et){var fn=et-W,Ln=et-H,Og=o-fn;return Y?bt(Og,D-Ln):Og}function de(et){var fn=et-W,Ln=et-H;return W===r||fn>=o||fn<0||Y&&Ln>=D}function xe(){var et=zs();if(de(et))return Ee(et);I=ai(xe,me(et))}function Ee(et){return I=r,j&&f?ie(et):(f=b=r,O)}function zt(){I!==r&&xp(I),H=0,f=W=b=I=r}function St(){return I===r?O:Ee(zs())}function Ht(){var et=zs(),fn=de(et);if(f=arguments,b=this,W=et,fn){if(I===r)return ue(W);if(Y)return xp(I),I=ai(xe,o),ie(W)}return I===r&&(I=ai(xe,o)),O}return Ht.cancel=zt,Ht.flush=St,Ht}var j5=be(function(t,o){return ep(t,1,o)}),J5=be(function(t,o,a){return ep(t,rn(o)||0,a)});function Q5(t){return An(t,U)}function Hs(t,o){if(typeof t!="function"||o!=null&&typeof o!="function")throw new Jt(l);var a=function(){var f=arguments,b=o?o.apply(this,f):f[0],D=a.cache;if(D.has(b))return D.get(b);var O=t.apply(this,f);return a.cache=D.set(b,O)||D,O};return a.cache=new(Hs.Cache||Pn),a}Hs.Cache=Pn;function Vs(t){if(typeof t!="function")throw new Jt(l);return function(){var o=arguments;switch(o.length){case 0:return!t.call(this);case 1:return!t.call(this,o[0]);case 2:return!t.call(this,o[0],o[1]);case 3:return!t.call(this,o[0],o[1],o[2])}return!t.apply(this,o)}}function eN(t){return ag(2,t)}var tN=z$(function(t,o){o=o.length==1&&pe(o[0])?Ke(o[0],Wt(le())):Ke(vt(o,1),Wt(le()));var a=o.length;return be(function(f){for(var b=-1,D=bt(f.length,a);++b<D;)f[b]=o[b].call(this,f[b]);return Ft(t,this,f)})}),yl=be(function(t,o){var a=er(o,ao(yl));return An(t,A,r,o,a)}),fg=be(function(t,o){var a=er(o,ao(fg));return An(t,k,r,o,a)}),nN=Tn(function(t,o){return An(t,M,r,r,r,o)});function rN(t,o){if(typeof t!="function")throw new Jt(l);return o=o===r?o:ve(o),be(t,o)}function oN(t,o){if(typeof t!="function")throw new Jt(l);return o=o==null?0:ut(ve(o),0),be(function(a){var f=a[o],b=ir(a,0,o);return f&&Qn(b,f),Ft(t,this,b)})}function iN(t,o,a){var f=!0,b=!0;if(typeof t!="function")throw new Jt(l);return qe(a)&&(f="leading"in a?!!a.leading:f,b="trailing"in a?!!a.trailing:b),dg(t,o,{leading:f,maxWait:o,trailing:b})}function sN(t){return sg(t,1)}function aN(t,o){return yl(ol(o),t)}function cN(){if(!arguments.length)return[];var t=arguments[0];return pe(t)?t:[t]}function lN(t){return en(t,w)}function uN(t,o){return o=typeof o=="function"?o:r,en(t,w,o)}function dN(t){return en(t,v|w)}function fN(t,o){return o=typeof o=="function"?o:r,en(t,v|w,o)}function hN(t,o){return o==null||Qh(t,o,ft(o))}function dn(t,o){return t===o||t!==t&&o!==o}var pN=Ms(Rc),gN=Ms(function(t,o){return t>=o}),Nr=ip(function(){return arguments}())?ip:function(t){return Xe(t)&&Te.call(t,"callee")&&!Kh.call(t,"callee")},pe=B.isArray,vN=Sh?Wt(Sh):E$;function Ot(t){return t!=null&&Gs(t.length)&&!kn(t)}function Qe(t){return Xe(t)&&Ot(t)}function mN(t){return t===!0||t===!1||Xe(t)&&Et(t)==Re}var sr=AC||Al,wN=Dh?Wt(Dh):N$;function bN(t){return Xe(t)&&t.nodeType===1&&!ci(t)}function yN(t){if(t==null)return!0;if(Ot(t)&&(pe(t)||typeof t=="string"||typeof t.splice=="function"||sr(t)||co(t)||Nr(t)))return!t.length;var o=yt(t);if(o==Ue||o==Ye)return!t.size;if(si(t))return!Zc(t).length;for(var a in t)if(Te.call(t,a))return!1;return!0}function xN(t,o){return ri(t,o)}function CN(t,o,a){a=typeof a=="function"?a:r;var f=a?a(t,o):r;return f===r?ri(t,o,r,a):!!f}function xl(t){if(!Xe(t))return!1;var o=Et(t);return o==ge||o==st||typeof t.message=="string"&&typeof t.name=="string"&&!ci(t)}function $N(t){return typeof t=="number"&&Yh(t)}function kn(t){if(!qe(t))return!1;var o=Et(t);return o==Ze||o==xt||o==ke||o==mn}function hg(t){return typeof t=="number"&&t==ve(t)}function Gs(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=fe}function qe(t){var o=typeof t;return t!=null&&(o=="object"||o=="function")}function Xe(t){return t!=null&&typeof t=="object"}var pg=_h?Wt(_h):D$;function EN(t,o){return t===o||qc(t,o,dl(o))}function NN(t,o,a){return a=typeof a=="function"?a:r,qc(t,o,dl(o),a)}function SN(t){return gg(t)&&t!=+t}function DN(t){if(uE(t))throw new he(c);return sp(t)}function _N(t){return t===null}function PN(t){return t==null}function gg(t){return typeof t=="number"||Xe(t)&&Et(t)==Pe}function ci(t){if(!Xe(t)||Et(t)!=pt)return!1;var o=ms(t);if(o===null)return!0;var a=Te.call(o,"constructor")&&o.constructor;return typeof a=="function"&&a instanceof a&&hs.call(a)==NC}var Cl=Ph?Wt(Ph):_$;function ON(t){return hg(t)&&t>=-fe&&t<=fe}var vg=Oh?Wt(Oh):P$;function Ks(t){return typeof t=="string"||!pe(t)&&Xe(t)&&Et(t)==qt}function Ut(t){return typeof t=="symbol"||Xe(t)&&Et(t)==Dn}var co=Ah?Wt(Ah):O$;function AN(t){return t===r}function TN(t){return Xe(t)&&yt(t)==je}function IN(t){return Xe(t)&&Et(t)==an}var kN=Ms(Xc),MN=Ms(function(t,o){return t<=o});function mg(t){if(!t)return[];if(Ot(t))return Ks(t)?ln(t):Pt(t);if(Zo&&t[Zo])return hC(t[Zo]());var o=yt(t),a=o==Ue?Fc:o==Ye?us:lo;return a(t)}function Mn(t){if(!t)return t===0?t:0;if(t=rn(t),t===se||t===-se){var o=t<0?-1:1;return o*G}return t===t?t:0}function ve(t){var o=Mn(t),a=o%1;return o===o?a?o-a:o:0}function wg(t){return t?xr(ve(t),0,Q):0}function rn(t){if(typeof t=="number")return t;if(Ut(t))return J;if(qe(t)){var o=typeof t.valueOf=="function"?t.valueOf():t;t=qe(o)?o+"":o}if(typeof t!="string")return t===0?t:+t;t=Fh(t);var a=v2.test(t);return a||w2.test(t)?X2(t.slice(2),a?2:8):g2.test(t)?J:+t}function bg(t){return bn(t,At(t))}function LN(t){return t?xr(ve(t),-fe,fe):t===0?t:0}function Ae(t){return t==null?"":Bt(t)}var FN=io(function(t,o){if(si(o)||Ot(o)){bn(o,ft(o),t);return}for(var a in o)Te.call(o,a)&&ei(t,a,o[a])}),yg=io(function(t,o){bn(o,At(o),t)}),Rs=io(function(t,o,a,f){bn(o,At(o),t,f)}),WN=io(function(t,o,a,f){bn(o,ft(o),t,f)}),BN=Tn(Vc);function UN(t,o){var a=oo(t);return o==null?a:Jh(a,o)}var zN=be(function(t,o){t=Be(t);var a=-1,f=o.length,b=f>2?o[2]:r;for(b&&Nt(o[0],o[1],b)&&(f=1);++a<f;)for(var D=o[a],O=At(D),I=-1,W=O.length;++I<W;){var H=O[I],V=t[H];(V===r||dn(V,to[H])&&!Te.call(t,H))&&(t[H]=D[H])}return t}),HN=be(function(t){return t.push(r,Fp),Ft(xg,r,t)});function VN(t,o){return Ih(t,le(o,3),wn)}function GN(t,o){return Ih(t,le(o,3),Kc)}function KN(t,o){return t==null?t:Gc(t,le(o,3),At)}function RN(t,o){return t==null?t:rp(t,le(o,3),At)}function YN(t,o){return t&&wn(t,le(o,3))}function qN(t,o){return t&&Kc(t,le(o,3))}function ZN(t){return t==null?[]:Ds(t,ft(t))}function XN(t){return t==null?[]:Ds(t,At(t))}function $l(t,o,a){var f=t==null?r:Cr(t,o);return f===r?a:f}function jN(t,o){return t!=null&&Up(t,o,y$)}function El(t,o){return t!=null&&Up(t,o,x$)}var JN=Tp(function(t,o,a){o!=null&&typeof o.toString!="function"&&(o=ps.call(o)),t[o]=a},Sl(Tt)),QN=Tp(function(t,o,a){o!=null&&typeof o.toString!="function"&&(o=ps.call(o)),Te.call(t,o)?t[o].push(a):t[o]=[a]},le),e3=be(ni);function ft(t){return Ot(t)?Xh(t):Zc(t)}function At(t){return Ot(t)?Xh(t,!0):A$(t)}function t3(t,o){var a={};return o=le(o,3),wn(t,function(f,b,D){On(a,o(f,b,D),f)}),a}function n3(t,o){var a={};return o=le(o,3),wn(t,function(f,b,D){On(a,b,o(f,b,D))}),a}var r3=io(function(t,o,a){_s(t,o,a)}),xg=io(function(t,o,a,f){_s(t,o,a,f)}),o3=Tn(function(t,o){var a={};if(t==null)return a;var f=!1;o=Ke(o,function(D){return D=or(D,t),f||(f=D.length>1),D}),bn(t,ll(t),a),f&&(a=en(a,v|y|w,J$));for(var b=o.length;b--;)tl(a,o[b]);return a});function i3(t,o){return Cg(t,Vs(le(o)))}var s3=Tn(function(t,o){return t==null?{}:I$(t,o)});function Cg(t,o){if(t==null)return{};var a=Ke(ll(t),function(f){return[f]});return o=le(o),hp(t,a,function(f,b){return o(f,b[0])})}function a3(t,o,a){o=or(o,t);var f=-1,b=o.length;for(b||(b=1,t=r);++f<b;){var D=t==null?r:t[yn(o[f])];D===r&&(f=b,D=a),t=kn(D)?D.call(t):D}return t}function c3(t,o,a){return t==null?t:oi(t,o,a)}function l3(t,o,a,f){return f=typeof f=="function"?f:r,t==null?t:oi(t,o,a,f)}var $g=Mp(ft),Eg=Mp(At);function u3(t,o,a){var f=pe(t),b=f||sr(t)||co(t);if(o=le(o,4),a==null){var D=t&&t.constructor;b?a=f?new D:[]:qe(t)?a=kn(D)?oo(ms(t)):{}:a={}}return(b?jt:wn)(t,function(O,I,W){return o(a,O,I,W)}),a}function d3(t,o){return t==null?!0:tl(t,o)}function f3(t,o,a){return t==null?t:wp(t,o,ol(a))}function h3(t,o,a,f){return f=typeof f=="function"?f:r,t==null?t:wp(t,o,ol(a),f)}function lo(t){return t==null?[]:Lc(t,ft(t))}function p3(t){return t==null?[]:Lc(t,At(t))}function g3(t,o,a){return a===r&&(a=o,o=r),a!==r&&(a=rn(a),a=a===a?a:0),o!==r&&(o=rn(o),o=o===o?o:0),xr(rn(t),o,a)}function v3(t,o,a){return o=Mn(o),a===r?(a=o,o=0):a=Mn(a),t=rn(t),C$(t,o,a)}function m3(t,o,a){if(a&&typeof a!="boolean"&&Nt(t,o,a)&&(o=a=r),a===r&&(typeof o=="boolean"?(a=o,o=r):typeof t=="boolean"&&(a=t,t=r)),t===r&&o===r?(t=0,o=1):(t=Mn(t),o===r?(o=t,t=0):o=Mn(o)),t>o){var f=t;t=o,o=f}if(a||t%1||o%1){var b=qh();return bt(t+b*(o-t+Z2("1e-"+((b+"").length-1))),o)}return Jc(t,o)}var w3=so(function(t,o,a){return o=o.toLowerCase(),t+(a?Ng(o):o)});function Ng(t){return Nl(Ae(t).toLowerCase())}function Sg(t){return t=Ae(t),t&&t.replace(y2,cC).replace(B2,"")}function b3(t,o,a){t=Ae(t),o=Bt(o);var f=t.length;a=a===r?f:xr(ve(a),0,f);var b=a;return a-=o.length,a>=0&&t.slice(a,b)==o}function y3(t){return t=Ae(t),t&&ct.test(t)?t.replace(wt,lC):t}function x3(t){return t=Ae(t),t&&os.test(t)?t.replace(jn,"\\$&"):t}var C3=so(function(t,o,a){return t+(a?"-":"")+o.toLowerCase()}),$3=so(function(t,o,a){return t+(a?" ":"")+o.toLowerCase()}),E3=Pp("toLowerCase");function N3(t,o,a){t=Ae(t),o=ve(o);var f=o?Qr(t):0;if(!o||f>=o)return t;var b=(o-f)/2;return ks(xs(b),a)+t+ks(ys(b),a)}function S3(t,o,a){t=Ae(t),o=ve(o);var f=o?Qr(t):0;return o&&f<o?t+ks(o-f,a):t}function D3(t,o,a){t=Ae(t),o=ve(o);var f=o?Qr(t):0;return o&&f<o?ks(o-f,a)+t:t}function _3(t,o,a){return a||o==null?o=0:o&&(o=+o),MC(Ae(t).replace(Zr,""),o||0)}function P3(t,o,a){return(a?Nt(t,o,a):o===r)?o=1:o=ve(o),Qc(Ae(t),o)}function O3(){var t=arguments,o=Ae(t[0]);return t.length<3?o:o.replace(t[1],t[2])}var A3=so(function(t,o,a){return t+(a?"_":"")+o.toLowerCase()});function T3(t,o,a){return a&&typeof a!="number"&&Nt(t,o,a)&&(o=a=r),a=a===r?Q:a>>>0,a?(t=Ae(t),t&&(typeof o=="string"||o!=null&&!Cl(o))&&(o=Bt(o),!o&&Jr(t))?ir(ln(t),0,a):t.split(o,a)):[]}var I3=so(function(t,o,a){return t+(a?" ":"")+Nl(o)});function k3(t,o,a){return t=Ae(t),a=a==null?0:xr(ve(a),0,t.length),o=Bt(o),t.slice(a,a+o.length)==o}function M3(t,o,a){var f=N.templateSettings;a&&Nt(t,o,a)&&(o=r),t=Ae(t),o=Rs({},o,f,Lp);var b=Rs({},o.imports,f.imports,Lp),D=ft(b),O=Lc(b,D),I,W,H=0,V=o.interpolate||is,Y="__p += '",j=Wc((o.escape||is).source+"|"+V.source+"|"+(V===vr?p2:is).source+"|"+(o.evaluate||is).source+"|$","g"),ie="//# sourceURL="+(Te.call(o,"sourceURL")?(o.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++G2+"]")+`
`;t.replace(j,function(de,xe,Ee,zt,St,Ht){return Ee||(Ee=zt),Y+=t.slice(H,Ht).replace(x2,uC),xe&&(I=!0,Y+=`' +
__e(`+xe+`) +
'`),St&&(W=!0,Y+=`';
`+St+`;
__p += '`),Ee&&(Y+=`' +
((__t = (`+Ee+`)) == null ? '' : __t) +
'`),H=Ht+de.length,de}),Y+=`';
`;var ue=Te.call(o,"variable")&&o.variable;if(!ue)Y=`with (obj) {
`+Y+`
}
`;else if(f2.test(ue))throw new he(u);Y=(W?Y.replace(De,""):Y).replace(Me,"$1").replace(We,"$1;"),Y="function("+(ue||"obj")+`) {
`+(ue?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(I?", __e = _.escape":"")+(W?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+Y+`return __p
}`;var me=_g(function(){return Oe(D,ie+"return "+Y).apply(r,O)});if(me.source=Y,xl(me))throw me;return me}function L3(t){return Ae(t).toLowerCase()}function F3(t){return Ae(t).toUpperCase()}function W3(t,o,a){if(t=Ae(t),t&&(a||o===r))return Fh(t);if(!t||!(o=Bt(o)))return t;var f=ln(t),b=ln(o),D=Wh(f,b),O=Bh(f,b)+1;return ir(f,D,O).join("")}function B3(t,o,a){if(t=Ae(t),t&&(a||o===r))return t.slice(0,zh(t)+1);if(!t||!(o=Bt(o)))return t;var f=ln(t),b=Bh(f,ln(o))+1;return ir(f,0,b).join("")}function U3(t,o,a){if(t=Ae(t),t&&(a||o===r))return t.replace(Zr,"");if(!t||!(o=Bt(o)))return t;var f=ln(t),b=Wh(f,ln(o));return ir(f,b).join("")}function z3(t,o){var a=R,f=X;if(qe(o)){var b="separator"in o?o.separator:b;a="length"in o?ve(o.length):a,f="omission"in o?Bt(o.omission):f}t=Ae(t);var D=t.length;if(Jr(t)){var O=ln(t);D=O.length}if(a>=D)return t;var I=a-Qr(f);if(I<1)return f;var W=O?ir(O,0,I).join(""):t.slice(0,I);if(b===r)return W+f;if(O&&(I+=W.length-I),Cl(b)){if(t.slice(I).search(b)){var H,V=W;for(b.global||(b=Wc(b.source,Ae(ih.exec(b))+"g")),b.lastIndex=0;H=b.exec(V);)var Y=H.index;W=W.slice(0,Y===r?I:Y)}}else if(t.indexOf(Bt(b),I)!=I){var j=W.lastIndexOf(b);j>-1&&(W=W.slice(0,j))}return W+f}function H3(t){return t=Ae(t),t&&$t.test(t)?t.replace(dt,mC):t}var V3=so(function(t,o,a){return t+(a?" ":"")+o.toUpperCase()}),Nl=Pp("toUpperCase");function Dg(t,o,a){return t=Ae(t),o=a?r:o,o===r?fC(t)?yC(t):rC(t):t.match(o)||[]}var _g=be(function(t,o){try{return Ft(t,r,o)}catch(a){return xl(a)?a:new he(a)}}),G3=Tn(function(t,o){return jt(o,function(a){a=yn(a),On(t,a,bl(t[a],t))}),t});function K3(t){var o=t==null?0:t.length,a=le();return t=o?Ke(t,function(f){if(typeof f[1]!="function")throw new Jt(l);return[a(f[0]),f[1]]}):[],be(function(f){for(var b=-1;++b<o;){var D=t[b];if(Ft(D[0],this,f))return Ft(D[1],this,f)}})}function R3(t){return m$(en(t,v))}function Sl(t){return function(){return t}}function Y3(t,o){return t==null||t!==t?o:t}var q3=Ap(),Z3=Ap(!0);function Tt(t){return t}function Dl(t){return ap(typeof t=="function"?t:en(t,v))}function X3(t){return lp(en(t,v))}function j3(t,o){return up(t,en(o,v))}var J3=be(function(t,o){return function(a){return ni(a,t,o)}}),Q3=be(function(t,o){return function(a){return ni(t,a,o)}});function _l(t,o,a){var f=ft(o),b=Ds(o,f);a==null&&!(qe(o)&&(b.length||!f.length))&&(a=o,o=t,t=this,b=Ds(o,ft(o)));var D=!(qe(a)&&"chain"in a)||!!a.chain,O=kn(t);return jt(b,function(I){var W=o[I];t[I]=W,O&&(t.prototype[I]=function(){var H=this.__chain__;if(D||H){var V=t(this.__wrapped__),Y=V.__actions__=Pt(this.__actions__);return Y.push({func:W,args:arguments,thisArg:t}),V.__chain__=H,V}return W.apply(t,Qn([this.value()],arguments))})}),t}function eS(){return gt._===this&&(gt._=SC),this}function Pl(){}function tS(t){return t=ve(t),be(function(o){return dp(o,t)})}var nS=sl(Ke),rS=sl(Th),oS=sl(Ac);function Pg(t){return hl(t)?Tc(yn(t)):k$(t)}function iS(t){return function(o){return t==null?r:Cr(t,o)}}var sS=Ip(),aS=Ip(!0);function Ol(){return[]}function Al(){return!1}function cS(){return{}}function lS(){return""}function uS(){return!0}function dS(t,o){if(t=ve(t),t<1||t>fe)return[];var a=Q,f=bt(t,Q);o=le(o),t-=Q;for(var b=Mc(f,o);++a<t;)o(a);return b}function fS(t){return pe(t)?Ke(t,yn):Ut(t)?[t]:Pt(Zp(Ae(t)))}function hS(t){var o=++EC;return Ae(t)+o}var pS=Is(function(t,o){return t+o},0),gS=al("ceil"),vS=Is(function(t,o){return t/o},1),mS=al("floor");function wS(t){return t&&t.length?Ss(t,Tt,Rc):r}function bS(t,o){return t&&t.length?Ss(t,le(o,2),Rc):r}function yS(t){return Mh(t,Tt)}function xS(t,o){return Mh(t,le(o,2))}function CS(t){return t&&t.length?Ss(t,Tt,Xc):r}function $S(t,o){return t&&t.length?Ss(t,le(o,2),Xc):r}var ES=Is(function(t,o){return t*o},1),NS=al("round"),SS=Is(function(t,o){return t-o},0);function DS(t){return t&&t.length?kc(t,Tt):0}function _S(t,o){return t&&t.length?kc(t,le(o,2)):0}return N.after=X5,N.ary=sg,N.assign=FN,N.assignIn=yg,N.assignInWith=Rs,N.assignWith=WN,N.at=BN,N.before=ag,N.bind=bl,N.bindAll=G3,N.bindKey=cg,N.castArray=cN,N.chain=rg,N.chunk=mE,N.compact=wE,N.concat=bE,N.cond=K3,N.conforms=R3,N.constant=Sl,N.countBy=D5,N.create=UN,N.curry=lg,N.curryRight=ug,N.debounce=dg,N.defaults=zN,N.defaultsDeep=HN,N.defer=j5,N.delay=J5,N.difference=yE,N.differenceBy=xE,N.differenceWith=CE,N.drop=$E,N.dropRight=EE,N.dropRightWhile=NE,N.dropWhile=SE,N.fill=DE,N.filter=P5,N.flatMap=T5,N.flatMapDeep=I5,N.flatMapDepth=k5,N.flatten=Qp,N.flattenDeep=_E,N.flattenDepth=PE,N.flip=Q5,N.flow=q3,N.flowRight=Z3,N.fromPairs=OE,N.functions=ZN,N.functionsIn=XN,N.groupBy=M5,N.initial=TE,N.intersection=IE,N.intersectionBy=kE,N.intersectionWith=ME,N.invert=JN,N.invertBy=QN,N.invokeMap=F5,N.iteratee=Dl,N.keyBy=W5,N.keys=ft,N.keysIn=At,N.map=Us,N.mapKeys=t3,N.mapValues=n3,N.matches=X3,N.matchesProperty=j3,N.memoize=Hs,N.merge=r3,N.mergeWith=xg,N.method=J3,N.methodOf=Q3,N.mixin=_l,N.negate=Vs,N.nthArg=tS,N.omit=o3,N.omitBy=i3,N.once=eN,N.orderBy=B5,N.over=nS,N.overArgs=tN,N.overEvery=rS,N.overSome=oS,N.partial=yl,N.partialRight=fg,N.partition=U5,N.pick=s3,N.pickBy=Cg,N.property=Pg,N.propertyOf=iS,N.pull=BE,N.pullAll=tg,N.pullAllBy=UE,N.pullAllWith=zE,N.pullAt=HE,N.range=sS,N.rangeRight=aS,N.rearg=nN,N.reject=V5,N.remove=VE,N.rest=rN,N.reverse=ml,N.sampleSize=K5,N.set=c3,N.setWith=l3,N.shuffle=R5,N.slice=GE,N.sortBy=Z5,N.sortedUniq=jE,N.sortedUniqBy=JE,N.split=T3,N.spread=oN,N.tail=QE,N.take=e5,N.takeRight=t5,N.takeRightWhile=n5,N.takeWhile=r5,N.tap=w5,N.throttle=iN,N.thru=Bs,N.toArray=mg,N.toPairs=$g,N.toPairsIn=Eg,N.toPath=fS,N.toPlainObject=bg,N.transform=u3,N.unary=sN,N.union=o5,N.unionBy=i5,N.unionWith=s5,N.uniq=a5,N.uniqBy=c5,N.uniqWith=l5,N.unset=d3,N.unzip=wl,N.unzipWith=ng,N.update=f3,N.updateWith=h3,N.values=lo,N.valuesIn=p3,N.without=u5,N.words=Dg,N.wrap=aN,N.xor=d5,N.xorBy=f5,N.xorWith=h5,N.zip=p5,N.zipObject=g5,N.zipObjectDeep=v5,N.zipWith=m5,N.entries=$g,N.entriesIn=Eg,N.extend=yg,N.extendWith=Rs,_l(N,N),N.add=pS,N.attempt=_g,N.camelCase=w3,N.capitalize=Ng,N.ceil=gS,N.clamp=g3,N.clone=lN,N.cloneDeep=dN,N.cloneDeepWith=fN,N.cloneWith=uN,N.conformsTo=hN,N.deburr=Sg,N.defaultTo=Y3,N.divide=vS,N.endsWith=b3,N.eq=dn,N.escape=y3,N.escapeRegExp=x3,N.every=_5,N.find=O5,N.findIndex=jp,N.findKey=VN,N.findLast=A5,N.findLastIndex=Jp,N.findLastKey=GN,N.floor=mS,N.forEach=og,N.forEachRight=ig,N.forIn=KN,N.forInRight=RN,N.forOwn=YN,N.forOwnRight=qN,N.get=$l,N.gt=pN,N.gte=gN,N.has=jN,N.hasIn=El,N.head=eg,N.identity=Tt,N.includes=L5,N.indexOf=AE,N.inRange=v3,N.invoke=e3,N.isArguments=Nr,N.isArray=pe,N.isArrayBuffer=vN,N.isArrayLike=Ot,N.isArrayLikeObject=Qe,N.isBoolean=mN,N.isBuffer=sr,N.isDate=wN,N.isElement=bN,N.isEmpty=yN,N.isEqual=xN,N.isEqualWith=CN,N.isError=xl,N.isFinite=$N,N.isFunction=kn,N.isInteger=hg,N.isLength=Gs,N.isMap=pg,N.isMatch=EN,N.isMatchWith=NN,N.isNaN=SN,N.isNative=DN,N.isNil=PN,N.isNull=_N,N.isNumber=gg,N.isObject=qe,N.isObjectLike=Xe,N.isPlainObject=ci,N.isRegExp=Cl,N.isSafeInteger=ON,N.isSet=vg,N.isString=Ks,N.isSymbol=Ut,N.isTypedArray=co,N.isUndefined=AN,N.isWeakMap=TN,N.isWeakSet=IN,N.join=LE,N.kebabCase=C3,N.last=nn,N.lastIndexOf=FE,N.lowerCase=$3,N.lowerFirst=E3,N.lt=kN,N.lte=MN,N.max=wS,N.maxBy=bS,N.mean=yS,N.meanBy=xS,N.min=CS,N.minBy=$S,N.stubArray=Ol,N.stubFalse=Al,N.stubObject=cS,N.stubString=lS,N.stubTrue=uS,N.multiply=ES,N.nth=WE,N.noConflict=eS,N.noop=Pl,N.now=zs,N.pad=N3,N.padEnd=S3,N.padStart=D3,N.parseInt=_3,N.random=m3,N.reduce=z5,N.reduceRight=H5,N.repeat=P3,N.replace=O3,N.result=a3,N.round=NS,N.runInContext=L,N.sample=G5,N.size=Y5,N.snakeCase=A3,N.some=q5,N.sortedIndex=KE,N.sortedIndexBy=RE,N.sortedIndexOf=YE,N.sortedLastIndex=qE,N.sortedLastIndexBy=ZE,N.sortedLastIndexOf=XE,N.startCase=I3,N.startsWith=k3,N.subtract=SS,N.sum=DS,N.sumBy=_S,N.template=M3,N.times=dS,N.toFinite=Mn,N.toInteger=ve,N.toLength=wg,N.toLower=L3,N.toNumber=rn,N.toSafeInteger=LN,N.toString=Ae,N.toUpper=F3,N.trim=W3,N.trimEnd=B3,N.trimStart=U3,N.truncate=z3,N.unescape=H3,N.uniqueId=hS,N.upperCase=V3,N.upperFirst=Nl,N.each=og,N.eachRight=ig,N.first=eg,_l(N,function(){var t={};return wn(N,function(o,a){Te.call(N.prototype,a)||(t[a]=o)}),t}(),{chain:!1}),N.VERSION=i,jt(["bind","bindKey","curry","curryRight","partial","partialRight"],function(t){N[t].placeholder=N}),jt(["drop","take"],function(t,o){$e.prototype[t]=function(a){a=a===r?1:ut(ve(a),0);var f=this.__filtered__&&!o?new $e(this):this.clone();return f.__filtered__?f.__takeCount__=bt(a,f.__takeCount__):f.__views__.push({size:bt(a,Q),type:t+(f.__dir__<0?"Right":"")}),f},$e.prototype[t+"Right"]=function(a){return this.reverse()[t](a).reverse()}}),jt(["filter","map","takeWhile"],function(t,o){var a=o+1,f=a==q||a==ne;$e.prototype[t]=function(b){var D=this.clone();return D.__iteratees__.push({iteratee:le(b,3),type:a}),D.__filtered__=D.__filtered__||f,D}}),jt(["head","last"],function(t,o){var a="take"+(o?"Right":"");$e.prototype[t]=function(){return this[a](1).value()[0]}}),jt(["initial","tail"],function(t,o){var a="drop"+(o?"":"Right");$e.prototype[t]=function(){return this.__filtered__?new $e(this):this[a](1)}}),$e.prototype.compact=function(){return this.filter(Tt)},$e.prototype.find=function(t){return this.filter(t).head()},$e.prototype.findLast=function(t){return this.reverse().find(t)},$e.prototype.invokeMap=be(function(t,o){return typeof t=="function"?new $e(this):this.map(function(a){return ni(a,t,o)})}),$e.prototype.reject=function(t){return this.filter(Vs(le(t)))},$e.prototype.slice=function(t,o){t=ve(t);var a=this;return a.__filtered__&&(t>0||o<0)?new $e(a):(t<0?a=a.takeRight(-t):t&&(a=a.drop(t)),o!==r&&(o=ve(o),a=o<0?a.dropRight(-o):a.take(o-t)),a)},$e.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},$e.prototype.toArray=function(){return this.take(Q)},wn($e.prototype,function(t,o){var a=/^(?:filter|find|map|reject)|While$/.test(o),f=/^(?:head|last)$/.test(o),b=N[f?"take"+(o=="last"?"Right":""):o],D=f||/^find/.test(o);b&&(N.prototype[o]=function(){var O=this.__wrapped__,I=f?[1]:arguments,W=O instanceof $e,H=I[0],V=W||pe(O),Y=function(xe){var Ee=b.apply(N,Qn([xe],I));return f&&j?Ee[0]:Ee};V&&a&&typeof H=="function"&&H.length!=1&&(W=V=!1);var j=this.__chain__,ie=!!this.__actions__.length,ue=D&&!j,me=W&&!ie;if(!D&&V){O=me?O:new $e(this);var de=t.apply(O,I);return de.__actions__.push({func:Bs,args:[Y],thisArg:r}),new Qt(de,j)}return ue&&me?t.apply(this,I):(de=this.thru(Y),ue?f?de.value()[0]:de.value():de)})}),jt(["pop","push","shift","sort","splice","unshift"],function(t){var o=ds[t],a=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",f=/^(?:pop|shift)$/.test(t);N.prototype[t]=function(){var b=arguments;if(f&&!this.__chain__){var D=this.value();return o.apply(pe(D)?D:[],b)}return this[a](function(O){return o.apply(pe(O)?O:[],b)})}}),wn($e.prototype,function(t,o){var a=N[o];if(a){var f=a.name+"";Te.call(ro,f)||(ro[f]=[]),ro[f].push({name:o,func:a})}}),ro[Ts(r,$).name]=[{name:"wrapper",func:r}],$e.prototype.clone=HC,$e.prototype.reverse=VC,$e.prototype.value=GC,N.prototype.at=b5,N.prototype.chain=y5,N.prototype.commit=x5,N.prototype.next=C5,N.prototype.plant=E5,N.prototype.reverse=N5,N.prototype.toJSON=N.prototype.valueOf=N.prototype.value=S5,N.prototype.first=N.prototype.head,Zo&&(N.prototype[Zo]=$5),N},eo=xC();mr?((mr.exports=eo)._=eo,Dc._=eo):gt._=eo}).call(Co)}(Yi,Yi.exports);var Sy=Yi.exports;const qi=fd(Sy);function Rr(){const[e,n]=p.useState({width:void 0,height:void 0});return p.useEffect(()=>{function r(){n({width:window.innerWidth,height:window.innerHeight})}return window.addEventListener("resize",r),r(),()=>window.removeEventListener("resize",r)},[]),e}const lc=async(e,n)=>{const r=n.getRoute(),[i,...s]=r;localStorage.getItem("token");const c=n.getNodeData().options.map(U=>U.description),l=s.map((U,R)=>{const X=[i,...s.slice(0,R+1)];return n.context.getNode(X).getOptionContent().description}),[u,...d]=l.slice().reverse(),h="You are part of a group of workers building a tree of subtasks to describe a project, which may be big or small.  As such, you do not provide information that is not directly related to the subtask at hand because it will probably be provided by another worker",m=`PLEASE OUTPUT A SINGLE VALID JSON OBJECT INCLUDING: (1) THE key "description" WITH A DESCRIPTION OF THE NEW ALTERNATIVE TASK  (2) THE KEY "steps" WITH AN ARRAY OF STRINGS < 50 CHARS PER ENTRY REPRESENTING THE NEW TASK'S SUBTASKS.`,v=`Please create an alternative task to the following tasks which serves the same purpose within its larger context: ${JSON.stringify(c)}.  For context, these are options of a subtask of ${d.join(" subtask of the task ")}.  Please be specific, representing a true alternative, not just an abstraction or restatement of the task.  Stop and consider "why would someone be doing this?" and then come up with another way to achieve that goal.  If there are already multiple existing alternatives, feel free to get creative and think outside the box.  `,w=`${m} ${v} Please output only single json array containing only strings.`;console.log("PROMPT",w,h);const g=(await e(h,w).catch(U=>{throw console.log("error",U),new Error("error getting suggestions")})).choices.map(U=>U.message.content);console.log("messages",g);const x=g.map(U=>{const R=U.match(/.*(\{[^{}]*\}).*/m);if(!R||!R[1])throw new Error(`Could not parse response: ${U}`);return JSON.parse(R[1])}),$=x[0];if(console.log("alternative",$,x),x.length>1&&console.warn("More than one alternative found",x),!$.description)throw console.log("messages",g),new Error("No description found");if(!$.steps||$.steps.length===0)throw console.warn("No steps found for task",g),new Error("No steps found for task");const P=$.steps.map(U=>({description:`generated step for ${$.description}: ${U}`,selectedOption:0,collapsed:!1,options:[{description:U,data:{},content:[]}]}));console.log("suggestion1");const S=n.getNodeData(),_=[...S.options,{description:$.description,data:{},content:[]}],A={...S,selectedOption:_.length-1,collapsed:!1,options:_},k=n.setNodeData(A);console.log("inserted node",k.getNode(n.getRoute()).getNodeData(),n.getRoute());const T=k.getNode(n.getRoute());return[k.addChildrenToNode(T,P,A.selectedOption),null]},Dy=({node:e,updateNodes:n,rowDepth:r,handleTextEdit:i,handleChange:s,addYoungerSibling:c,moveLeft:l,moveRight:u,deleteRow:d,moveDown:h,moveUp:m,deleteOption:v,addOption:y,locked:w,toggleCollapse:E,dragOverInfo:g,dragging:x,dragItem:$,activeModule:P,options:S})=>{const _=e.context,A=e.getNodeData().options.map((Pe,Ct)=>({value:Ct.toString(),label:Pe.description})),k=e.getNodeData(),T=k.selectedOption;T===void 0&&console.log("selectedOption",k);const M=e.getChildren(T),U=e.getNodeId(),R=e.getNodeType(),X=!!(x&&x.node&&e.isChildOf(x.node)),Z=`${R}-${U}`,oe=x&&X?x.id:Z,{attributes:q,listeners:ee,setNodeRef:ne,transform:se}=Of({id:oe,data:{node:X?x.node:e}}),{setNodeRef:fe,isOver:G}=cc({id:oe,disabled:X||w,data:{node:e}}),J={transform:Di.Transform.toString(se),...x&&x.id!==`${$==null?void 0:$.id}`?{opacity:.9}:{}},Q=!!G&&(g==null?void 0:g.position)==="on";x==null||x.id,x&&x.id;const ce=G&&g&&g.id===Z?{...g.position==="above"?{paddingTop:"12px",transition:"padding-top 0.3s ease padding-bottom 0.3s ease transform 0.3s ease",transform:"translateY(12px)"}:{},...g.position==="below"?{transform:"translateY(-12px)",transition:"padding-top 0.3s ease padding-bottom 0.3s ease transform 0.3s ease",paddingBottom:"12px"}:{}}:{overflow:"hidden",backgroundColor:"transparent"},_e=qi.isEqual(_.data.focus.route,e.getRoute()),Se=_.data.focus.char,we=Pe=>{console.log("setFocus",Pe),Pe!==Se&&_.setFocus(e.getRoute(),Pe)},ke=()=>{e.moveFocusUp()},Re=()=>{e.moveFocusDown()},K=()=>{console.log("undo",S==null?void 0:S.canUndo),S!=null&&S.canUndo&&(S!=null&&S.undo)&&(S==null||S.undo())},st=()=>{console.log("redo",S==null?void 0:S.canRedo),S!=null&&S.canRedo&&(S!=null&&S.redo)&&(S==null||S.redo())},ge=async()=>{if(S!=null&&S.canPromptGPT&&(S!=null&&S.promptGPT)){const[Pe,Ct]=await lc(S.promptGPT,e);Pe?_.setNodes(Pe.data.nodes):S!=null&&S.toast&&S.toast({title:"Error",description:"No suggestions could be generated",duration:5e3})}else{console.error("No authedApi");const Pe=new Error("No authedApi");throw Pe.cause="unauthorized",Pe}},Ze=Rr();Ze.width&&Ze.width<500;const xt=Ze.width?Math.floor((Ze.width-500)/100):0,Ue=P==null?void 0:P.RowComponent;return C.jsxs("div",{className:`w-full border-t ${_e?"bg-white/5":""} max-w-svw border-box`,children:[C.jsx("div",{style:{...J},className:"flex w-full rounded-sm",ref:ne,...q,...ee,children:C.jsxs("div",{style:{...ce,width:"calc(100%)",paddingLeft:`${(xt-r)*1.5}rem`},ref:fe,className:"flex items-center cursor-text ",children:[r>0&&M.length>0&&C.jsx("div",{className:"right-box ",style:{width:"1.6rem"},children:C.jsx("div",{className:"pl-1",children:C.jsx("span",{onClick:E,className:"py-3 cursor-pointer",children:k.collapsed?C.jsx(Xl,{size:"15px"}):C.jsx(Zl,{size:"15px"})})})}),C.jsx("div",{className:"left-box",style:{width:"2rem"},children:C.jsx("span",{className:"px-1",children:C.jsx(_y,{node:e,hasChildren:M.length>0,context:_,updateNodes:n})})}),C.jsxs("div",{className:"flex flex-initial grow",children:[C.jsx("div",{className:"flex flex-initial grow",children:C.jsx(db,{className:"w-full bg-transparent",handleTextEdit:i,handleChange:s,addYoungerSibling:c,moveLeft:l,moveRight:u,deleteRow:d,addOption:y,moveFocusDown:Re,moveFocusUp:ke,toggleCollapse:E,deleteOption:v,suggestOption:ge,moveDown:h,moveUp:m,handleRedo:st,handleUndo:K,selectedIndex:T,values:A,locked:_.locked||w,setFocus:we,draggingOver:!!G,draggingOn:Q,isDragging:x?x.id===`${$==null?void 0:$.id}`:!1,hasFocus:_e,focusChar:Se,variant:"text-mimic",defaultValue:T.toString()})}),Ue&&C.jsx("div",{className:"right-box",children:C.jsx(Ue,{node:e,options:S})})]})]})}),C.jsx("div",{className:" ",children:!k.collapsed&&r>0&&M.length>0&&C.jsx(fc,{rows:M,rowDepth:r-1,context:_,dragging:x,dragOverInfo:g,parentNode:e,locked:_.locked||w,activeModule:P,options:S})})]})};function _y({node:e,hasChildren:n,context:r,updateNodes:i}){const[s,c]=p.useState(!1),l=()=>{u()},u=()=>{r.setTrail(e.getRoute())},d=()=>{const m=r.deleteNode(e.getRoute());i(m),c(!1)},h=()=>{const m=r.snipNode(e.getRoute());i(m),c(!1)};return C.jsxs(C.Fragment,{children:[C.jsx(Wu,{open:s,onOpenChange:c,children:C.jsxs(fa,{side:"left",children:[C.jsx(ha,{children:"Actions"}),C.jsx("div",{children:C.jsx("div",{className:"flex items-center px-3",children:C.jsxs("div",{className:"flex w-60 justify-around",children:[C.jsx(ye,{variant:"destructive",onClick:h,children:C.jsx(Il,{})}),C.jsx(ye,{variant:"destructive",onClick:d,children:C.jsx(tu,{})})]})})})]})}),C.jsx(ye,{variant:"secondary",style:{background:"transparent",padding:"10px 10px 10px 0px"},onKeyDown:m=>{m.stopPropagation(),c(!0)},onClick:l,children:C.jsx(Ml,{style:{opacity:n?1:.5}})})]})}const Py=Zs("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 pl-4 py-2 pr-3",sm:"h-9 rounded-md pl-3 pr-3",lg:"h-11 rounded-md pl-8 pr-3",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Zi=F.forwardRef(({className:e,variant:n,size:r,asChild:i=!1,...s},c)=>{const l=i?Fn:"button";return C.jsx(l,{className:Le(Py({variant:n,size:r,className:e})),ref:c,...s})});Zi.displayName="StepButton";function Oy({values:e,searchMessage:n="Search...",selectMessage:r="Select...",emptyMessage:i="No results",selectedIndex:s,isDragging:c,handleChange:l,moveLeft:u,moveRight:d,moveUp:h,moveDown:m,moveFocusUp:v,moveFocusDown:y,toggleCollapse:w,variant:E="default",hasFocus:g,setFocus:x,added:$,removed:P,...S}){const[_,A]=F.useState(!1),[k,T]=F.useState(s.toString()||"0");F.useEffect(()=>{if(s!==void 0){if(e.length<1)throw new Error("values.length < 1");T(s.toString()||"0")}},[s]);const M={default:"w-[200px] justify-between","text-mimic":"w-full justify-between text-left display-flex"}[E],U={default:{},"text-mimic":{width:"50vw",fontSize:"1rem",fontWeight:"normal",paddingRight:"5px"}}[E];return F.useEffect(()=>{console.log("hasFocus",g)},[g]),C.jsxs(Vi,{open:_,onOpenChange:A,children:[C.jsx(Gi,{asChild:!0,children:C.jsxs("div",{style:{position:"relative",opacity:1},children:[C.jsx(Zi,{variant:"outline",role:"combobox",size:"lg","aria-expanded":_,className:`${M} text-right px-2  ${$?"ring-emerald-900":P?"ring-destructive-900":"border-white"}`,style:{...U},...S,children:C.jsx("div",{className:"w-full justify-end items-end flex p-0",children:C.jsx(li,{className:`h-4 ${e.length>1?"text-teal-100/80":"opacity-80 fill-white"}`,style:{padding:"0px 0px 0px 0px"}})})}),C.jsx("div",{style:{zIndex:"3",position:"absolute",top:"0px",left:"0px",width:"100%",height:"100%"},className:"rounded-sm",children:C.jsx("div",{className:"w-full px-3 py-2",children:e[parseInt(k)]||C.jsx("span",{className:"opacity-50",children:"New Option"})})})]})}),C.jsx(To,{className:"w-[200px] p-0",children:C.jsxs(So,{children:[C.jsx(Do,{children:i}),C.jsx(fr,{children:e.map((R,X)=>C.jsxs(_o,{value:X.toString(),onSelect:Z=>{T(Z===k?k:Z),l(Z),A(!1)},children:[R||C.jsx("span",{className:"opacity-50",children:"New Option"}),C.jsx(ui,{className:Le("ml-auto h-4 w-4",s===X?"opacity-100":"opacity-0")})]},X))})]})})]})}const uc=({parentNode:e,context:n,dragging:r,rowDepth:i,dragOverInfo:s,locked:c,activeModule:l,options:u})=>{const d=e.getMergeChildren();e.getMergedIndex();const h=d.map(({node:y},w)=>{const E=y.getNodeId();return{id:`${y.getNodeType()}-${E}`,data:{node:y}}}),m=y=>{n.setNodes(y.data.nodes)},v=Rr();return v.width!==void 0&&v.width<500,C.jsx("div",{children:d.length>0&&d.map(({node:y,added:w,removed:E},g)=>{const x=y.getNodeData(),$=M=>{console.log("handleChange",M);const U={...x,selectedOption:parseInt(M)},R=n.setNode(y,U);m(R)},P=()=>{const M=y.getNodeData(),U={...M,collapsed:!x.collapsed};console.log("collapseNodeData",M,x.collapsed,U),y.setNodeData(U)},S=()=>{console.log("moveLeft",g),n.moveNodeLeft(y.getRoute())},_=()=>{console.log("moveRight",g),n.moveNodeRight(y.getRoute())},A=()=>{console.log("moveUp",g)},k=()=>{console.log("moveDown",g)},T=h[g];if(T===void 0)throw new Error("item is undefined");return C.jsx("div",{className:`HERE-${g}`,children:C.jsx(Af,{node:y,dragItem:T,updateNodes:m,dragging:r,dragOverInfo:s,locked:c,moveLeft:S,moveRight:_,moveUp:A,moveDown:k,toggleCollapse:P,handleChange:$,rowDepth:i,added:w,removed:E,options:u})},g)})})},Af=({node:e,updateNodes:n,rowDepth:r,handleChange:i,moveLeft:s,moveRight:c,moveDown:l,moveUp:u,locked:d,toggleCollapse:h,dragOverInfo:m,dragging:v,dragItem:y,added:w,removed:E,options:g})=>{const x=e.context,$=e.getNodeData(),P=$.selectedOption;P===void 0&&console.log("selectedOption",$);const S=e.getChildren(P),_=e.getNodeId(),A=e.getNodeType(),k=!!(v&&v.node&&e.isChildOf(v.node)),T=`${A}-${_}`,M=v&&k?v.id:T,{attributes:U,listeners:R,setNodeRef:X,transform:Z}=Of({id:M,data:{node:k?v.node:e}}),{setNodeRef:oe,isOver:q}=cc({id:M,disabled:k||d,data:{node:e}}),ee={transform:Di.Transform.toString(Z),...v&&v.id!==`${y==null?void 0:y.id}`?{opacity:.9}:{}};q&&(m==null||m.position),v==null||v.id,v&&v.id;const se=q&&m&&m.id===T?{...m.position==="above"?{paddingTop:"12px",transition:"padding-top 0.3s ease padding-bottom 0.3s ease transform 0.3s ease",transform:"translateY(12px)"}:{},...m.position==="below"?{transform:"translateY(-12px)",transition:"padding-top 0.3s ease padding-bottom 0.3s ease transform 0.3s ease",paddingBottom:"12px"}:{}}:{overflow:"hidden",backgroundColor:"transparent"},fe=qi.isEqual(x.data.focus.route,e.getRoute()),G=x.data.focus.char,J=K=>{K!==G&&x.setFocus(e.getRoute(),K)},Q=()=>{e.moveFocusUp()},te=()=>{e.moveFocusDown()},ce=Rr(),_e=ce.width&&ce.width<500,Se=()=>{const K=e.acceptMerge();n(K)},we=()=>{const K=e.rejectMerge();n(K)},ke=()=>{const K=e.bothMerge();n(K)},Re=e.hasMerge()?e.getMergeOptions().map((K,st)=>C.jsx(C.Fragment,{children:K.description.map((ge,Ze)=>C.jsx("span",{className:`${ge.added?"bg-emerald-950/90":ge.removed?"text-destructive bg-destructive-950/90":""}`,children:ge.value},Ze))}),[]):e.getNodeData().options.map((K,st)=>C.jsx("span",{children:K.description},st));return C.jsxs("div",{className:"w-full",children:[C.jsx("div",{style:{...ee},className:"flex w-full rounded-sm",ref:X,...U,...R,children:C.jsxs("div",{style:se,ref:oe,className:"flex items-center h-16 w-full",children:[C.jsx("div",{className:"flex-none w-25 flex",children:C.jsxs("div",{className:`flex ${_e?"w-25":"w-100"} pl-3`,children:[r>0&&S.length>0?C.jsx("span",{onClick:h,className:"px-3 py-3",children:$.collapsed?C.jsx(Xl,{size:"15px"}):C.jsx(Zl,{size:"15px"})}):_e?C.jsx(C.Fragment,{}):C.jsx("span",{className:"px-3",children:"    "}),C.jsx("span",{className:"px-1",children:C.jsx(Ay,{node:e,hasChildren:S.length>0,context:x,updateNodes:n})}),C.jsx("span",{className:"pr-1 py-3",style:{opacity:(v==null?void 0:v.id)===`${y==null?void 0:y.id}`?"1":"0"},children:C.jsx(Wg,{})})]})}),C.jsx("div",{className:"flex flex-initial w-full",children:C.jsxs("div",{className:"flex",style:{width:"60vw"},children:[C.jsx(Oy,{className:"w-full bg-transparent",handleChange:i,moveLeft:s,moveRight:c,moveFocusDown:te,moveFocusUp:Q,toggleCollapse:h,moveDown:l,moveUp:u,added:w,removed:E,selectedIndex:P,values:Re,setFocus:J,isDragging:v?v.id===`${y==null?void 0:y.id}`:!1,hasFocus:fe,variant:"text-mimic",defaultValue:P.toString()}),C.jsxs("div",{style:{minWidth:"80px"},className:"flex items-center justify-end",children:[C.jsxs(ye,{className:"bg-amber-200/70 p-1 h-7 ",onClick:ke,children:[C.jsx(Bv,{size:"1rem"})," "]}),C.jsxs(ye,{className:"bg-emerald-700 p-1 h-7",onClick:Se,children:[C.jsx(Iv,{size:"1rem"})," "]}),C.jsxs(ye,{variant:"destructive",className:"p-1 h-7",onClick:we,children:[C.jsx(Vv,{size:"1rem"})," "]})]})]})})]})}),C.jsx("div",{className:`${_e?"pl-2":"pl-8"}`,children:!$.collapsed&&r>0&&S.length>0&&C.jsx(uc,{rowDepth:r-1,context:x,dragging:v,dragOverInfo:m,parentNode:e,locked:!0,options:g})})]})};function Ay({node:e,hasChildren:n,context:r,updateNodes:i}){const[s,c]=p.useState(!1),l=()=>{u()},u=()=>{r.setTrail(e.getRoute())},d=()=>{const m=r.deleteNode(e.getRoute());i(m),c(!1)},h=()=>{const m=r.snipNode(e.getRoute());i(m),c(!1)};return C.jsxs(C.Fragment,{children:[C.jsx(Wu,{open:s,onOpenChange:c,children:C.jsxs(fa,{side:"left",children:[C.jsx(ha,{children:"Actions"}),C.jsx("div",{children:C.jsx("div",{className:"flex items-center px-3",children:C.jsxs("div",{className:"flex w-60 justify-around",children:[C.jsx(ye,{variant:"destructive",onClick:h,children:C.jsx(Il,{})}),C.jsx(ye,{variant:"destructive",onClick:d,children:C.jsx(tu,{})})]})})})]})}),C.jsx(ye,{variant:"secondary",style:{background:"transparent",padding:"10px 10px 10px 0px"},onKeyDown:m=>{m.stopPropagation(),c(!0)},onClick:l,children:C.jsx(Ml,{style:{opacity:n?1:.5}})})]})}const dc=async(e,n)=>{const r=n.getRoute(),[i,...s]=r;localStorage.getItem("token");const{description:c,content:l}=n.getOptionContent(),u=s.map((k,T)=>{const M=[i,...s.slice(0,T+1)];return n.context.getNode(M).getOptionContent().description}),[d,...h]=u.slice().reverse(),m="You are part of a group of workers building a tree of subtasks to describe a project, which may be big or small.  As such, you do not provide information that is not directly related to the subtask at hand because it will probably be provided by another worker",v="PLEASE OUTPUT SINGLE VALID JSON ARRAY OF STRINGS < 50 CHARS PER ENTRY.  ",y=`Please create 3-7 subtasks of the following task: ${d}.  For context, this is a subtask of ${h.join(" subtask of the task ")}.  Please do not provide subtasks which are likely included in other branches.  If necessary, group information into a single subtask`,E=`${v} ${y} Please output only single json array containing only strings.`;console.log("PROMPT",E,m);const x=(await e(m,E).catch(k=>{throw console.log("error",k),new Error("error getting suggestions")})).choices.map(k=>k.message.content);console.log("messages",x);const $=x.map(k=>{const T=k.match(/.*(\[[^\][]*\]).*/m);if(!T||!T[1])throw new Error(`Could not parse response: ${k}`);return JSON.parse(T[1])});if($.length===0)throw console.log("messages",x),new Error("No task sets found");$.length>1&&console.warn("More than one task set found",x);const S=$[0].map(k=>({description:`${c}: ${k}`,selectedOption:0,collapsed:!1,options:[{description:k,data:{},content:[]}]}));console.log("suggestion1");const _=n.getNodeData();if(l.length>0){console.log("suggestion1");const k=n.context.addOptionToNode(n.getRoute(),{description:c,data:{},content:[]}),T=_.options.length,M=k.getNode(n.getRoute()),U=M.getNodeData();M.setNodeData({...U,selectedOption:T})}return[n.context.addChildrenToNode(n,S),null]},Wo=async(e,n,{pattern:r,parsePattern:i,systemPromptBase:s,getUserPromptBase:c,systemPromptRecursive:l,getUserPromptRecursive:u,getResourceInfo:d,setResourceInfo:h,checkResourceInfo:m})=>{const v=n.getRoute(),[y,...w]=v;console.log("starting to suggest",n.getRoute(),n.context);const E=w.map(($,P)=>{const S=[y,...w.slice(0,P+1)];return n.context.getNode(S).getOptionContent().description}),g=async($,P,S)=>{const _=$.getOptionContent(P),A=$.getChildren(P);if(console.log("getChildTimes",$.getRoute(),$.getData(),$.context),A.length===0){const k=m($);if(console.log("resourceInfo",k),k)return $.context;{let T=$.context;const M=s,U=c(_.description,S,$);if(console.log("systemPrompt",M,U),!M||!U)throw new Error("missing prompt");const Z=(await e(M,U).catch(q=>{throw console.log("error",q),new Error("error getting suggestions")})).choices.map(q=>{const ee=q.message.content.match(r);if(!ee||!ee[1])throw new Error(`Could not parse response: ${q.message.content}`);return JSON.parse(ee[1])})[0],oe=T.getNode($.getRoute());return T=h(oe,i(Z,oe)),T}}else{let k=$.context;for(const U of A){const X=U.getNodeData().options;let Z=0;for(const oe of X){const q=k.getNode(U.getRoute());k=await g(q,Z++,[...S,oe.description])}}const T=k.getNode($.getRoute()),M=m(T);if(console.log("resourceInfo",M),!M){const U=l,R=u(_.description,S,T);if(console.log("systemPrompt",U,R),!U||!R)throw new Error("missing prompt");const oe=(await e(U,R).catch(ee=>{throw console.log("error",ee),new Error("error getting suggestions")})).choices.map(ee=>{const ne=ee.message.content.match(r);if(!ne||!ne[1])throw new Error(`Could not parse response: ${ee.message.content}`);return JSON.parse(ne[1])})[0],q=k.getNode(T.getRoute());return k=h(k.getNode(q.getRoute()),i(oe,q)),k}return k}},x=await g(n,n.getNodeData().selectedOption,E);return console.log("contextWithTimes",x.data.nodes),x},Tf=e=>{const n=Math.floor(e/31536e6),r=e-n*(1e3*60*60*24*365),i=Math.floor(r/(1e3*60*60*24*30)),s=r-i*(1e3*60*60*24*30),c=Math.floor(s/(1e3*60*60*24*7)),l=s-c*(1e3*60*60*24*7),u=Math.floor(l/(1e3*60*60*24)),d=l-u*(1e3*60*60*24),h=Math.floor(d/(1e3*60*60)),m=d-h*(1e3*60*60),v=Math.floor(m/(1e3*60)),y=m-v*(1e3*60),w=Math.floor(y/1e3),g=y-w*1e3;return{years:n,months:i,weeks:c,days:u,hours:h,minutes:v,seconds:w,milliseconds:g}},If=e=>{try{const n=e.milliseconds||0,r=(e.seconds||0)*1e3,i=(e.minutes||0)*60*1e3,s=(e.hours||0)*60*60*1e3,c=(e.days||0)*24*60*60*1e3,l=(e.weeks||0)*7*24*60*60*1e3,u=(e.months||0)*30*24*60*60*1e3,d=(e.years||0)*365*24*60*60*1e3;return n+r+i+s+c+l+u+d}catch(n){throw console.error("Error converting duration to ms",e,n),n}},Xi=e=>{const{years:n,months:r,weeks:i,days:s,hours:c,minutes:l,seconds:u,milliseconds:d}=Tf(e),h=`${c}:`,m=l<10?`0${l}`:`${l}`,v=u<10?`0${u}`:`${u}`,y=n||r||i||s||c?`.${(d/1e3).toFixed(3).slice(2)}`:"";return`${n?`${n} yr, `:""}${r?`${r} mo, `:""}${i?`${i} wk, `:""}${s?`${s} days, `:""} ${h}${m}:${v}${y}`},Ty=({value:e,onUpdate:n,...r})=>{const i=p.useRef(null),[s,c]=p.useState(0),[l,u]=p.useState(0);p.useEffect(()=>{const _=()=>{if(i.current){const A=i.current.offsetWidth,k=60;c(Math.floor((A-50)/k)||1)}};return _(),window.addEventListener("resize",_),()=>{window.removeEventListener("resize",_)}},[]);const d=()=>{u(_=>Math.min(_+1,S.length-s))},h=()=>{u(_=>Math.max(_-1,0))},{years:m,months:v,weeks:y,days:w,hours:E,minutes:g,seconds:x,milliseconds:$}=Tf(e),P=_=>{const{name:A,value:k}=_.target,T={years:m,months:v,weeks:y,days:w,hours:E,minutes:g,seconds:x,milliseconds:$};T[A]=parseInt(k),n(If(T))},S=[{label:"Years",name:"years",value:m},{label:"Months",name:"months",value:v},{label:"Weeks",name:"weeks",value:y},{label:"Days",name:"days",value:w},{label:"Hours",name:"hours",value:E},{label:"Minutes",name:"minutes",value:g},{label:"Seconds",name:"seconds",value:x},{label:"Milliseconds",name:"milliseconds",value:$}];return C.jsx("div",{className:r.className||"",style:{...r.style||{}},children:C.jsxs("div",{className:"flex",children:[s<S.length-1&&C.jsx("button",{onClick:h,disabled:l===0,children:C.jsx(kv,{})}),C.jsx("div",{ref:i,style:{width:"calc(100% - 20px)"},children:S.slice(l,l+s).map(({label:_,name:A,value:k})=>C.jsx("div",{className:"w-16 text-xs mx-1 inline-block",children:C.jsxs("label",{className:"block",children:[_,":",C.jsx("input",{type:"number",name:A,className:"w-full text-lg",value:k,onChange:P})]})},A))}),s<S.length&&C.jsx("button",{onClick:d,disabled:l+s>=S.length,children:C.jsx(Mv,{})})]})})},Iy=({node:e,options:n})=>{const r=Yr(e),i=w=>{ji(e,w)},s=async()=>{e.setPath({[e.getNodeData().selectedOption]:r.minPaths})},c=async()=>{e.setPath({[e.getNodeData().selectedOption]:r.maxPaths})},l='Take a deep breath.  Please respond only with a single valid JSON object with the optional keys "milliseconds", "seconds", "minutes", "hours", "days", "weeks", "months", or "years" and a number value',u=(w,E,g)=>`How long does it take to ${w} in the as a subtask of ${E.join(" subtask of the task ")} please express in terms of milliseconds, seconds, minutes, hours, days, weeks, months, or years.`,d='Take a deep breath.  Please respond only with a single valid JSON object with the optional keys "milliseconds", "seconds", "minutes", "hours", "days", "weeks", "months", or "years" and a number value',h=(w,E,g)=>{const x=Yr(g);return`How long does it take to ${w} in the as a subtask of ${E.join(" subtask of the task ")} please express in terms of milliseconds, seconds, minutes, hours, days, weeks, months, or years., but factoring out the time of its subtasks, which are estimated to take somewhere between ${x.min} and ${x.max}, averaging ${x.average}. This will leave only the marginal time, which is the information we want.`},m=/.*(\{[^{}]*\}).*/m,v=(w,E)=>(console.log("parsePattern",w),{marginal:If(w)}),y=async()=>{if(n!=null&&n.canPromptGPT&&(n!=null&&n.promptGPT)){const w=await Wo(n.promptGPT,e,{systemPromptBase:l,getUserPromptBase:u,systemPromptRecursive:d,getUserPromptRecursive:h,pattern:m,parsePattern:v,getResourceInfo:Yr,setResourceInfo:ji,checkResourceInfo:ky});w?e.context.setNodes(w.data.nodes):n!=null&&n.toast&&n.toast({title:"Error",description:"No suggestions could be generated",duration:5e3})}else{console.error("No authedApi");const w=new Error("No authedApi");throw w.cause="unauthorized",w}};return C.jsxs("div",{className:"w-full text-center overflow-hidden",children:[C.jsxs("div",{className:"mx-auto items-center justify-center gap-1.5 flex items-center",children:[C.jsx(ye,{variant:"secondary",className:"bg-emerald-900 inline-block w-14",onClick:y,title:"Get estimated duration",children:C.jsx(xn,{})}),C.jsx(Ty,{value:r.marginal,onUpdate:w=>i({marginal:w}),className:"",style:{width:"calc(100% - 4rem)",maxWidth:"600px",display:"inline-block"}})]}),C.jsxs("div",{className:"flex flex-row justify-stretch items-center mx-auto",style:{maxWidth:"600px"},children:[C.jsxs("div",{className:"px-3 overflow-hidden w-1/2",children:[C.jsxs("div",{title:"Time of Currently Selected Path",children:[" Curr: ",Xi(r.current)," "]}),C.jsxs("div",{title:"Time of Average Path",children:[" Avg: ",Xi(r.average)," "]})]}),C.jsxs("div",{className:"px-3 overflow-hidden w-1/2",children:[C.jsxs(ye,{variant:"secondary",className:"bg-emerald-900 p-1",onClick:s,title:"Set min duration path",children:[" ",C.jsxs("div",{className:"w-full",children:["Min: ",Xi(r.min)," "]})]}),C.jsxs(ye,{variant:"secondary",className:"bg-emerald-900 p-1",onClick:c,title:"Set max duration path",children:[" ",C.jsxs("div",{className:"w-full",children:["Max: ",Xi(r.max)," "]})]})]})]})]})},Yr=(e,n)=>{var l,u;const r=e.parseIndex(n),i=e.getChildren(r),c=((u=(l=e.getOptionContent(r).data)==null?void 0:l.duration)==null?void 0:u.marginal)||0;if(i.length===0)return{min:c,max:c,average:c,current:c,minPaths:[],maxPaths:[],marginal:c};{let d=0,h=0,m=0,v=0;const y=[],w=[];return i.forEach((E,g)=>{const x=E.getNodeData(),$=x.options;let P=Number.MAX_SAFE_INTEGER,S=Number.MIN_SAFE_INTEGER,_=0,A=0;$.forEach((k,T)=>{const M=Yr(E,T);M.min<P&&(P=M.min,M.minPaths),M.max>S&&(S=M.max,M.maxPaths),_=(_*T+M.average)/(T+1),T===x.selectedOption&&(A=M.current)}),d+=P,h+=S,m+=_,v+=A}),{min:d+c,max:h+c,average:m+c,current:v+c,minPaths:y,maxPaths:w,marginal:c}}},ji=(e,n)=>{const r=e.getData();return e.setData({...r,duration:n})},ky=e=>!!e.getData().duration,My={icon:C.jsx(Hv,{}),name:"duration",HeadComponent:Iy},Ly=async(e,n)=>{const r=n.getRoute(),[i,...s]=r,c=s.map((d,h)=>{const m=[i,...s.slice(0,h+1)];return n.context.getNode(m).getOptionContent().description}),l=async(d,h,m,v)=>{const y=d.getOptionContent(h),w=d.getChildren(h);if(w.length===0){let E=d.context,g,x;return["duration"].forEach(async P=>{var S;if(!((S=y.data)!=null&&S[P])){switch(P){case"cost":g='Take a deep breath.  Please respond only with a single valid JSON object with the key "cost" and a number value',x=`How much does it cost to ${y.description} in the as a subtask of ${m.join(" subtask of the task ")}`;break;case"duration":g='Take a deep breath.  Please respond only with a single valid JSON object with the optional keys "milliseconds", "seconds", "minutes", "hours", "days", "weeks", "months", or "years" and a number value',x=`How long does it take to ${y.description} in the as a subtask of ${m.join(" subtask of the task ")} please express in terms of milliseconds, seconds, minutes, hours, days, weeks, months, or years.`;break}const k=(await e(g,x).catch(T=>{throw console.log("error",T),new Error("error getting suggestions")})).choices.map(T=>{const M=T.message.content.match(/.*(\{[^{}]*\}).*/m);if(!M||!M[1])throw new Error(`Could not parse response: ${T.message.content}`);return JSON.parse(M[1])})[0];switch(P){case"duration":E=ji(E.getNode(d.getRoute()),{marginal:kf(k)});break}}}),E}else{let E=d.context;if(["duration"].forEach(async x=>{var P;for(const S of w)S.getNodeData().options.forEach(async(k,T)=>{const M=E.getNode(S.getRoute());E=await l(M,T,[...m,k.description])});const $=E.getNode(d.getRoute());if(!((P=y.data)!=null&&P[x])){const S=Yr($);let _,A;switch(x){case"duration":_='Take a deep breath.  Please respond only with a single valid JSON object with the optional keys "milliseconds", "seconds", "minutes", "hours", "days", "weeks", "months", or "years" and a number value',A=`How long does it take to ${y.description} in the as a subtask of ${m.join(" subtask of the task ")} please express in terms of milliseconds, seconds, minutes, hours, days, weeks, months, or years., but factoring out the time of its subtasks, which are estimated to take somewhere between ${S.min} and ${S.max}, averaging ${S.average}. This will leave only the marginal time, which is the information we want.`;break;default:throw new Error(`Resource ${x} not recognized`)}const M=(await e(_,A).catch(U=>{throw console.log("error",U),new Error("error getting suggestions")})).choices.map(U=>{const R=U.message.content.match(/.*(\{[^{}]*\}).*/m);if(!R||!R[1])throw new Error(`Could not parse response: ${U.message.content}`);return JSON.parse(R[1])})[0];switch(x){case"duration":E=ji(E.getNode(d.getRoute()),{marginal:kf(M)});break}}}),Yr(E.getNode(d.getRoute())).average>30*60*1e3){const[x,$]=await dc(e,d);if(!x)throw new Error("error getting suggestions");const S=x.getNode(d.getRoute()).getNodeData().options.length;E=x;for(const _ of Array(S).keys()){const A=E.getNode(d.getRoute()),[k,T]=await lc(e,A);if(!k)throw new Error("error getting suggestions");E=k}E=await l(d,h,m)}return E}};return await l(n,n.getNodeData().selectedOption,c)},kf=e=>{const n=e.milliseconds||0,r=(e.seconds||0)*1e3,i=(e.minutes||0)*60*1e3,s=(e.hours||0)*60*60*1e3,c=(e.days||0)*24*60*60*1e3,l=(e.weeks||0)*7*24*60*60*1e3,u=(e.months||0)*30*24*60*60*1e3,d=(e.years||0)*365*24*60*60*1e3;return n+r+i+s+c+l+u+d},fc=({parentNode:e,rows:n,context:r,dragging:i,rowDepth:s,dragOverInfo:c,locked:l,activeModule:u,options:d})=>{const h=g=>{const x=r.addNewTaskToOption(e.getRoute(),g);r.setNodes(x.data.nodes)};p.useState(!1);const m=async()=>{if(d!=null&&d.canPromptGPT&&(d!=null&&d.promptGPT)){const[g,x]=await dc(d.promptGPT,e);g?r.setNodes(g.data.nodes):d!=null&&d.toast&&d.toast({title:"Error",description:"No suggestions could be generated",duration:5e3})}else{console.error("No authedApi");const g=new Error("No authedApi");throw g.cause="unauthorized",g}},v=async()=>{if(d!=null&&d.canPromptGPT&&(d!=null&&d.promptGPT)){const g=await Ly(d.promptGPT,e);g?r.setNodes(g.data.nodes):d!=null&&d.toast&&d.toast({title:"Error",description:"No suggestions could be generated",duration:5e3})}else{console.error("No authedApi");const g=new Error("No authedApi");throw g.cause="unauthorized",g}},y=n.map((g,x)=>{const $=g.getNodeId();return{id:`${g.getNodeType()}-${$}`,data:{node:g}}}),w=g=>{r.setNodes(g.data.nodes)},E=Rr();return E.width!==void 0&&E.width<500,C.jsxs("div",{children:[n.length>0&&n.map((g,x)=>{const $=()=>{console.log("moveLeft",x),r.moveNodeLeft(g.getRoute())},P=()=>{console.log("moveRight",x),r.moveNodeRight(g.getRoute())},S=()=>{console.log("deleteRow",x),g.deleteNode()},_=()=>{console.log("moveUp",x)},A=()=>{console.log("moveDown",x)},k=R=>{g.deleteOption(R)},T=R=>{console.log("handleAddOption",R);const X=r.addOptionToNode(g.getRoute(),void 0,R);w(X)},M=()=>{r.addYoungerSibling(g.getRoute())},U=y[x];if(U===void 0)throw new Error("item is undefined");return C.jsx("div",{className:`HERE-${x}`,children:C.jsx(Fy,{item:U,node:g,context:r,locked:l,rowDepth:s,addOption:T,addYoungerSibling:()=>M(),moveLeft:$,moveRight:P,deleteRow:S,updateNodes:w,moveDown:A,moveUp:_,deleteOption:k,dragging:i,dragOverInfo:c,index:x,activeModule:u,options:d})},x)}),e.getRoute().length-r.data.trail.length===0&&C.jsxs("div",{className:"py-3",children:[C.jsx(ye,{onClick:()=>h(),className:" bg-secondary text-white-900 hover:bg-secondary/80 h-9 ml-3",children:C.jsx(Xg,{height:"1.5rem",width:"1.5rem"})}),(d==null?void 0:d.promptGPT)&&C.jsx(ye,{className:"bg-emerald-900 h-9 ml-3 hover:brightness-150 hover:bg-emerald-900",disabled:!(d!=null&&d.canPromptGPT),onClick:m,title:"Get suggested steps",children:C.jsx(xn,{})}),(d==null?void 0:d.promptGPT)&&C.jsx(ye,{className:"bg-emerald-900 h-9 ml-3 hover:brightness-150 hover:bg-emerald-900",disabled:!(d!=null&&d.canPromptGPT),onClick:v,title:"Get suggested steps",children:C.jsx(Hg,{height:"1.5rem",width:"1.5rem"})})]},"-1")]})},Fy=({item:e,context:n,dragging:r,dragOverInfo:i,index:s,updateNodes:c,rowDepth:l,addYoungerSibling:u,moveLeft:d,moveUp:h,moveDown:m,deleteOption:v,moveRight:y,deleteRow:w,addOption:E,locked:g,node:x,options:$,activeModule:P})=>{const S=x.getNodeData(),_=T=>{console.log("handleChange",T);const M={...S,selectedOption:parseInt(T)},U=n.setNode(x,M);c(U)},A=(T,M)=>{const U={...x.getOptionContent(),description:T},R=x.updateOptionData(U),Z=n.setNode(x,R).setFocus(x.getRoute(),M);c(Z)},k=()=>{const T=x.getNodeData(),M={...T,collapsed:!S.collapsed};console.log("collapseNodeData",T,S.collapsed,M),x.setNodeData(M)};return C.jsx("div",{className:"flex w-full",children:x.hasMerge()?C.jsx(Af,{node:x,dragItem:e,updateNodes:c,dragging:r,dragOverInfo:i,locked:g,handleChange:_,moveRight:y,moveLeft:d,rowDepth:l,toggleCollapse:k,moveDown:m,moveUp:h,options:$}):C.jsx(Dy,{node:x,dragItem:e,updateNodes:c,dragging:r,dragOverInfo:i,locked:g,handleChange:_,handleTextEdit:A,addYoungerSibling:u,addOption:E,moveRight:y,moveLeft:d,deleteRow:w,rowDepth:l,toggleCollapse:k,moveDown:m,moveUp:h,deleteOption:v,activeModule:P,options:$})})};var Ie=function(){return Ie=Object.assign||function(n){for(var r,i=1,s=arguments.length;i<s;i++){r=arguments[i];for(var c in r)Object.prototype.hasOwnProperty.call(r,c)&&(n[c]=r[c])}return n},Ie.apply(this,arguments)};function Wy(e,n){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&n.indexOf(i)<0&&(r[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(e);s<i.length;s++)n.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(e,i[s])&&(r[i[s]]=e[i[s]]);return r}function Mt(e,n,r){if(r||arguments.length===2)for(var i=0,s=n.length,c;i<s;i++)(c||!(i in n))&&(c||(c=Array.prototype.slice.call(n,0,i)),c[i]=n[i]);return e.concat(c||Array.prototype.slice.call(n))}typeof SuppressedError=="function"&&SuppressedError;var vn=function(e){return e.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&")},By={k:1e3,m:1e6,b:1e9},Uy=function(e,n){n===void 0&&(n=".");var r=new RegExp("(\\d+(".concat(vn(n),"\\d*)?)([kmb])$"),"i"),i=e.match(r);if(i){var s=i[1],c=i[3],l=By[c.toLowerCase()];return Number(s.replace(n,"."))*l}},zy=function(e,n){n===void 0&&(n=",");var r=new RegExp(vn(n),"g");return e.replace(r,"")},Hy=function(e,n){var r=vn(n.join("")),i=new RegExp("[^\\d".concat(r,"]"),"gi");return e.replace(i,"")},hc=function(e){var n=e.value,r=e.groupSeparator,i=r===void 0?",":r,s=e.decimalSeparator,c=s===void 0?".":s,l=e.allowDecimals,u=l===void 0?!0:l,d=e.decimalsLimit,h=d===void 0?2:d,m=e.allowNegativeValue,v=m===void 0?!0:m,y=e.disableAbbreviations,w=y===void 0?!1:y,E=e.prefix,g=E===void 0?"":E,x=e.transformRawValue,$=x===void 0?function(J){return J}:x,P=$(n);if(P==="-")return P;var S=w?[]:["k","m","b"],_=new RegExp("((^|\\D)-\\d)|(-".concat(vn(g),")")),A=_.test(P),k=RegExp("(\\d+)-?".concat(vn(g))).exec(n)||[],T=k[0],M=k[1],U=g?T?P.replace(T,"").concat(M):P.replace(g,""):P,R=zy(U,i),X=Hy(R,Mt([i,c],S,!0)),Z=X;if(!w){if(S.some(function(J){return J===X.toLowerCase().replace(c,"")}))return"";var oe=Uy(X,c);oe&&(Z=String(oe))}var q=A&&v?"-":"";if(c&&Z.includes(c)){var ee=X.split(c),ne=ee[0],se=ee[1],fe=h&&se?se.slice(0,h):se,G=u?"".concat(c).concat(fe):"";return"".concat(q).concat(ne).concat(G)}return"".concat(q).concat(Z)},Vy=function(e,n,r){if(r!==void 0&&e.length>1){if(r===0)return e.replace(n,"");if(e.includes(n)){var i=e.split(n),s=i[0],c=i[1];if(c.length===r)return e;if(c.length>r)return"".concat(s).concat(n).concat(c.slice(0,r))}var l=e.length>r?new RegExp("(\\d+)(\\d{".concat(r,"})")):new RegExp("(\\d)(\\d+)"),u=e.match(l);if(u){var s=u[1],c=u[2];return"".concat(s).concat(n).concat(c)}}return e},Mf=function(e,n){var r=n.groupSeparator,i=r===void 0?",":r,s=n.decimalSeparator,c=s===void 0?".":s,l=new RegExp("\\d([^".concat(vn(i)).concat(vn(c),"0-9]+)")),u=e.match(l);return u?u[1]:void 0},Bo=function(e){var n=e.value,r=e.decimalSeparator,i=e.intlConfig,s=e.decimalScale,c=e.prefix,l=c===void 0?"":c,u=e.suffix,d=u===void 0?"":u;if(n===""||n===void 0)return"";if(n==="-")return"-";var h=new RegExp("^\\d?-".concat(l?"".concat(vn(l),"?"):"","\\d")).test(n),m=r!=="."?Gy(n,r,h):n;r&&r!=="-"&&m.startsWith(r)&&(m="0"+m);var v={minimumFractionDigits:s||0,maximumFractionDigits:20},y=i?new Intl.NumberFormat(i.locale,i.currency?Ie(Ie({},v),{style:"currency",currency:i.currency}):v):new Intl.NumberFormat(void 0,v),w=y.formatToParts(Number(m)),E=Ky(w,e),g=Mf(E,Ie({},e)),x=n.slice(-1)===r?r:"",$=m.match(RegExp("\\d+\\.(\\d+)"))||[],P=$[1];return s===void 0&&P&&r&&(E.includes(r)?E=E.replace(RegExp("(\\d+)(".concat(vn(r),")(\\d+)"),"g"),"$1$2".concat(P)):g&&!d?E=E.replace(g,"".concat(r).concat(P).concat(g)):E="".concat(E).concat(r).concat(P)),d&&x?"".concat(E).concat(x).concat(d):g&&x?E.replace(g,"".concat(x).concat(g)):g&&d?E.replace(g,"".concat(x).concat(d)):[E,x,d].join("")},Gy=function(e,n,r){var i=e;return n&&n!=="."&&(i=i.replace(RegExp(vn(n),"g"),"."),r&&n==="-"&&(i="-".concat(i.slice(1)))),i},Ky=function(e,n){var r=n.prefix,i=n.groupSeparator,s=n.decimalSeparator,c=n.decimalScale,l=n.disableGroupSeparators,u=l===void 0?!1:l;return e.reduce(function(d,h,m){var v=h.type,y=h.value;return m===0&&r?v==="minusSign"?[y,r]:v==="currency"?Mt(Mt([],d,!0),[r],!1):[r,y]:v==="currency"?r?d:Mt(Mt([],d,!0),[y],!1):v==="group"?u?d:Mt(Mt([],d,!0),[i!==void 0?i:y],!1):v==="decimal"?c!==void 0&&c===0?d:Mt(Mt([],d,!0),[s!==void 0?s:y],!1):v==="fraction"?Mt(Mt([],d,!0),[c!==void 0?y.slice(0,c):y],!1):Mt(Mt([],d,!0),[y],!1)},[""]).join("")},Ry={currencySymbol:"",groupSeparator:"",decimalSeparator:"",prefix:"",suffix:""},Yy=function(e){var n=e||{},r=n.locale,i=n.currency,s=r?new Intl.NumberFormat(r,i?{currency:i,style:"currency"}:void 0):new Intl.NumberFormat;return s.formatToParts(1000.1).reduce(function(c,l,u){return l.type==="currency"?u===0?Ie(Ie({},c),{currencySymbol:l.value,prefix:l.value}):Ie(Ie({},c),{currencySymbol:l.value,suffix:l.value}):l.type==="group"?Ie(Ie({},c),{groupSeparator:l.value}):l.type==="decimal"?Ie(Ie({},c),{decimalSeparator:l.value}):c},Ry)},Lf=function(e){return RegExp(/\d/,"gi").test(e)},qy=function(e,n,r){if(n===void 0&&(n="."),r===void 0||e===""||e===void 0)return e;if(!e.match(/\d/g))return"";var i=e.split(n),s=i[0],c=i[1];if(r===0)return s;var l=c||"";if(l.length<r)for(;l.length<r;)l+="0";else l=l.slice(0,r);return"".concat(s).concat(n).concat(l)},Zy=function(e){var n=e.selectionStart,r=e.value,i=e.lastKeyStroke,s=e.stateValue,c=e.groupSeparator,l=n,u=r;if(s&&l){var d=r.split("");return i==="Backspace"&&s[l]===c&&(d.splice(l-1,1),l-=1),i==="Delete"&&s[l]===c&&(d.splice(l,1),l+=1),u=d.join(""),{modifiedValue:u,cursorPosition:l}}return{modifiedValue:u,cursorPosition:n}},pc=p.forwardRef(function(e,n){var r=e.allowDecimals,i=r===void 0?!0:r,s=e.allowNegativeValue,c=s===void 0?!0:s,l=e.id,u=e.name,d=e.className,h=e.customInput,m=e.decimalsLimit,v=e.defaultValue,y=e.disabled,w=y===void 0?!1:y,E=e.maxLength,g=e.value,x=e.onValueChange,$=e.fixedDecimalLength,P=e.placeholder,S=e.decimalScale,_=e.prefix,A=e.suffix,k=e.intlConfig,T=e.step,M=e.min,U=e.max,R=e.disableGroupSeparators,X=R===void 0?!1:R,Z=e.disableAbbreviations,oe=Z===void 0?!1:Z,q=e.decimalSeparator,ee=e.groupSeparator,ne=e.onChange,se=e.onFocus,fe=e.onBlur,G=e.onKeyDown,J=e.onKeyUp,Q=e.transformRawValue,te=e.formatValueOnBlur,ce=te===void 0?!0:te,_e=Wy(e,["allowDecimals","allowNegativeValue","id","name","className","customInput","decimalsLimit","defaultValue","disabled","maxLength","value","onValueChange","fixedDecimalLength","placeholder","decimalScale","prefix","suffix","intlConfig","step","min","max","disableGroupSeparators","disableAbbreviations","decimalSeparator","groupSeparator","onChange","onFocus","onBlur","onKeyDown","onKeyUp","transformRawValue","formatValueOnBlur"]);if(q&&Lf(q))throw new Error("decimalSeparator cannot be a number");if(ee&&Lf(ee))throw new Error("groupSeparator cannot be a number");var Se=p.useMemo(function(){return Yy(k)},[k]),we=q||Se.decimalSeparator||"",ke=ee||Se.groupSeparator||"";if(we&&ke&&we===ke&&X===!1)throw new Error("decimalSeparator cannot be the same as groupSeparator");var Re={decimalSeparator:we,groupSeparator:ke,disableGroupSeparators:X,intlConfig:k,prefix:_||Se.prefix,suffix:A},K={decimalSeparator:we,groupSeparator:ke,allowDecimals:i,decimalsLimit:m||$||2,allowNegativeValue:c,disableAbbreviations:oe,prefix:_||Se.prefix,transformRawValue:Q},st=p.useState(function(){return v!=null?Bo(Ie(Ie({},Re),{decimalScale:S,value:String(v)})):g!=null?Bo(Ie(Ie({},Re),{decimalScale:S,value:String(g)})):""}),ge=st[0],Ze=st[1],xt=p.useState(!1),Ue=xt[0],Pe=xt[1],Ct=p.useState(0),pt=Ct[0],sn=Ct[1],mn=p.useState(0),at=mn[0],Ye=mn[1],qt=p.useState(null),Dn=qt[0],Yo=qt[1],je=p.useRef(null);p.useImperativeHandle(n,function(){return je.current});var an=function(Ve,rt){Pe(!0);var Je=Zy({selectionStart:rt,value:Ve,lastKeyStroke:Dn,stateValue:ge,groupSeparator:ke}),De=Je.modifiedValue,Me=Je.cursorPosition,We=hc(Ie({value:De},K));if(!(E&&We.replace(/-/g,"").length>E)){if(We===""||We==="-"||We===we){x&&x(void 0,u,{float:null,formatted:"",value:""}),Ze(We),sn(1);return}var dt=we?We.replace(we,"."):We,wt=parseFloat(dt),$t=Bo(Ie({value:We},Re));if(Me!=null){var ct=Me+($t.length-Ve.length);ct=ct<=0?_?_.length:0:ct,sn(ct),Ye(at+1)}if(Ze($t),x){var Zt={float:wt,formatted:$t,value:We};x(We,u,Zt)}}},Lt=function(Ve){var rt=Ve.target,Je=rt.value,De=rt.selectionStart;an(Je,De),ne&&ne(Ve)},cn=function(Ve){return se&&se(Ve),ge?ge.length:0},_t=function(Ve){var rt=Ve.target.value,Je=hc(Ie({value:rt},K));if(Je==="-"||Je===we||!Je){Ze(""),fe&&fe(Ve);return}var De=Vy(Je,we,$),Me=qy(De,we,S!==void 0?S:$),We=parseFloat(Me.replace(we,".")),dt=Bo(Ie(Ie({},Re),{value:Me}));x&&ce&&x(Me,u,{float:We,formatted:dt,value:Me}),Ze(dt),fe&&fe(Ve)},Rn=function(Ve){var rt=Ve.key;if(Yo(rt),T&&(rt==="ArrowUp"||rt==="ArrowDown")){Ve.preventDefault(),sn(ge.length);var Je=parseFloat(g!=null?String(g).replace(we,"."):hc(Ie({value:ge},K)))||0,De=rt==="ArrowUp"?Je+T:Je-T;if(M!==void 0&&De<Number(M)||U!==void 0&&De>Number(U))return;var Me=String(T).includes(".")?Number(String(T).split(".")[1].length):void 0;an(String(Me?De.toFixed(Me):De).replace(".",we))}G&&G(Ve)},pr=function(Ve){var rt=Ve.key,Je=Ve.currentTarget.selectionStart;if(rt!=="ArrowUp"&&rt!=="ArrowDown"&&ge!=="-"){var De=Mf(ge,{groupSeparator:ke,decimalSeparator:we});if(De&&Je&&Je>ge.length-De.length&&je.current){var Me=ge.length-De.length;je.current.setSelectionRange(Me,Me)}}J&&J(Ve)};p.useEffect(function(){g==null&&v==null&&Ze("")},[v,g]),p.useEffect(function(){Ue&&ge!=="-"&&je.current&&document.activeElement===je.current&&je.current.setSelectionRange(pt,pt)},[ge,pt,je,Ue,at]);var Yn=function(){return g!=null&&ge!=="-"&&(!we||ge!==we)?Bo(Ie(Ie({},Re),{decimalScale:Ue?void 0:S,value:String(g)})):ge},qn=Ie({type:"text",inputMode:"decimal",id:l,name:u,className:d,onChange:Lt,onBlur:_t,onFocus:cn,onKeyDown:Rn,onKeyUp:pr,placeholder:P,disabled:w,value:Yn(),ref:je},_e);if(h){var Zn=h;return p.createElement(Zn,Ie({},qn))}return p.createElement("input",Ie({},qn))});pc.displayName="CurrencyInput";function Ff(e,[n,r]){return Math.min(r,Math.max(n,e))}const Xy=p.createContext(void 0);function jy(e){const n=p.useContext(Xy);return e||n||"ltr"}function Jy(e){const n=p.useRef({value:e,previous:e});return p.useMemo(()=>(n.current.value!==e&&(n.current.previous=n.current.value,n.current.value=e),n.current.previous),[e])}function Qy(e){const n=e+"CollectionProvider",[r,i]=ho(n),[s,c]=r(n,{collectionRef:{current:null},itemMap:new Map}),l=w=>{const{scope:E,children:g}=w,x=p.useRef(null),$=p.useRef(new Map).current;return p.createElement(s,{scope:E,itemMap:$,collectionRef:x},g)},u=e+"CollectionSlot",d=p.forwardRef((w,E)=>{const{scope:g,children:x}=w,$=c(u,g),P=it(E,$.collectionRef);return p.createElement(Fn,{ref:P},x)}),h=e+"CollectionItemSlot",m="data-radix-collection-item",v=p.forwardRef((w,E)=>{const{scope:g,children:x,...$}=w,P=p.useRef(null),S=it(E,P),_=c(h,g);return p.useEffect(()=>(_.itemMap.set(P,{ref:P,...$}),()=>void _.itemMap.delete(P))),p.createElement(Fn,{[m]:"",ref:S},x)});function y(w){const E=c(e+"CollectionConsumer",w);return p.useCallback(()=>{const x=E.collectionRef.current;if(!x)return[];const $=Array.from(x.querySelectorAll(`[${m}]`));return Array.from(E.itemMap.values()).sort((_,A)=>$.indexOf(_.ref.current)-$.indexOf(A.ref.current))},[E.collectionRef,E.itemMap])}return[{Provider:l,Slot:d,ItemSlot:v},y,i]}const Wf=["PageUp","PageDown"],Bf=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],Uf={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},Uo="Slider",[gc,ex,tx]=Qy(Uo),[zf,BS]=ho(Uo,[tx]),[nx,Ji]=zf(Uo),rx=p.forwardRef((e,n)=>{const{name:r,min:i=0,max:s=100,step:c=1,orientation:l="horizontal",disabled:u=!1,minStepsBetweenThumbs:d=0,defaultValue:h=[i],value:m,onValueChange:v=()=>{},onValueCommit:y=()=>{},inverted:w=!1,...E}=e,[g,x]=p.useState(null),$=it(n,q=>x(q)),P=p.useRef(new Set),S=p.useRef(0),_=l==="horizontal",A=g?!!g.closest("form"):!0,k=_?ox:ix,[T=[],M]=Qs({prop:m,defaultProp:h,onChange:q=>{var ee;(ee=[...P.current][S.current])===null||ee===void 0||ee.focus(),v(q)}}),U=p.useRef(T);function R(q){const ee=px(T,q);oe(q,ee)}function X(q){oe(q,S.current)}function Z(){const q=U.current[S.current];T[S.current]!==q&&y(T)}function oe(q,ee,{commit:ne}={commit:!1}){const se=wx(c),fe=bx(Math.round((q-i)/c)*c+i,se),G=Ff(fe,[i,s]);M((J=[])=>{const Q=fx(J,G,ee);if(mx(Q,d*c)){S.current=Q.indexOf(G);const te=String(Q)!==String(J);return te&&ne&&y(Q),te?Q:J}else return J})}return p.createElement(nx,{scope:e.__scopeSlider,disabled:u,min:i,max:s,valueIndexToChangeRef:S,thumbs:P.current,values:T,orientation:l},p.createElement(gc.Provider,{scope:e.__scopeSlider},p.createElement(gc.Slot,{scope:e.__scopeSlider},p.createElement(k,ae({"aria-disabled":u,"data-disabled":u?"":void 0},E,{ref:$,onPointerDown:nt(E.onPointerDown,()=>{u||(U.current=T)}),min:i,max:s,inverted:w,onSlideStart:u?void 0:R,onSlideMove:u?void 0:X,onSlideEnd:u?void 0:Z,onHomeKeyDown:()=>!u&&oe(i,0,{commit:!0}),onEndKeyDown:()=>!u&&oe(s,T.length-1,{commit:!0}),onStepKeyDown:({event:q,direction:ee})=>{if(!u){const fe=Wf.includes(q.key)||q.shiftKey&&Bf.includes(q.key)?10:1,G=S.current,J=T[G],Q=c*fe*ee;oe(J+Q,G,{commit:!0})}}})))),A&&T.map((q,ee)=>p.createElement(dx,{key:ee,name:r?r+(T.length>1?"[]":""):void 0,value:q})))}),[Hf,Vf]=zf(Uo,{startEdge:"left",endEdge:"right",size:"width",direction:1}),ox=p.forwardRef((e,n)=>{const{min:r,max:i,dir:s,inverted:c,onSlideStart:l,onSlideMove:u,onSlideEnd:d,onStepKeyDown:h,...m}=e,[v,y]=p.useState(null),w=it(n,S=>y(S)),E=p.useRef(),g=jy(s),x=g==="ltr",$=x&&!c||!x&&c;function P(S){const _=E.current||v.getBoundingClientRect(),A=[0,_.width],T=vc(A,$?[r,i]:[i,r]);return E.current=_,T(S-_.left)}return p.createElement(Hf,{scope:e.__scopeSlider,startEdge:$?"left":"right",endEdge:$?"right":"left",direction:$?1:-1,size:"width"},p.createElement(Gf,ae({dir:g,"data-orientation":"horizontal"},m,{ref:w,style:{...m.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:S=>{const _=P(S.clientX);l==null||l(_)},onSlideMove:S=>{const _=P(S.clientX);u==null||u(_)},onSlideEnd:()=>{E.current=void 0,d==null||d()},onStepKeyDown:S=>{const A=Uf[$?"from-left":"from-right"].includes(S.key);h==null||h({event:S,direction:A?-1:1})}})))}),ix=p.forwardRef((e,n)=>{const{min:r,max:i,inverted:s,onSlideStart:c,onSlideMove:l,onSlideEnd:u,onStepKeyDown:d,...h}=e,m=p.useRef(null),v=it(n,m),y=p.useRef(),w=!s;function E(g){const x=y.current||m.current.getBoundingClientRect(),$=[0,x.height],S=vc($,w?[i,r]:[r,i]);return y.current=x,S(g-x.top)}return p.createElement(Hf,{scope:e.__scopeSlider,startEdge:w?"bottom":"top",endEdge:w?"top":"bottom",size:"height",direction:w?1:-1},p.createElement(Gf,ae({"data-orientation":"vertical"},h,{ref:v,style:{...h.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:g=>{const x=E(g.clientY);c==null||c(x)},onSlideMove:g=>{const x=E(g.clientY);l==null||l(x)},onSlideEnd:()=>{y.current=void 0,u==null||u()},onStepKeyDown:g=>{const $=Uf[w?"from-bottom":"from-top"].includes(g.key);d==null||d({event:g,direction:$?-1:1})}})))}),Gf=p.forwardRef((e,n)=>{const{__scopeSlider:r,onSlideStart:i,onSlideMove:s,onSlideEnd:c,onHomeKeyDown:l,onEndKeyDown:u,onStepKeyDown:d,...h}=e,m=Ji(Uo,r);return p.createElement(ht.span,ae({},h,{ref:n,onKeyDown:nt(e.onKeyDown,v=>{v.key==="Home"?(l(v),v.preventDefault()):v.key==="End"?(u(v),v.preventDefault()):Wf.concat(Bf).includes(v.key)&&(d(v),v.preventDefault())}),onPointerDown:nt(e.onPointerDown,v=>{const y=v.target;y.setPointerCapture(v.pointerId),v.preventDefault(),m.thumbs.has(y)?y.focus():i(v)}),onPointerMove:nt(e.onPointerMove,v=>{v.target.hasPointerCapture(v.pointerId)&&s(v)}),onPointerUp:nt(e.onPointerUp,v=>{const y=v.target;y.hasPointerCapture(v.pointerId)&&(y.releasePointerCapture(v.pointerId),c(v))})}))}),sx="SliderTrack",ax=p.forwardRef((e,n)=>{const{__scopeSlider:r,...i}=e,s=Ji(sx,r);return p.createElement(ht.span,ae({"data-disabled":s.disabled?"":void 0,"data-orientation":s.orientation},i,{ref:n}))}),Kf="SliderRange",cx=p.forwardRef((e,n)=>{const{__scopeSlider:r,...i}=e,s=Ji(Kf,r),c=Vf(Kf,r),l=p.useRef(null),u=it(n,l),d=s.values.length,h=s.values.map(y=>Yf(y,s.min,s.max)),m=d>1?Math.min(...h):0,v=100-Math.max(...h);return p.createElement(ht.span,ae({"data-orientation":s.orientation,"data-disabled":s.disabled?"":void 0},i,{ref:u,style:{...e.style,[c.startEdge]:m+"%",[c.endEdge]:v+"%"}}))}),Rf="SliderThumb",lx=p.forwardRef((e,n)=>{const r=ex(e.__scopeSlider),[i,s]=p.useState(null),c=it(n,u=>s(u)),l=p.useMemo(()=>i?r().findIndex(u=>u.ref.current===i):-1,[r,i]);return p.createElement(ux,ae({},e,{ref:c,index:l}))}),ux=p.forwardRef((e,n)=>{const{__scopeSlider:r,index:i,...s}=e,c=Ji(Rf,r),l=Vf(Rf,r),[u,d]=p.useState(null),h=it(n,x=>d(x)),m=jd(u),v=c.values[i],y=v===void 0?0:Yf(v,c.min,c.max),w=hx(i,c.values.length),E=m==null?void 0:m[l.size],g=E?gx(E,y,l.direction):0;return p.useEffect(()=>{if(u)return c.thumbs.add(u),()=>{c.thumbs.delete(u)}},[u,c.thumbs]),p.createElement("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[l.startEdge]:`calc(${y}% + ${g}px)`}},p.createElement(gc.ItemSlot,{scope:e.__scopeSlider},p.createElement(ht.span,ae({role:"slider","aria-label":e["aria-label"]||w,"aria-valuemin":c.min,"aria-valuenow":v,"aria-valuemax":c.max,"aria-orientation":c.orientation,"data-orientation":c.orientation,"data-disabled":c.disabled?"":void 0,tabIndex:c.disabled?void 0:0},s,{ref:h,style:v===void 0?{display:"none"}:e.style,onFocus:nt(e.onFocus,()=>{c.valueIndexToChangeRef.current=i})}))))}),dx=e=>{const{value:n,...r}=e,i=p.useRef(null),s=Jy(n);return p.useEffect(()=>{const c=i.current,l=window.HTMLInputElement.prototype,d=Object.getOwnPropertyDescriptor(l,"value").set;if(s!==n&&d){const h=new Event("input",{bubbles:!0});d.call(c,n),c.dispatchEvent(h)}},[s,n]),p.createElement("input",ae({style:{display:"none"}},r,{ref:i,defaultValue:n}))};function fx(e=[],n,r){const i=[...e];return i[r]=n,i.sort((s,c)=>s-c)}function Yf(e,n,r){const c=100/(r-n)*(e-n);return Ff(c,[0,100])}function hx(e,n){return n>2?`Value ${e+1} of ${n}`:n===2?["Minimum","Maximum"][e]:void 0}function px(e,n){if(e.length===1)return 0;const r=e.map(s=>Math.abs(s-n)),i=Math.min(...r);return r.indexOf(i)}function gx(e,n,r){const i=e/2,c=vc([0,50],[0,i]);return(i-c(n)*r)*r}function vx(e){return e.slice(0,-1).map((n,r)=>e[r+1]-n)}function mx(e,n){if(n>0){const r=vx(e);return Math.min(...r)>=n}return!0}function vc(e,n){return r=>{if(e[0]===e[1]||n[0]===n[1])return n[0];const i=(n[1]-n[0])/(e[1]-e[0]);return n[0]+i*(r-e[0])}}function wx(e){return(String(e).split(".")[1]||"").length}function bx(e,n){const r=Math.pow(10,n);return Math.round(e*r)/r}const yx=rx,xx=ax,Cx=cx,$x=lx,Ex=({node:e,options:n})=>{var w;const r=zo(e),i='Take a deep breath.  Please respond only with a single valid JSON object with the key "cost" and a number value',s=(E,g,x)=>`How much does it cost to ${E} in the as a subtask of ${g.join(" subtask of the task ")}`,c='Take a deep breath.  Please respond only with a single valid JSON object with the key "cost" and a number value',l=(E,g,x)=>{const $=zo(x);return`How much does it cost to ${E} in the as a subtask of ${g.join(" subtask of the task ")}, but factoring out the cost of its subtasks, which are estimated to cost somewhere between $${$.min} and $${$.max}, averaging $${$.average}.  This will leave only the marginal cost, which is the information we want.`},u=/.*(\{[^{}]*\}).*/m,d=(E,g)=>{var P;const x=E,$=(P=g.getData().cost)==null?void 0:P.budget;return{marginal:parseFloat(x.cost),budget:$}},h=async()=>{if(n!=null&&n.canPromptGPT&&(n!=null&&n.promptGPT)){const E=await Wo(n.promptGPT,e,{systemPromptBase:i,getUserPromptBase:s,systemPromptRecursive:c,getUserPromptRecursive:l,pattern:u,parsePattern:d,getResourceInfo:zo,setResourceInfo:qf,checkResourceInfo:Nx});E?e.context.setNodes(E.data.nodes):n!=null&&n.toast&&(n==null||n.toast({title:"Error",description:"No suggestions could be generated",duration:5e3}))}else{console.error("No authedApi");const E=new Error("No authedApi");throw E.cause="unauthorized",E}},m=E=>{if(!E)return;const g=zo(e);qf(e,{marginal:E,budget:g.budget})},v=async()=>{e.setPath({[e.getNodeData().selectedOption]:r.minPaths})},y=async()=>{e.setPath({[e.getNodeData().selectedOption]:r.maxPaths})};return C.jsxs("div",{className:"flex flex-row flex-wrap items-center justify-center",children:[C.jsxs("div",{className:"flex flex-row w-1/2 min-w-96 items-center justify-center flex-wrap",children:[C.jsx(Sx,{value:r.marginal,onChange:E=>m(E),handleSuggestCost:h}),C.jsx(_x,{value:(w=r.budget)==null?void 0:w.available,budgetInfo:r.budget,step:1,bgValue:75,onChange:()=>console.log("slider")})]}),C.jsxs("div",{className:"flex flex-row justify-center items-center w-1/2 min-w-96",children:[C.jsxs("div",{className:"overflow-hidden w-1/2 text-center text-sm",children:[C.jsxs("div",{className:"mx-auto",children:[" Curr: ",Qi(r.current)," "]}),C.jsxs("div",{children:[" Avg: ",Qi(r.average)," "]})]}),C.jsxs("div",{className:"overflow-hidden w-1/2 text-center",children:[C.jsxs(ye,{variant:"secondary",className:"bg-emerald-900 p-1 text-xs mx-auto",onClick:v,title:"Set min cost path",children:[" ",C.jsxs("div",{children:["Min: ",Qi(r.min)]})," "]}),C.jsxs(ye,{variant:"secondary",className:"bg-emerald-900 p-1 text-xs mx-auto",onClick:y,title:"Set max cost path",children:[" ",C.jsxs("div",{children:["Max: ",Qi(r.max)]})," "]})]})]})]})},qf=(e,{marginal:n,budget:r})=>{const s={...e.getData(),cost:{marginal:n,budget:r}};return e.setData(s)},zo=(e,n)=>{var l,u;const r=e.parseIndex(n),i=e.getChildren(r),c=((u=(l=e.getOptionContent(r).data)==null?void 0:l.cost)==null?void 0:u.marginal)||0;if(i.length===0)return{min:c,max:c,average:c,current:c,minPaths:[],maxPaths:[],marginal:c};{let d=0,h=0,m=0,v=0;const y=[],w=[];return i.forEach((E,g)=>{const x=E.getNodeData(),$=x.options;let P=Number.MAX_SAFE_INTEGER,S=Number.MIN_SAFE_INTEGER,_=0,A=0;$.forEach((k,T)=>{const M=zo(E,T);M.min<P&&(P=M.min,M.minPaths),M.max>S&&(S=M.max,M.maxPaths),_=(_*T+M.average)/(T+1),T===x.selectedOption&&(A=M.current)}),d+=P,h+=S,m+=_,v+=A}),{min:d+c,max:h+c,average:m+c,current:v+c,minPaths:y,maxPaths:w,marginal:c}}},Nx=e=>!!e.getData().cost,Qi=e=>`${e.toLocaleString("en-US",{style:"currency",currency:"USD"})}`,Sx=({value:e,onChange:n,handleSuggestCost:r})=>C.jsx("div",{className:"w-auto",children:C.jsxs("div",{className:"flex flex-row items-center justify-center",children:[C.jsx(ye,{variant:"secondary",className:"bg-emerald-900 h-10 p-2 rounded-r-none rounded-l-",onClick:r,title:"Get estimated cost",children:C.jsx(xn,{})}),C.jsx(pc,{id:"cost",className:"h-10 w-20",name:"cost",placeholder:"enter cost",defaultValue:e,decimalsLimit:2,prefix:"$",onValueChange:i=>n(i!==void 0?parseFloat(i):i)})]})}),Dx=({value:e,onChange:n})=>C.jsx(pc,{id:"cost",name:"cost",placeholder:"enter budget",className:"w-24 m-w-20",defaultValue:e,decimalsLimit:2,prefix:"$",onValueChange:r=>n(r!==void 0?parseFloat(r):r)}),_x=e=>{var n;return C.jsxs("div",{className:"w-full align-middle py-5 flex-row flex flex-wrap justify-center item-center",children:[e.value!==void 0&&C.jsx("div",{className:"min-w-20 grow-1 w-2/3",children:C.jsxs(yx,{className:Le("relative flex w-full touch-none select-none items-center"),defaultValue:[e.value],max:(n=e.budgetInfo)==null?void 0:n.available,step:e.step,children:[C.jsx(xx,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-gradient-to-r from-emerald-900 to-destructive via-70% via-emerald-900",children:C.jsx(Cx,{className:"absolute h-full bg-black/30"})}),C.jsx($x,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-transparent ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]})}),C.jsx("div",{className:"grow-1 w-24 overflow-hidden",children:C.jsx(Dx,{value:e.value,onChange:e.onChange})})]})},Px={icon:C.jsx(Fv,{}),name:"cost",HeadComponent:Ex},mc=F.forwardRef(({className:e,...n},r)=>C.jsx("textarea",{className:Le("flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...n}));mc.displayName="Textarea";function Ox({searchMessage:e="Search...",selectMessage:n="Select...",emptyMessage:r="No results",node:i,variant:s="default",canSuggestOption:c,suggestOption:l,...u}){const d=i.getNodeData(),h=d.selectedOption,[m,v]=F.useState(!1),y=d.options.map((T,M)=>({description:T.description,saveDescription:U=>{const R={...T,description:U};i.setNodeOptionData(M,R)},delete:()=>{i.deleteOption(M)}})),w=T=>{console.log("handleChange",T);const U={...i.getNodeData(),selectedOption:T};i.setNodeData(U)},E=()=>{i.addOption()},g=y[h];if(!g)throw console.log("no item",h,y),new Error("no item");const x=T=>(T.preventDefault(),g.saveDescription(T.target.value),!1),$=T=>{T.key===" "&&T.stopPropagation()},P=T=>{console.log("keypress",T.key,h),T.key==="ArrowUp"&&T.altKey&&(console.log("test",h,y.length,(h-1+y.length)%y.length),w(h?(h-1+y.length)%y.length:0)),T.key==="ArrowDown"&&T.altKey&&w(h?(h+1)%y.length:0)},S=F.useRef(null),_=80,A={default:"w-[200px] justify-between","text-mimic":"w-full justify-between text-left display-flex"}[s],k={default:{},"text-mimic":{height:`${_}px`,fontSize:"1rem",fontWeight:"normal",paddingRight:"5px"}}[s];return C.jsxs(Vi,{open:m,onOpenChange:v,children:[C.jsx(Gi,{asChild:!0,children:C.jsxs("div",{style:{position:"relative",zIndex:"0",height:`${_}px`,width:"100%"},children:[C.jsx(Zi,{variant:"outline",role:"combobox",size:"lg","aria-expanded":m,className:`${A} text-right px-2`,style:{...k,width:"calc(100%)",height:`${_}px`,zIndex:"0"},...u,children:C.jsx("div",{className:"w-full justify-end items-end flex p-0",children:C.jsx(li,{className:"h-4 opacity-50",style:{padding:"0px 0px 0px 0px"}})})}),C.jsx("div",{style:{zIndex:"1",position:"absolute",top:"0px",left:"0px",width:"100%",height:"100%"},children:C.jsx(mc,{ref:S,className:"rounded-r-none",value:g?g.description:n,style:{width:"calc(100% - 2rem)",fontSize:"1.2rem",fontWeight:"normal",height:`${_}px`,overflow:"hidden",scrollbarWidth:"none",scrollbarGutter:"none"},onChange:x,onFocus:T=>{console.log("here"),T.stopPropagation()},onClick:T=>{console.log("here"),T.stopPropagation()},onKeyDown:$,onKeyUp:P})})]})}),C.jsx(To,{className:"w-[200px] p-0",children:C.jsxs(So,{children:[C.jsx(La,{placeholder:e,className:"h-9"}),C.jsx(Do,{children:r}),C.jsx(fr,{children:y.map((T,M)=>C.jsxs(_o,{value:M.toString(),onSelect:U=>{const R=parseInt(U);if(isNaN(R)||!R===void 0)throw new Error("invalid value");w(R),v(!1)},children:[T.description,C.jsx(ui,{className:Le("ml-auto h-4 w-4",h===M?"opacity-100":"opacity-0")}),y.length>1&&C.jsx("div",{children:C.jsx(eu,{className:"h-4 w-4 opacity-50 hover:opacity-100 cursor-pointer",color:"rgba(200, 100, 100, .7)",onClick:U=>{U.stopPropagation(),T.delete()}})})]},M))}),C.jsx(fr,{children:C.jsxs("div",{className:"grid grid-cols-2 place-content-stretch gap-1",children:[C.jsx("div",{className:"",children:C.jsx(ye,{onClick:()=>{E(),v(!1)},className:"justify-center bg-gray-100/30 text-gray-900 hover:bg-gray-200 h-10 w-full",children:C.jsx(Ql,{className:"h-4"})})}),C.jsx("div",{className:"",children:C.jsx(ye,{onClick:()=>{l(),v(!1)},disabled:!c,className:"bg-emerald-900 w-full",children:C.jsx(xn,{className:"h-4"})})})]})})]})})]})}const Ax=({node:e,options:n})=>{const r=async()=>{if(n!=null&&n.canPromptGPT&&(n!=null&&n.promptGPT)){const[i,s]=await lc(n.promptGPT,e);i?e.context.setNodes(i.data.nodes):n!=null&&n.toast&&n.toast({title:"Error",description:"No suggestions could be generated",duration:5e3})}else{console.error("No authedApi");const i=new Error("No authedApi");throw i.cause="unauthorized",i}};return C.jsx("div",{children:C.jsx(Ox,{node:e,suggestOption:r,canSuggestOption:(n==null?void 0:n.canPromptGPT)||!1})})},Tx={icon:C.jsx(Uv,{}),name:"workflow",HeadComponent:Ax},Ix=({node:e,options:n})=>{const r=g=>{Zf(e,g)},i=Ho(e),s=async()=>{e.setPath(i.minProbabilitySuccessPath)},c=async()=>{e.setPath(i.maxProbabilitySuccessPath)},l=async()=>{e.setPath(i.minProbabilityFailurePath)},u=async()=>{e.setPath(i.maxProbabilityFailurePath)},d='Take a deep breath.  Please respond only with a single valid JSON object with the keys "probabilitySuccess" and "probabilityFailure" and a number value between 1-100 representing the percentage of success and failure respectively',h=(g,x,$)=>`How likely is it that the following will lead to success or failure respectively ${g} in the context of the task ${x.join(" subtask of the task ")} please express as a percentage (0-100)`,m='Take a deep breath.  Please respond only with a single valid JSON object with the keys "probabilitySuccess" and "probabilityFailure" and a number value between 1-100 representing the percentage of success and failure respectively',v=(g,x,$)=>{const P=Ho($);return`How likely is it that the following will lead to success or failure respectively ${g} in the context of the task ${x.join(" subtask of the task ")} please express as a percentage (0-100), but factoring out the probability of its subtasks, which are estimated to be likely somewhere between ${P.minSuccess*100} and ${P.maxSuccess*100}, averaging ${P.averageSuccess*100} to succeed and somewhere between ${P.minFailure*100} and ${P.maxFailure*100}, averaging ${P.averageFailure*100} to fail. This should leave only the marginal probability, which is the information we want.`},y=/.*(\{[^{}]*\}).*/m,w=(g,x)=>{const $=g,P=$.probabilitySuccess,S=$.probabilityFailure;return{marginSuccess:P/100,marginFailure:S/100}},E=async()=>{if(n!=null&&n.canPromptGPT&&(n!=null&&n.promptGPT)){const g=await Wo(n.promptGPT,e,{systemPromptBase:d,getUserPromptBase:h,systemPromptRecursive:m,getUserPromptRecursive:v,pattern:y,parsePattern:w,getResourceInfo:Ho,setResourceInfo:Zf,checkResourceInfo:Fx});g?e.context.setNodes(g.data.nodes):n!=null&&n.toast&&n.toast({title:"Error",description:"No suggestions could be generated",duration:5e3})}else{console.error("No authedApi");const g=new Error("No authedApi");throw g.cause="unauthorized",g}};return C.jsxs("div",{className:"w-full text-center overflow-hidden",children:[C.jsxs("div",{className:"mx-auto items-center justify-center gap-1.5 flex items-center",children:[C.jsx(ye,{variant:"secondary",className:"bg-emerald-900 inline-block w-14",onClick:E,title:"Get estimated probabilities",children:C.jsx(xn,{})}),C.jsx(kx,{value:i,onUpdate:g=>r(g)})]}),C.jsxs("div",{className:"flex flex-row justify-stretch items-center mx-auto",style:{maxWidth:"600px"},children:[C.jsxs("div",{className:"px-3 overflow-hidden w-1/2",children:[C.jsxs("div",{title:"Probability of success of Currently Selected Path",children:[" Curr: ",Kn(i.currentSuccess)," "]}),C.jsxs("div",{title:"Probability of success of Average Path",children:[" Avg: ",Kn(i.averageSuccess)," "]})]}),C.jsxs("div",{className:"px-3 overflow-hidden w-1/2",children:[C.jsxs(ye,{variant:"secondary",className:"bg-emerald-900 p-1",onClick:s,title:"Set min probability success path",children:[" ",C.jsxs("div",{className:"w-full",children:["Min: ",Kn(i.minSuccess)," "]})]}),C.jsxs(ye,{variant:"secondary",className:"bg-emerald-900 p-1",onClick:c,title:"Set max probability success path",children:[" ",C.jsxs("div",{className:"w-full",children:["Max: ",Kn(i.maxSuccess)," "]})]})]})]}),C.jsxs("div",{className:"flex flex-row justify-stretch items-center mx-auto",style:{maxWidth:"600px"},children:[C.jsxs("div",{className:"px-3 overflow-hidden w-1/2",children:[C.jsxs("div",{title:"Time of Currently Selected Path",children:[" Curr: ",Kn(i.currentFailure)," "]}),C.jsxs("div",{title:"Time of Average Path",children:[" Avg: ",Kn(i.averageFailure)," "]})]}),C.jsxs("div",{className:"px-3 overflow-hidden w-1/2",children:[C.jsxs(ye,{variant:"secondary",className:"bg-emerald-900 p-1",onClick:l,title:"Set min probability failure path",children:[" ",C.jsxs("div",{className:"w-full",children:["Min: ",Kn(i.minFailure)," "]})]}),C.jsxs(ye,{variant:"secondary",className:"bg-emerald-900 p-1",onClick:u,title:"Set max probability failure path",children:[" ",C.jsxs("div",{className:"w-full",children:["Max: ",Kn(i.maxFailure)," "]})]})]})]})]})},Zf=(e,n)=>{const r=e.getData();return e.setData({...r,probability:n})},Ho=(e,n)=>{const r=e.getData(n);console.log("nodeData",r);const i=Lx(e),s=Mx(e);return{...i,...s}},Kn=e=>`${e.toLocaleString("en-US",{style:"percent",minimumFractionDigits:2})}`,kx=({value:e,onUpdate:n})=>C.jsx("div",{className:"w-auto",children:C.jsx("div",{className:"flex flex-row items-center justify-center"})}),Mx=(e,n)=>{var l,u;const r=e.parseIndex(n),i=e.getChildren(r),c=((u=(l=e.getOptionContent(r).data)==null?void 0:l.probability)==null?void 0:u.marginFailure)||0;if(i.length===0)return{minFailure:c,maxFailure:c,averageFailure:c,currentFailure:c,minProbabilityFailurePath:[],maxProbabilityFailurePath:[],marginFailure:c};{let d=0,h=0,m=0,v=0;const y=[],w=[];return i.forEach((E,g)=>{const x=E.getNodeData(),$=x.options;let P=Number.MAX_SAFE_INTEGER,S=Number.MIN_SAFE_INTEGER,_=0,A=0;$.forEach((k,T)=>{const M=Ho(E,T);M.minFailure<P&&(P=M.minFailure,M.minProbabilityFailurePath),M.maxFailure>S&&(S=M.maxFailure,M.maxProbabilityFailurePath),_=(_*T+M.averageFailure)/(T+1),T===x.selectedOption&&(A=M.currentFailure)}),d+=P,h+=S,m+=_,v+=A}),{minFailure:d+c,maxFailure:h+c,averageFailure:m+c,currentFailure:v+c,minProbabilityFailurePath:y,maxProbabilityFailurePath:w,marginFailure:c}}},Lx=(e,n)=>{var l,u;const r=e.parseIndex(n),i=e.getChildren(r),c=((u=(l=e.getOptionContent(r).data)==null?void 0:l.probability)==null?void 0:u.marginSuccess)||0;if(i.length===0)return{minSuccess:c,maxSuccess:c,averageSuccess:c,currentSuccess:c,minProbabilitySuccessPath:[],maxProbabilitySuccessPath:[],marginSuccess:c};{let d=0,h=0,m=0,v=0;const y=[],w=[];return i.forEach((E,g)=>{const x=E.getNodeData(),$=x.options;let P=Number.MAX_SAFE_INTEGER,S=Number.MIN_SAFE_INTEGER,_=0,A=0;$.forEach((k,T)=>{const M=Ho(E,T);M.minSuccess<P&&(P=M.minSuccess,M.minProbabilitySuccessPath),M.maxSuccess>S&&(S=M.maxSuccess,M.maxProbabilitySuccessPath),_=(_*T+M.averageSuccess)/(T+1),T===x.selectedOption&&(A=M.currentSuccess)}),d+=P,h+=S,m+=_,v+=A}),{minSuccess:d+c,maxSuccess:h+c,averageSuccess:m+c,currentSuccess:v+c,minProbabilitySuccessPath:y,maxProbabilitySuccessPath:w,marginSuccess:c}}},Fx=e=>!!e.getData().probability,Wx={icon:C.jsx(Lv,{}),name:"probability",HeadComponent:Ix},Bx=({node:e,options:n})=>{const r=Vo(e),i=y=>{Xf(e,{content:y})},s=async()=>{const y=r.aggregated||"",w=new Blob([y],{type:"text/plain"}),E=URL.createObjectURL(w);window.open(E,"_blank"),setTimeout(()=>URL.revokeObjectURL(E),100)},c='Take a deep breath.  Please respond only with a single valid JSON object with the key "document" and a string value',l=(y,w,E)=>`Please provide text which is the fulfillment of these instructions: ${y} in the context of the task ${w.join(" subtask of the task ")}`,u='Take a deep breath.  Please respond only with a single valid JSON object with the key "document" and a string value',d=(y,w,E)=>(Vo(E),`Please provide text which is the fulfillment of these instructions:${y} in the context of the task ${w.join(" subtask of the task ")}, but the following pieces are already written as part of child tasks.  Please insert them with the template format eg {{ 0 }} for child #0.  Do not be redundant with that information: 
${E.getChildren().map((g,x)=>`{{${x}}} : ${Vo(g).aggregated}`).join(`
`)}`),h=/.*(\{[^{}]*\}).*/m,m=(y,w)=>({content:y.document}),v=async()=>{if(console.log("suggesting document"),n!=null&&n.canPromptGPT&&(n!=null&&n.promptGPT)){const y=await Wo(n.promptGPT,e,{systemPromptBase:c,getUserPromptBase:l,systemPromptRecursive:u,getUserPromptRecursive:d,pattern:h,parsePattern:m,getResourceInfo:Vo,setResourceInfo:Xf,checkResourceInfo:jf});y?e.context.setNodes(y.data.nodes):n!=null&&n.toast&&n.toast({title:"Error",description:"No suggestions could be generated",duration:5e3})}else{console.error("No authedApi");const y=new Error("No authedApi");throw y.cause="unauthorized",y}};return C.jsxs("div",{className:"w-full text-center overflow-hidden flex flex-row",children:[C.jsxs("div",{className:"p-0",children:[C.jsx(ye,{variant:"secondary",className:"bg-emerald-900 inline-block p-2",onClick:v,title:"Execute prompt",disabled:jf(e),children:C.jsx(xn,{})}),C.jsx(ye,{variant:"secondary",className:"bg-emerald-900 inline-block p-2",onClick:s,title:"Execute prompt",children:C.jsx(Wv,{})})]}),C.jsx("div",{className:"w-full",children:C.jsx(mc,{value:r==null?void 0:r.content,onChange:y=>i(y.target.value)})})]})},Ux=({node:e})=>C.jsx("div",{children:C.jsx(ye,{variant:"secondary",className:"bg-emerald-900 p-1",title:"Insert Child Document",onClick:()=>{},children:C.jsx(Jl,{size:"1rem"})})}),Vo=e=>{var i,s,c,l;const n=e.getData(),r=e.getChildren();if(r.length){const u=r.reduce((d,h,m)=>{const v=Vo(h);return d.replace(`{{${m+1}}}`,v.aggregated||"")},((c=n.document)==null?void 0:c.content)||"");return{content:((l=n.document)==null?void 0:l.content)||"",aggregated:u}}else return{content:((i=n.document)==null?void 0:i.content)||"",aggregated:((s=n.document)==null?void 0:s.content)||""}},Xf=(e,n)=>{const r=e.getData();return e.setData({...r,document:n})},jf=e=>{const n=e.getData();return!!n.document&&!!n.document.content},zx={icon:C.jsx(Jl,{}),name:"document",HeadComponent:Bx,RowComponent:Ux},Jf=F.forwardRef(({className:e,type:n,...r},i)=>C.jsx("input",{type:n,className:Le("flex h-9 w-full rounded-md border border-input bg-background px-3 py-1 text-sm shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",e),ref:i,...r}));Jf.displayName="Input";const Hx=({node:e,options:n})=>{const r=wc(e),i=(y,w)=>{Qf(e,w)},s='Take a deep breath.  Please respond only with a single valid JSON object with the key "resources" and an array of strings',c=(y,w,E)=>`Please provide a list of required resources in order to complete this task: ${y} in the context of the task ${w.join(" subtask of the task ")}.  A resource is anything that is needed to complete the task, such as a tool, a person, a piece of information, or a physical object.  Please be thorough and specific. and focus on this particular task because other workers will be providing information about other tasks.`,l='Take a deep breath.  Please respond only with a single valid JSON object with the key "document" and an array of strings',u=(y,w,E)=>(wc(E),`Please provide a list of required resources in order to complete this task: ${y} in the context of the task ${w.join(" subtask of the task ")}, but the following resource are already accounted for, so please don't include them.A resource is anything that is needed to complete the task, such as a tool, a person, a piece of information, or a physical object.  Please be thorough and specific. and focus on this particular task because other workers will be providing information about other tasks.`),d=/.*(\{[^{}]*\}).*/m,h=(y,w)=>({required:y.resources,available:[]}),m=async()=>{if(n!=null&&n.canPromptGPT&&(n!=null&&n.promptGPT)){const y=await Wo(n==null?void 0:n.promptGPT,e,{systemPromptBase:s,getUserPromptBase:c,systemPromptRecursive:l,getUserPromptRecursive:u,pattern:d,parsePattern:h,getResourceInfo:wc,setResourceInfo:Qf,checkResourceInfo:Vx});y?e.context.setNodes(y.data.nodes):n!=null&&n.toast&&(n==null||n.toast({title:"Error",description:"No suggestions could be generated",duration:5e3}))}else{console.error("No authedApi");const y=new Error("No authedApi");throw y.cause="unauthorized",y}},v=(y,w)=>()=>{const E={...r,requiredForThis:r.requiredForThis.map((x,$)=>$===y?w:x)},g={required:E.requiredForThis,available:E.available};i(y,g)};return C.jsxs("div",{className:"w-full text-center overflow-hidden flex flex-row",children:[C.jsx("div",{children:C.jsx(ye,{variant:"secondary",className:"bg-emerald-900 inline-block w-14",onClick:m,title:"Suggest required resources",children:C.jsx(xn,{})})}),C.jsxs("div",{className:"flex flex-row flex-wrap justify-center",children:[r.requiredForCurrent.map((y,w)=>C.jsx("div",{className:"flex flex-row items-center justify-center flex-wrap w-48",children:r.requiredForThis.includes(y)?C.jsx(Jf,{value:y,onChange:E=>v(w,E.target.value),className:"inline-block"}):C.jsx("div",{children:y})},w)),C.jsx(ye,{variant:"secondary",className:"bg-emerald-900 inline-block w-14",onClick:m,title:"Add required resources",children:C.jsx(zv,{})})]})]})},wc=e=>(e.getData(),{requiredForThis:["resource1","resource2"],available:["resource1","resource3"],requiredForCurrent:["resource1","resource2"],minRequired:["resource1"],allPossibleRequired:["resource1","resource2","resource3"]}),Qf=(e,n)=>{const r=e.getData();return e.setData({...r,resources:n})},Vx=e=>!!e.getData().resources,bc={cost:Px,workflow:Tx,duration:My,probability:Wx,fosDocument:zx,resources:{icon:C.jsx(Tv,{}),name:"resources",HeadComponent:Hx}};function Gx({context:e,node:n,dragging:r,dragOverInfo:i,options:s}){const c=Object.keys(bc).map(v=>bc[v]),[l,u]=p.useState(n.getRoute().length>1?bc.workflow:void 0),d=n.getChildren(),h=Rr(),m=p.useMemo(()=>h.width!==void 0?Math.floor((h.width-500)/100):0,[h]);return C.jsxs("div",{children:[C.jsx("div",{style:{padding:"15px 0px"},children:C.jsx(Kx,{node:n,context:e,activeModule:l,setActiveModule:u,availableModules:c,options:s})}),C.jsx("div",{children:n.hasMerge()?C.jsx(uc,{rowDepth:m,context:e,dragging:r,parentNode:n,dragOverInfo:i,locked:e.locked,activeModule:l,options:s}):C.jsx(fc,{rows:d,rowDepth:m,context:e,dragging:r,parentNode:n,dragOverInfo:i,locked:e.locked,activeModule:l,options:s})})]})}const Kx=({node:e,context:n,activeModule:r,setActiveModule:i,availableModules:s,options:c})=>{const[l,u]=p.useState(!1),d=()=>{l?r!==void 0?i(void 0):u(!1):u(!0)},h=v=>{i(v),u(!1)},m=(r==null?void 0:r.HeadComponent)||(()=>C.jsx(C.Fragment,{}));return C.jsx(C.Fragment,{children:C.jsx("div",{children:C.jsx("div",{children:C.jsxs("div",{className:"flex-row flex w-full px-1 ",children:[C.jsx("div",{className:`px-0 flex-grow overflow-x-hidden transition-all duration-500 ${l?"w-none":""}`,children:C.jsx(m,{node:e,options:c})}),C.jsxs("div",{className:"px-3 flex flex-row w-auto transition-all duration-500 items-stretch",children:[l&&s.map((v,y)=>C.jsx(ye,{onClick:()=>h(v),variant:"ghost",className:`h-full ${(r==null?void 0:r.name)===v.name?"bg-stone-900":"bg-stone-700"}`,children:v.icon},y)),C.jsx("div",{className:"overflow-x-hidden h-full",children:C.jsx(ye,{onClick:d,variant:"ghost",className:"self-center h-full",children:l?C.jsx(jl,{className:"rotate-90"}):C.jsx(jl,{})})})]})]})})})})};function Rx({searchMessage:e="Search...",selectMessage:n="Select...",emptyMessage:r="No results",node:i,variant:s="default",...c}){const u=i.getNodeData().selectedOption,[d,h]=F.useState(!1),m=i.hasMerge()?i.getMergeOptions().map((g,x)=>(console.log("option",g.description),C.jsx(C.Fragment,{children:g.description.map(($,P)=>C.jsx("span",{className:`${$.added?"bg-emerald-950/90":$.removed?"bg-destructive-950/90":""}`,children:$.value},P))})),[]):i.getNodeData().options.map((g,x)=>C.jsx("span",{children:g.description},x)),v=g=>{console.log("handleChange",g);const $={...i.getNodeData(),selectedOption:g};i.setNodeData($)},y={default:"w-[200px] justify-between","text-mimic":"w-full justify-between text-left display-flex"}[s],w={default:{},"text-mimic":{width:"50vw",fontSize:"1rem",fontWeight:"normal",paddingRight:"5px"}}[s],E=m[u];if(!E)throw console.log("no item",u,m),new Error("no item");return C.jsxs(Vi,{open:d,onOpenChange:h,children:[C.jsx(Gi,{asChild:!0,children:C.jsxs("div",{style:{position:"relative",zIndex:"0"},children:[C.jsx(Zi,{variant:"outline",role:"combobox",size:"lg","aria-expanded":d,className:`${y} text-right px-2`,style:{...w,zIndex:"0"},...c,children:C.jsx("div",{className:"w-full justify-end items-end flex p-0",children:C.jsx(li,{className:"h-4 opacity-50",style:{padding:"0px 0px 0px 0px"}})})}),C.jsx("div",{style:{zIndex:"1",position:"absolute",top:"0px",left:"0px",width:"100%",height:"100%"},children:C.jsx("div",{className:"w-full px-3 py-2",children:E})})]})}),C.jsx(To,{className:"w-[200px] p-0",children:C.jsxs(So,{children:[C.jsx(La,{placeholder:e,className:"h-9"}),C.jsx(Do,{children:r}),C.jsx(fr,{children:m.map((g,x)=>C.jsxs(_o,{onSelect:$=>{v(x),h(!1)},children:[g,C.jsx(ui,{className:Le("ml-auto h-4 w-4",u===x?"opacity-100":"opacity-0")})]},x))})]})})]})}function Yx({context:e,node:n,dragging:r,dragOverInfo:i,options:s}){const c=n.getChildren(),l=Rr(),u=p.useMemo(()=>l.width!==void 0?Math.floor((l.width-500)/100):0,[l]);return C.jsxs("div",{children:[n.getRoute().length>1&&C.jsx("div",{style:{padding:"15px 0px"},children:C.jsx(qx,{node:n,context:e,options:s})}),C.jsx("div",{children:n.hasMerge()?C.jsx(uc,{rowDepth:u,context:e,dragging:r,parentNode:n,dragOverInfo:i,locked:e.locked,options:s}):C.jsx(fc,{rows:c,rowDepth:u,context:e,dragging:r,parentNode:n,dragOverInfo:i,locked:e.locked,options:s})})]})}const qx=({node:e,context:n,options:r})=>{const[i,s]=p.useState(!1),c=async()=>{if(!(r!=null&&r.promptGPT)||!(r!=null&&r.canPromptGPT))return;const[l,u]=await dc(r==null?void 0:r.promptGPT,e);l&&n.setNodes(l.data.nodes)};return C.jsx(C.Fragment,{children:C.jsx("div",{children:C.jsx("div",{children:C.jsxs("div",{className:"flex-row flex w-full px-1",children:[C.jsx("div",{className:"px-3",children:C.jsx(ye,{onClick:()=>s(!i),variant:"ghost",children:i?C.jsx(Rg,{}):C.jsx(qg,{})})}),C.jsx("div",{className:"px-0",children:C.jsx(Zx,{node:e})}),i&&C.jsx("div",{className:"px-3",children:(r==null?void 0:r.promptGPT)&&C.jsx(ye,{variant:"secondary",className:"bg-emerald-900",disabled:!(r!=null&&r.canPromptGPT),onClick:c,children:C.jsx(xn,{})})})]})})})})},Zx=({node:e})=>C.jsx("div",{children:C.jsx(Rx,{node:e})}),Xx=[Ne.Down,Ne.Right,Ne.Up,Ne.Left],jx=(e,{context:{active:n,droppableContainers:r,collisionRect:i,scrollableAncestors:s}})=>{if(Xx.includes(e.code)){if(e.preventDefault(),!n||!i)return;const c=[];r.getEnabled().forEach(d=>{if(!d||d!=null&&d.disabled)return;const h=d==null?void 0:d.rect.current;if(h)switch(e.code){case Ne.Down:i.top+i.height<=h.top&&c.push(d);break;case Ne.Up:i.top>=h.top+h.height&&c.push(d);break;case Ne.Left:i.left>=h.left+h.width&&c.push(d);break;case Ne.Right:i.left+i.width<=h.left&&c.push(d);break}});const l=Pb({active:n,collisionRect:i,droppableContainers:c,pointerCoordinates:null}),u=pf(l,"id");if(u!=null){const d=r.get(u),h=d==null?void 0:d.node.current,m=d==null?void 0:d.rect.current;if(h&&m){const w=Xa(h).some((g,x)=>s[x]!==g)?{x:0,y:0}:{x:i.width-m.width,y:i.height-m.height};return{x:m.left-w.x,y:m.top-w.y}}}}};function Sn(){}Sn.prototype={diff:function(n,r){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=i.callback;typeof i=="function"&&(s=i,i={}),this.options=i;var c=this;function l(g){return s?(setTimeout(function(){s(void 0,g)},0),!0):g}n=this.castInput(n),r=this.castInput(r),n=this.removeEmpty(this.tokenize(n)),r=this.removeEmpty(this.tokenize(r));var u=r.length,d=n.length,h=1,m=u+d;i.maxEditLength&&(m=Math.min(m,i.maxEditLength));var v=[{newPos:-1,components:[]}],y=this.extractCommon(v[0],r,n,0);if(v[0].newPos+1>=u&&y+1>=d)return l([{value:this.join(r),count:r.length}]);function w(){for(var g=-1*h;g<=h;g+=2){var x=void 0,$=v[g-1],P=v[g+1],S=(P?P.newPos:0)-g;$&&(v[g-1]=void 0);var _=$&&$.newPos+1<u,A=P&&0<=S&&S<d;if(!_&&!A){v[g]=void 0;continue}if(!_||A&&$.newPos<P.newPos?(x=Qx(P),c.pushComponent(x.components,void 0,!0)):(x=$,x.newPos++,c.pushComponent(x.components,!0,void 0)),S=c.extractCommon(x,r,n,g),x.newPos+1>=u&&S+1>=d)return l(Jx(c,x.components,r,n,c.useLongestToken));v[g]=x}h++}if(s)(function g(){setTimeout(function(){if(h>m)return s();w()||g()},0)})();else for(;h<=m;){var E=w();if(E)return E}},pushComponent:function(n,r,i){var s=n[n.length-1];s&&s.added===r&&s.removed===i?n[n.length-1]={count:s.count+1,added:r,removed:i}:n.push({count:1,added:r,removed:i})},extractCommon:function(n,r,i,s){for(var c=r.length,l=i.length,u=n.newPos,d=u-s,h=0;u+1<c&&d+1<l&&this.equals(r[u+1],i[d+1]);)u++,d++,h++;return h&&n.components.push({count:h}),n.newPos=u,d},equals:function(n,r){return this.options.comparator?this.options.comparator(n,r):n===r||this.options.ignoreCase&&n.toLowerCase()===r.toLowerCase()},removeEmpty:function(n){for(var r=[],i=0;i<n.length;i++)n[i]&&r.push(n[i]);return r},castInput:function(n){return n},tokenize:function(n){return n.split("")},join:function(n){return n.join("")}};function Jx(e,n,r,i,s){for(var c=0,l=n.length,u=0,d=0;c<l;c++){var h=n[c];if(h.removed){if(h.value=e.join(i.slice(d,d+h.count)),d+=h.count,c&&n[c-1].added){var v=n[c-1];n[c-1]=n[c],n[c]=v}}else{if(!h.added&&s){var m=r.slice(u,u+h.count);m=m.map(function(w,E){var g=i[d+E];return g.length>w.length?g:w}),h.value=e.join(m)}else h.value=e.join(r.slice(u,u+h.count));u+=h.count,h.added||(d+=h.count)}}var y=n[l-1];return l>1&&typeof y.value=="string"&&(y.added||y.removed)&&e.equals("",y.value)&&(n[l-2].value+=y.value,n.pop()),n}function Qx(e){return{newPos:e.newPos,components:e.components.slice(0)}}var e2=new Sn;function es(e,n,r){return e2.diff(e,n,r)}var eh=/^[A-Za-z\xC0-\u02C6\u02C8-\u02D7\u02DE-\u02FF\u1E00-\u1EFF]+$/,th=/\S/,nh=new Sn;nh.equals=function(e,n){return this.options.ignoreCase&&(e=e.toLowerCase(),n=n.toLowerCase()),e===n||this.options.ignoreWhitespace&&!th.test(e)&&!th.test(n)},nh.tokenize=function(e){for(var n=e.split(/([^\S\r\n]+|[()[\]{}'"\r\n]|\b)/),r=0;r<n.length-1;r++)!n[r+1]&&n[r+2]&&eh.test(n[r])&&eh.test(n[r+2])&&(n[r]+=n[r+2],n.splice(r+1,2),r--);return n};var rh=new Sn;rh.tokenize=function(e){var n=[],r=e.split(/(\n|\r\n)/);r[r.length-1]||r.pop();for(var i=0;i<r.length;i++){var s=r[i];i%2&&!this.options.newlineIsToken?n[n.length-1]+=s:(this.options.ignoreWhitespace&&(s=s.trim()),n.push(s))}return n};var t2=new Sn;t2.tokenize=function(e){return e.split(/(\S.+?[.!?])(?=\s+|$)/)};var n2=new Sn;n2.tokenize=function(e){return e.split(/([{}:;,]|\s+)/)};function ts(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ts=function(n){return typeof n}:ts=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},ts(e)}var r2=Object.prototype.toString,Go=new Sn;Go.useLongestToken=!0,Go.tokenize=rh.tokenize,Go.castInput=function(e){var n=this.options,r=n.undefinedReplacement,i=n.stringifyReplacer,s=i===void 0?function(c,l){return typeof l>"u"?r:l}:i;return typeof e=="string"?e:JSON.stringify(yc(e,null,null,s),s,"  ")},Go.equals=function(e,n){return Sn.prototype.equals.call(Go,e.replace(/,([\r\n])/g,"$1"),n.replace(/,([\r\n])/g,"$1"))};function yc(e,n,r,i,s){n=n||[],r=r||[],i&&(e=i(s,e));var c;for(c=0;c<n.length;c+=1)if(n[c]===e)return r[c];var l;if(r2.call(e)==="[object Array]"){for(n.push(e),l=new Array(e.length),r.push(l),c=0;c<e.length;c+=1)l[c]=yc(e[c],n,r,i,s);return n.pop(),r.pop(),l}if(e&&e.toJSON&&(e=e.toJSON()),ts(e)==="object"&&e!==null){n.push(e),l={},r.push(l);var u=[],d;for(d in e)e.hasOwnProperty(d)&&u.push(d);for(u.sort(),c=0;c<u.length;c+=1)d=u[c],l[d]=yc(e[d],n,r,i,d);n.pop(),r.pop()}else l=e;return l}var ns=new Sn;ns.tokenize=function(e){return e.slice()},ns.join=ns.removeEmpty=function(e){return e};function Ko(e,n,r){return ns.diff(e,n,r)}class xc{constructor(n,r){Ys(this,"activeOptionIndex",null);Ys(this,"activeRowIndex",null);this.context=n,this.route=r}parseIndex(n){const r=this.activeOptionIndex!==null?this.activeOptionIndex:this.getNodeData().selectedOption;return n===void 0?r:n}getNodeId(){const[n,r]=this.route[this.route.length-1];return r}getNodeType(){const[n,r]=this.route[this.route.length-1];return n}getRoute(){return this.route}getNodeData(){const n=this.getNodeId(),r=this.context.data.nodes[n];if(!r)throw new Error(`no node options entry for ${n}`);return r}setNodeData(n){return this.context.setNode(this,n)}setNodeOptionData(n,r){return this.context.updateNodeOptionData(this.route,r,n)}getOptionContent(n){const r=this.parseIndex(n),i=this.getNodeData(),s=i.options[r];if(!s){const c=this.getNodeId();throw console.log("getOptionContent",c,r,i),new Error(`no node entry for ${c} - ${r}`)}return s}updateOptionData(n,r){const i=this.parseIndex(r),s=this.getNodeData(),c=s.options.slice(0,i),l=s.options.slice(i+1),u=c.concat(n?[n]:[]).concat(l);return{selectedOption:s.selectedOption,description:s.description,collapsed:s.collapsed,options:u}}updateNodeData(n){return this.getNodeId(),this.context.setNode(this,n)}getChildren(n){const r=this.parseIndex(n);return this.getOptionContent(r).content.map(([l,u])=>{const d=this.route.concat([[l,u]]);if(l==="task")return this.context.getNode(d);throw new Error(`unknown type ${l}`)})}isChildOf(n){const r=this.route;return n.route.every(([c,l],u)=>{var d,h;return c==((d=r[u])==null?void 0:d[0])&&l==((h=r[u])==null?void 0:h[1])})}getParent(n){if(n>this.route.length)throw new Error(`node does not have ${n} ancestors`);if(n===1){const r=this.route.slice(0,this.route.length-n),i=this.context.getNode(r);if(i.activeOptionIndex=i.getNodeData().selectedOption,i.getChildren().forEach((s,c)=>{s.getNodeId()===this.getNodeId()&&s.getNodeType()===this.getNodeType()&&(i.activeRowIndex=c)}),i.activeRowIndex===null)throw new Error("could not find child in parent");return[i,i.activeRowIndex,i.activeOptionIndex]}else{const[r,i,s]=this.getParent(n-1);return r.getParent(1)}}addOption(){return this.context.addOptionToNode(this.route)}deleteOption(n){const r=this.getNodeData();if(r.options.length===1)throw new Error("cannot delete last option");const i=r.selectedOption?r.selectedOption-1:0,s=r.options.slice(0,n),c=r.options.slice(n+1),l=s.concat(c),u={selectedOption:r.selectedOption===n?r.selectedOption:i,description:r.description,collapsed:r.collapsed,options:l};return this.context.setNode(this,u)}deleteRowByIndex(n,r){const i=this.parseIndex(r),s=this.getOptionContent(i),c=s.content.slice(0,n).concat(s.content.slice(n+1)),l={description:s.description,data:s.data,content:c};return this.updateOptionData(l,i)}deleteNode(){const[n]=this.getParent(1),r=n.getOptionContent(),i=r.content.filter(([c,l])=>c!==this.getNodeType()||l!==this.getNodeId()),s={...r,content:i};if(qi.isEqual(this.context.data.focus.route,this.route)){const c=this.moveFocusUp(-1);return c?c.setOptionOnNode(n.getRoute(),s):this.context.setOptionOnNode(n.getRoute(),s)}else return this.context.setOptionOnNode(n.getRoute(),s)}moveFocusUp(n){try{const[r,i,s]=this.getParent(1),c=r.getChildren(s);if(i===0){const l=r.getRoute(),u=r.getNodeData().description,d=n?n<0?u.length+n:n:this.context.data.focus.char;return this.context.setFocus(l,d)}else{const l=c[i-1],u=l.getNodeData(),d=l.getChildren();if(u.collapsed||d.length===0){const h=l.getRoute(),m=l.getNodeData().description,v=n?n<0?m.length+n:n:this.context.data.focus.char;return this.context.setFocus(h,v)}else{const h=l.getLastDescendent(),m=h.getRoute(),v=h.getNodeData().description,y=n?n<0?v.length+n:n:this.context.data.focus.char;return this.context.setFocus(m,y)}}}catch(r){console.log("moveFocusDown - no parent",r);return}}moveFocusDown(n=!1){if(!this.getNodeData().collapsed&&!n){const r=this.getChildren();if(r.length>0){const s=r[0].getRoute();return this.context.setFocus(s,this.context.data.focus.char)}}try{const[r,i,s]=this.getParent(1),c=r.getChildren(s);if(i===c.length-1)try{r.moveFocusDown(!0)}catch{return}else{const u=c[i+1].getRoute();return this.context.setFocus(u,this.context.data.focus.char)}}catch(r){console.log("moveFocusDown - no parent",r);return}}getLastDescendent(n=!0){const r=this.getChildren(),i=this.getNodeData().collapsed;return r.length===0||n&&i?this:r[r.length-1].getLastDescendent(n)}acceptMerge(){const n=this.getNodeData().mergeNode;if(!n)throw new Error("no merge node");if(!this.context.data.nodes[n])throw new Error("no merge node data");const[i,s,c]=this.getParent(1),l=i.getOptionContent(c);if(!l.content[s])throw console.log("acceptMerge - no current content",l,s,l.content),new Error("no current content");const u=l.content[s];if(!u)throw console.log("acceptMerge - no current content",l,s,l.content),new Error("no current content");const d=[u[0],n],h=l.content.slice(0,s),m=l.content.slice(s+1),v={...l,content:[...h,d,...m]},w=i.setNodeOptionData(c,v).getNode(this.route),g={...w.getNodeData(),mergeNode:void 0};return w.setNodeData(g)}rejectMerge(){const n=this.getNodeData().mergeNode;if(!n)throw new Error("no merge node");if(!this.context.data.nodes[n])throw new Error("no merge node data");const s={...this.getNodeData(),mergeNode:void 0};return this.setNodeData(s)}bothMerge(){const n=this.getNodeData().mergeNode;if(!n)throw new Error("no merge node");if(!this.context.data.nodes[n])throw new Error("no merge node data");const[i,s,c]=this.getParent(1),l=i.getOptionContent(c),u=l.content[s];if(!u)throw console.log("acceptMerge - no current content",l,s,l.content),new Error("no current content");const d=[u[0],n],h=l.content.slice(0,s+1),m=l.content.slice(s+1),v={...l,content:[...h,d,...m]},w=i.setNodeOptionData(c,v).getNode(this.route),g={...w.getNodeData(),mergeNode:void 0};return w.setNodeData(g)}getMergeOptions(){const n=this.getNodeData().options,r=this.mergeNodeData().options,i=Ko(n,r,{comparator:(u,d)=>oh(es(u.description,d.description))||oh(Ko(u.content,d.content))});let s=0,c=0;return i.reduce((u,d)=>{if(d.added){const h=d.value.map((m,v)=>{const y=c+v,w=r[y];if(!w)throw new Error("no merge node option");const E=w.description,g=w.content;return{description:es(E,E),content:Ko(g,g,{comparator:(x,$)=>x[0]===$[0]&&x[1]===$[1]})}});return c=d.count?c+d.count:c,[...u,...h]}else if(d.removed){const h=d.value.map((m,v)=>{const y=s+v,w=n[y];if(!w)throw new Error("no merge node option");const E=w.description,g=w.content;return{description:es(E,E),content:Ko(g,g,{comparator:(x,$)=>x[0]===$[0]&&x[1]===$[1]})}});return s=d.count?s+d.count:s,[...u,...h]}else{const h=d.value.map((m,v)=>{const y=c+v,w=r[y];if(!w)throw new Error("no merge node option");const E=w.description,g=w.content,x=s+v,$=n[x];if(!$)throw new Error("no merge node option");const P=$.description,S=$.content;return{description:es(P,E),content:Ko(S,g,{comparator:(_,A)=>_[0]===A[0]&&_[1]===A[1]})}});return s=d.count?s+d.count:s,[...u,...h]}},[])}hasMerge(){const n=this.getNodeData(),r=!!n.mergeNode,i=n.mergeNode?!qi.isEqual(n,this.context.data.nodes[n.mergeNode]||{}):!1;return r&&i}getMergedIndex(){const n=this.getNodeData(),r=n.mergeNode;if(!r)throw new Error("no merge node");const i=this.context.data.nodes[r];if(!i)throw new Error("no merge node data");const s=n.selectedOption,c=i.selectedOption;return c||s}getMergeChildren(n){n||(n=this.getMergedIndex());const i=this.getMergeOptions()[n];if(!i)throw new Error("no merged option");return i.content.reduce((l,u)=>{const d=u.value.map(([m,v])=>{const y=this.route.concat([[m,v]]);return{...u.added?{added:!0}:{},...u.removed?{removed:!0}:{},node:this.context.getNode(y)}});return[...l,...d]},[])}mergeNodeData(){const n=this.getNodeData().mergeNode;if(!n)throw new Error("no merge node");const r=this.context.data.nodes[n];if(!r)throw new Error("no merge node data");return r}mergeNodeContent(){const n=this.mergeNodeData(),r=n.selectedOption,i=n.options[r];if(!i)throw console.log("getMergeDescription - no merge content",i),new Error("no merge content");return i}setPath(n){return Object.keys(n).reduce((i,s,c)=>{const l=i.getNode(this.getRoute()),u=l.getChildren();if(u.length===0){if(!n[s])throw console.log("path is not valid - key not found",n,s),new Error("path is not valid - key not found");if(Object.keys(n[s]||{}).length!==0)throw console.log("path is not valid - key not empty at leaf",n,s),new Error("path is not valid");const d=parseInt(s);return l.setNodeData({...l.getNodeData(),selectedOption:d})}else{const d=n[s];if(!d)throw console.log("path is not valid - key not found",n,s),new Error("path is not valid - key not found");if(d.length!==u.length)throw console.log("path is not valid - selections length different from children length",d.length,u.length,n,s,this.getNodeId()),new Error("path is not valid");const m=u.reduce((y,w,E)=>{const g=y.getNode(w.getRoute()),x=d[E];if(!x)throw console.log("path is not valid - selection not found for child",n,s),new Error("path is not valid - selection not found for child");const $=Object.keys(x);if($.length!==1)throw console.log("path is not valid - selection keys length not 1",$,n,s),new Error("path is not valid");return g.setPath(x)},i).getNode(l.getRoute());return m.setNodeData({...m.getNodeData(),selectedOption:parseInt(s)})}},this.context)}setData(n,r){const i=this.parseIndex(r),s=this.getOptionContent(i),c={...s,data:{...s.data,...n}};return this.setNodeOptionData(i,c)}getData(n){const r=this.parseIndex(n);return this.getOptionContent(r).data||{}}}const oh=e=>{if(e.length===void 0||isNaN(e.length))throw new Error("diff array is empty");const{total:n,changed:r}=e.reduce((i,s)=>({changed:s.added||s.removed?i.changed+1:i.changed,total:i.total+1}),{total:0,changed:0});return r/n<.5};class Ro{constructor(n,r){Ys(this,"locked",!1);if(this.data=n,this.updateData=r,!n.nodes)throw console.log("FosContext - no nodes",n),new Error("no nodes")}setNodes(n,r,i){if(!this.data.nodes)throw console.log("setNodes - no nodes",this.data),new Error("no nodes");const s={...this.data,nodes:n,focus:r||this.data.focus,trail:i||this.data.trail};this.locked=!0;const c=new Ro(s,this.updateData);return this.updateData(s),this.locked=!1,c}setTrail(n){const r={...this.data,trail:n};return this.updateData(r),new Ro(r,this.updateData)}setFocus(n,r){const i={...this.data,focus:{route:n,char:r}};return this.updateData(i),new Ro(i,this.updateData)}getNode(n){return new xc(this,n)}setNode(n,r){const i=n.getNodeId(),s={...this.data.nodes,[i]:r};return this.setNodes(s)}insertNode(n,r,i){const s=this.newId(n),c={...this.data.nodes,[s]:n};return[this.setNodes(c),s]}updateNodeAtRoute(n,r){const s=new xc(this,n).getNodeId(),c={...this.data.nodes,[s]:r};return this.setNodes(c)}updateNodeOptionData(n,r,i){const c=this.getNode(n).updateOptionData(r,i);return this.updateNodeAtRoute(n,c)}getNodeOptionsAndObj(n){const r=new xc(this,n),i=r.getNodeData(),s=r.getOptionContent();return[i,s,i.selectedOption]}newId(n){return crypto.randomUUID()}addNewTaskToOption(n,r,i){const s=this.getNode(n),c={selectedOption:0,collapsed:!1,description:"",options:[{description:"",data:{},content:[]}]},l=this.newId(c),u=s.getOptionContent(i),d=r===void 0?u.content.length:r,h=u.content.slice(0,d+1),m=u.content.slice(d+1),v=["task",l],y=h.concat([v]).concat(m),w={...u,content:y},E=s.updateOptionData(w,i),g=s.getNodeId(),x=n.concat([v]),$={...this.data.nodes,[g]:E,[l]:c};return console.log("route",n,x),this.setNodes($,{route:x,char:0})}setOptionOnNode(n,r,i){const s=this.getNode(n),c=s.updateOptionData(r,i),l=this.setNode(s,c);return console.log("newNodes",l),l}addOptionToNode(n,r,i){const s=this.getNode(n),c=i===void 0?s.getNodeData().options.length:i,l=s.getNodeData(),u={description:"",data:{},content:[],...r},d=l.options.slice(0,c),h=l.options.slice(c),m={...l,selectedOption:c,options:d.concat([u]).concat(h)},v=s.updateNodeData(m);return console.log("newNodes",v),this.setNodes(v.data.nodes)}moveNodeLeft(n){const r=this.getNode(n),[i,s,c]=r.getParent(1),[l,u,d]=r.getParent(2),h=i.getOptionContent(c),m=h.content.slice(0,s).concat(h.content.slice(s+1)),v={...h,content:m},y=l.getOptionContent(d),w=y.content.slice(0,u+1),E=y.content.slice(u+1),g=w.concat([[r.getNodeType(),r.getNodeId()]]).concat(E),x={...y,content:g};console.log("moveNodeLeft",x,v);const P=this.setOptionOnNode(l.getRoute(),x,d).setOptionOnNode(i.getRoute(),v,c);this.setNodes(P.data.nodes)}addYoungerSibling(n){console.log("addYoungerSibling",n);const r=this.getNode(n),[i,s,c]=r.getParent(1),l=this.addNewTaskToOption(i.getRoute(),s,c);this.setNodes(l.data.nodes,l.data.focus,l.data.trail)}moveNodeRight(n){const r=this.getNode(n),[i,s,c]=r.getParent(1);if(s>0){const l=i.getChildren(c)[s-1],u=l.getOptionContent(),d=u.content.concat([[r.getNodeType(),r.getNodeId()]]),h={...u,content:d},m=i.getOptionContent(c),v=m.content.slice(0,s).concat(m.content.slice(s+1)),y={...m,content:v};console.log("MoveNodeRight",v,d,h,y);const E=this.setOptionOnNode(l.getRoute(),h).setOptionOnNode(i.getRoute(),y,c);this.setNodes(E.data.nodes)}else throw new Error("cannot move right")}moveNodeUp(n){throw new Error("not implemented")}moveNodeDown(n){throw new Error("not implemented")}removeNodeFromParent(n){throw new Error("not implemented")}deleteOption(n,r){throw new Error("not implemented")}deleteNode(n){throw new Error("not implemented")}snipNode(n){throw new Error("not implemented")}deserializeTrailFromUrl(n){const[r,...i]=n.split("/").filter(m=>m!==""),s=[["root","root"]];if(!this.getNode(s).getNodeData().options[parseInt(r||"0")])throw new Error("firstNodeOption not found");return i.reduce((m,v)=>{const[y,w]=v.split("-").map(S=>parseInt(S));if(!y||isNaN(y)||!w||isNaN(w))throw console.log("invalid row",v,n,r,i),new Error("invalid row");const g=this.getNode(m).getNodeData(),[x,$]=g.options.reduce((S,_)=>{if(y<_.content.length){const A=_.content[y];if(!A)throw new Error("row not found");return[0,A]}else return[S[0]-_.content.length,null]},[y,null]);return[...m,$]},s)}serializeTrailToUrl(n){const[r,...i]=n,s=this.getNode([r]).getNodeData(),l=`${s.selectedOption}/`,[u,d]=i.reduce((h,[m,v],y)=>{const w=[r,...n.slice(0,y+1)],E=this.getNode(w).getNodeData(),g=E.selectedOption,x=E.options.reduce((S,_,A)=>A<g?S+_.content.length:A===g?S+_.content.findIndex(([k,T])=>k===k&&T===T):S,0),$=this.getNode(w).getNodeData();return[`${h}${x}-${E.selectedOption}/`,$]},[l,s]);return u}addChildrenToNode(n,r,i){console.log("addChildrenToNode1");const s=n.parseIndex(i),c=n.getNodeData();console.log("addChildrenToNode2");const l=c.options.slice(0,s),u=c.options.slice(s+1),d=n.getOptionContent(s),[h,m]=r.reduce((x,$)=>{const[P,S]=x[0].insertNode($,n.getRoute(),s);return console.log("addChildrenToNode3"),[P,x[1].concat([[n.getNodeType(),S]])]},[this,[]]);console.log("addChildrenToNode4",h,m);const v={...d,content:[...d.content,...m]},y=[...l,v,...u];console.log("addChildrenToNode5",v,y);const w={selectedOption:c.selectedOption,description:c.description,collapsed:c.collapsed,options:y};console.log("addChildrenToNod6",w);const E=h.getNode(n.getRoute()),g=E.setNodeData(w);return console.log("addChildrenToNode7",E.context.data,g),this.setNodes(g.data.nodes)}moveNodeToTopChild(n,r,i){const s=r.parseIndex(i),c=[n.getNodeType(),n.getNodeId()],l=r.getOptionContent(s),u={...l,content:[c,...l.content]},m=r.setNodeOptionData(s,u).getNode(n.getRoute()).deleteNode();return this.setNodes(m.data.nodes)}moveNodeToOlderSibling(n,r,i){r.parseIndex(i);const s=[n.getNodeType(),n.getNodeId()],[c,l,u]=r.getParent(1),d=c.getOptionContent(u),h=l,m=d.content.slice(0,h),v=d.content.slice(h),y=m.concat([s]).concat(v),w=y.filter((x,$)=>$===h?!0:x[0]!==n.getNodeType()||x[1]!==n.getNodeId());console.log("moveNodeToOlderSibling",w,h,y,m,v);const E={...d,content:w},g=c.setNodeOptionData(u,E);return this.setNodes(g.data.nodes)}moveNodeToYoungerSibling(n,r,i){r.parseIndex(i);const s=[n.getNodeType(),n.getNodeId()],[c,l,u]=r.getParent(1),d=c.getOptionContent(u),h=l+1,m=d.content.slice(0,h),v=d.content.slice(h),w=m.concat([s]).concat(v).filter((x,$)=>$===h?!0:x[0]!==n.getNodeType()||x[1]!==n.getNodeId()),E={...d,content:w},g=c.setNodeOptionData(u,E);return this.setNodes(g.data.nodes)}}const o2={nodes:{root:{selectedOption:0,collapsed:!1,description:"root",options:[{description:"My Goals",data:{},content:[["task","startTask"]]}]},startTask:{selectedOption:0,collapsed:!1,description:"startTask",options:[{description:"",data:{},content:[]}]}},trail:[["root","root"]],focus:{route:[["root","root"]],char:0},previousHash:""},i2=({data:e,setData:n,options:r})=>{const i=p.useMemo(()=>{console.log("creating new context",e==null?void 0:e.nodes,e==null?void 0:e.focus);const $=e||o2;return new Ro($,n)},[e,n]),[s,c]=p.useState(null),[l,u]=p.useState(null),d=dy(tc(ic,{activationConstraint:{delay:250,tolerance:5}}),tc(rc,{coordinateGetter:jx}),tc(Df,{activationConstraint:{delay:250,tolerance:5}})),h=($,P)=>{var q;if(!$||!P)return null;const S=P.rect.current.translated;if(!S)return null;const _=(l==null?void 0:l.position)||"on",A=_==="below"?1:_==="above"?-1:0,k=S.top+S.height/2+A*12,T=$.rect.top+$.rect.height/2,M=S.height/5,U=k<T-M,R=k>T+M,X=!U&&!R;U&&console.log("above",$.id),R&&console.log("below",$.id),X&&console.log("on",$.id);const Z=X?"on":U?"above":"below";return{id:$.id,position:Z,node:(q=$.data.current)==null?void 0:q.node}};function m($){const{active:P}=$;P&&P.data.current&&c({id:P.id,node:P.data.current.node})}function v($){const{over:P,active:S}=$,_=h(P,S);_&&(_.id!==(l==null?void 0:l.id)||_.position!==(l==null?void 0:l.position))&&u(_)}function y($){const{active:P,over:S}=$;console.log("drag end",P,S,$,l);const _=l;if(console.log("dragInfo",l),!S||!S.data.current){c(null),u(null);return}if(!P||!P.data.current){c(null),u(null);return}if(P.id===(S==null?void 0:S.id)){c(null),u(null);return}if(!l)throw new Error("no dragInfo, but over is not null");const A=P.data.current.node,k=S.data.current.node;(_==null?void 0:_.position)==="on"?i.moveNodeToTopChild(A,k):(_==null?void 0:_.position)==="above"?i.moveNodeToOlderSibling(A,k):(_==null?void 0:_.position)==="below"&&i.moveNodeToYoungerSibling(A,k),c(null),u(null)}const w=i.data.trail,E=$=>{i.setTrail($)},g=i.getNode(w),x=$=>{var S,_;if(!$.active.rect.current.translated||!$.active.rect.current.initial)return[];if(!$.active.rect.current.translated)return[];const P=$.droppableContainers.map(A=>{if(!A.rect.current)return null;A.rect.current.top;const k=A.rect.current.top+12;A.rect.current.top+A.rect.current.height;const T=A.rect.current.top+A.rect.current.height-12;A.rect.current.top+A.rect.current.height/3,$.active.rect.current.translated.top,$.active.rect.current.translated.top+$.active.rect.current.translated.height;const M=$.active.rect.current.translated.top+$.active.rect.current.translated.height/2;return M>k&&M<T?A:null}).filter(A=>A!==null);if(P.length>1){const A=((S=$.active.rect.current.translated)==null?void 0:S.left)-((_=$.active.rect.current.initial)==null?void 0:_.left)/window.innerWidth,k=P.filter(R=>R!==null&&R.rect.current).map(R=>R.rect.current.width+10).reduce((R,X)=>R+X),T=k<window.innerWidth?k:window.innerWidth,[M,U]=P.reduce((R,X)=>{if(!X||!X.rect.current||!$.active.rect.current.translated||!$.active.rect.current.initial)return R;const oe=X.rect.current.left+X.rect.current.width/2-T/2,q=Math.abs(oe-A);return R[0]<q?R:[q,X]},[window.innerWidth,null]);return U===null?[]:[{id:U.id}]}else return P[0]?[{id:P[0].id}]:[]};return C.jsx(xy,{sensors:d,collisionDetection:x,onDragStart:m,onDragEnd:y,onDragOver:v,children:C.jsxs("div",{className:"w-full",children:[C.jsx("div",{className:"flex w-full px-3 items-center overflow-x-scroll no-scrollbar",children:w.length>1&&w.map(($,P)=>{const S=w.slice(0,P+1);return C.jsx(s2,{index:P,breadcrumbTrail:S,item:$,trail:w,context:i,setTrail:E,dragging:s,dragOverInfo:l},P)})}),C.jsx("div",{className:"w-full",children:g.hasMerge()?C.jsx(Yx,{context:i,node:g,dragging:s,dragOverInfo:l,options:r||{}}):C.jsx(Gx,{context:i,node:g,dragging:s,dragOverInfo:l,options:r||{}})})]})})},s2=({index:e,breadcrumbTrail:n,item:r,trail:i,context:s,dragging:c,dragOverInfo:l,setTrail:u})=>{const d=s.getNode(n),h=d.getNodeId(),m=d.getNodeType(),{isOver:v,setNodeRef:y,node:w}=cc({id:`${m}-${h}`,data:{node:d}}),g=s.getNode(n).getOptionContent(),x=g.description.length>20?g.description.slice(0,17)+"...":g.description,$=n.length===1?C.jsx(Ug,{}):x,P=()=>{u(n)};return C.jsx("div",{className:v?"scale-110 py-0 px-1":"py-2 px-1",ref:y,children:C.jsx(ye,{onClick:P,variant:"secondary",disabled:e===i.length-1,children:$},e+1)})};return i2});
